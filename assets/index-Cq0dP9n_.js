function AE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ig(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var CE={exports:{}},zh={},xE={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cu=Symbol.for("react.element"),CC=Symbol.for("react.portal"),xC=Symbol.for("react.fragment"),PC=Symbol.for("react.strict_mode"),RC=Symbol.for("react.profiler"),kC=Symbol.for("react.provider"),DC=Symbol.for("react.context"),VC=Symbol.for("react.forward_ref"),NC=Symbol.for("react.suspense"),OC=Symbol.for("react.memo"),MC=Symbol.for("react.lazy"),u_=Symbol.iterator;function LC(t){return t===null||typeof t!="object"?null:(t=u_&&t[u_]||t["@@iterator"],typeof t=="function"?t:null)}var PE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RE=Object.assign,kE={};function pa(t,e,n){this.props=t,this.context=e,this.refs=kE,this.updater=n||PE}pa.prototype.isReactComponent={};pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DE(){}DE.prototype=pa.prototype;function og(t,e,n){this.props=t,this.context=e,this.refs=kE,this.updater=n||PE}var sg=og.prototype=new DE;sg.constructor=og;RE(sg,pa.prototype);sg.isPureReactComponent=!0;var c_=Array.isArray,VE=Object.prototype.hasOwnProperty,ag={current:null},NE={key:!0,ref:!0,__self:!0,__source:!0};function OE(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)VE.call(e,r)&&!NE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:cu,type:t,key:o,ref:s,props:i,_owner:ag.current}}function FC(t,e){return{$$typeof:cu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lg(t){return typeof t=="object"&&t!==null&&t.$$typeof===cu}function BC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var h_=/\/+/g;function lf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BC(""+t.key):e.toString(36)}function Sc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case cu:case CC:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+lf(s,0):r,c_(i)?(n="",t!=null&&(n=t.replace(h_,"$&/")+"/"),Sc(i,e,n,"",function(c){return c})):i!=null&&(lg(i)&&(i=FC(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(h_,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",c_(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+lf(o,a);s+=Sc(o,e,n,u,i)}else if(u=LC(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+lf(o,a++),s+=Sc(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Uu(t,e,n){if(t==null)return t;var r=[],i=0;return Sc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function $C(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var an={current:null},Tc={transition:null},jC={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:Tc,ReactCurrentOwner:ag};function ME(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Uu,forEach:function(t,e,n){Uu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uu(t,function(){e++}),e},toArray:function(t){return Uu(t,function(e){return e})||[]},only:function(t){if(!lg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=pa;_e.Fragment=xC;_e.Profiler=RC;_e.PureComponent=og;_e.StrictMode=PC;_e.Suspense=NC;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jC;_e.act=ME;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=RE({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ag.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)VE.call(e,u)&&!NE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:cu,type:t.type,key:i,ref:o,props:r,_owner:s}};_e.createContext=function(t){return t={$$typeof:DC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kC,_context:t},t.Consumer=t};_e.createElement=OE;_e.createFactory=function(t){var e=OE.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:VC,render:t}};_e.isValidElement=lg;_e.lazy=function(t){return{$$typeof:MC,_payload:{_status:-1,_result:t},_init:$C}};_e.memo=function(t,e){return{$$typeof:OC,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=Tc.transition;Tc.transition={};try{t()}finally{Tc.transition=e}};_e.unstable_act=ME;_e.useCallback=function(t,e){return an.current.useCallback(t,e)};_e.useContext=function(t){return an.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return an.current.useDeferredValue(t)};_e.useEffect=function(t,e){return an.current.useEffect(t,e)};_e.useId=function(){return an.current.useId()};_e.useImperativeHandle=function(t,e,n){return an.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return an.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return an.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return an.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return an.current.useReducer(t,e,n)};_e.useRef=function(t){return an.current.useRef(t)};_e.useState=function(t){return an.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return an.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return an.current.useTransition()};_e.version="18.3.1";xE.exports=_e;var $=xE.exports;const ve=ig($),ug=AE({__proto__:null,default:ve},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC=$,UC=Symbol.for("react.element"),WC=Symbol.for("react.fragment"),qC=Object.prototype.hasOwnProperty,HC=zC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GC={key:!0,ref:!0,__self:!0,__source:!0};function LE(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)qC.call(e,r)&&!GC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:UC,type:t,key:o,ref:s,props:i,_owner:HC.current}}zh.Fragment=WC;zh.jsx=LE;zh.jsxs=LE;CE.exports=zh;var Je=CE.exports,lp={},FE={exports:{}},Vn={},BE={exports:{}},$E={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,U){var Q=O.length;O.push(U);e:for(;0<Q;){var Y=Q-1>>>1,Z=O[Y];if(0<i(Z,U))O[Y]=U,O[Q]=Z,Q=Y;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var U=O[0],Q=O.pop();if(Q!==U){O[0]=Q;e:for(var Y=0,Z=O.length,de=Z>>>1;Y<de;){var we=2*(Y+1)-1,Ne=O[we],ze=we+1,Oe=O[ze];if(0>i(Ne,Q))ze<Z&&0>i(Oe,Ne)?(O[Y]=Oe,O[ze]=Q,Y=ze):(O[Y]=Ne,O[we]=Q,Y=we);else if(ze<Z&&0>i(Oe,Q))O[Y]=Oe,O[ze]=Q,Y=ze;else break e}}return U}function i(O,U){var Q=O.sortIndex-U.sortIndex;return Q!==0?Q:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],h=1,f=null,p=3,w=!1,A=!1,C=!1,D=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=O)r(c),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(c)}}function x(O){if(C=!1,_(O),!A)if(n(u)!==null)A=!0,q(N);else{var U=n(c);U!==null&&W(x,U.startTime-O)}}function N(O,U){A=!1,C&&(C=!1,S(y),y=-1),w=!0;var Q=p;try{for(_(U),f=n(u);f!==null&&(!(f.expirationTime>U)||O&&!P());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,p=f.priorityLevel;var Z=Y(f.expirationTime<=U);U=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(u)&&r(u),_(U)}else r(u);f=n(u)}if(f!==null)var de=!0;else{var we=n(c);we!==null&&W(x,we.startTime-U),de=!1}return de}finally{f=null,p=Q,w=!1}}var M=!1,v=null,y=-1,I=5,b=-1;function P(){return!(t.unstable_now()-b<I)}function R(){if(v!==null){var O=t.unstable_now();b=O;var U=!0;try{U=v(!0,O)}finally{U?T():(M=!1,v=null)}}else M=!1}var T;if(typeof g=="function")T=function(){g(R)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,he=re.port2;re.port1.onmessage=R,T=function(){he.postMessage(null)}}else T=function(){D(R,0)};function q(O){v=O,M||(M=!0,T())}function W(O,U){y=D(function(){O(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){A||w||(A=!0,q(N))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var Q=p;p=U;try{return O()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Q=p;p=O;try{return U()}finally{p=Q}},t.unstable_scheduleCallback=function(O,U,Q){var Y=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Y+Q:Y):Q=Y,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Q+Z,O={id:h++,callback:U,priorityLevel:O,startTime:Q,expirationTime:Z,sortIndex:-1},Q>Y?(O.sortIndex=Q,e(c,O),n(u)===null&&O===n(c)&&(C?(S(y),y=-1):C=!0,W(x,Q-Y))):(O.sortIndex=Z,e(u,O),A||w||(A=!0,q(N))),O},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(O){var U=p;return function(){var Q=p;p=U;try{return O.apply(this,arguments)}finally{p=Q}}}})($E);BE.exports=$E;var KC=BE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC=$,kn=KC;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jE=new Set,bl={};function qo(t,e){js(t,e),js(t+"Capture",e)}function js(t,e){for(bl[t]=e,t=0;t<e.length;t++)jE.add(e[t])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),up=Object.prototype.hasOwnProperty,XC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d_={},f_={};function YC(t){return up.call(f_,t)?!0:up.call(d_,t)?!1:XC.test(t)?f_[t]=!0:(d_[t]=!0,!1)}function JC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZC(t,e,n,r){if(e===null||typeof e>"u"||JC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var cg=/[\-:]([a-z])/g;function hg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cg,hg);zt[e]=new ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cg,hg);zt[e]=new ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cg,hg);zt[e]=new ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new ln(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function dg(t,e,n,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZC(e,n,i,r)&&(n=null),r||i===null?YC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kr=QC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wu=Symbol.for("react.element"),_s=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),fg=Symbol.for("react.strict_mode"),cp=Symbol.for("react.profiler"),zE=Symbol.for("react.provider"),UE=Symbol.for("react.context"),pg=Symbol.for("react.forward_ref"),hp=Symbol.for("react.suspense"),dp=Symbol.for("react.suspense_list"),mg=Symbol.for("react.memo"),li=Symbol.for("react.lazy"),WE=Symbol.for("react.offscreen"),p_=Symbol.iterator;function Fa(t){return t===null||typeof t!="object"?null:(t=p_&&t[p_]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,uf;function Za(t){if(uf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);uf=e&&e[1]||""}return`
`+uf+t}var cf=!1;function hf(t,e){if(!t||cf)return"";cf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{cf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Za(t):""}function ex(t){switch(t.tag){case 5:return Za(t.type);case 16:return Za("Lazy");case 13:return Za("Suspense");case 19:return Za("SuspenseList");case 0:case 2:case 15:return t=hf(t.type,!1),t;case 11:return t=hf(t.type.render,!1),t;case 1:return t=hf(t.type,!0),t;default:return""}}function fp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ws:return"Fragment";case _s:return"Portal";case cp:return"Profiler";case fg:return"StrictMode";case hp:return"Suspense";case dp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UE:return(t.displayName||"Context")+".Consumer";case zE:return(t._context.displayName||"Context")+".Provider";case pg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mg:return e=t.displayName||null,e!==null?e:fp(t.type)||"Memo";case li:e=t._payload,t=t._init;try{return fp(t(e))}catch{}}return null}function tx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fp(e);case 8:return e===fg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nx(t){var e=qE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qu(t){t._valueTracker||(t._valueTracker=nx(t))}function HE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pp(t,e){var n=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function m_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function GE(t,e){e=e.checked,e!=null&&dg(t,"checked",e,!1)}function mp(t,e){GE(t,e);var n=Pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gp(t,e.type,n):e.hasOwnProperty("defaultValue")&&gp(t,e.type,Pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function g_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gp(t,e,n){(e!=="number"||Yc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var el=Array.isArray;function Vs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(el(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pi(n)}}function KE(t,e){var n=Pi(e.value),r=Pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function v_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hu,XE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hu=Hu||document.createElement("div"),Hu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rx=["Webkit","ms","Moz","O"];Object.keys(al).forEach(function(t){rx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),al[e]=al[t]})});function YE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||al.hasOwnProperty(t)&&al[t]?(""+e).trim():e+"px"}function JE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=YE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ix=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _p(t,e){if(e){if(ix[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function wp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ep=null;function gg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sp=null,Ns=null,Os=null;function __(t){if(t=fu(t)){if(typeof Sp!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Gh(e),Sp(t.stateNode,t.type,e))}}function ZE(t){Ns?Os?Os.push(t):Os=[t]:Ns=t}function e1(){if(Ns){var t=Ns,e=Os;if(Os=Ns=null,__(t),e)for(t=0;t<e.length;t++)__(e[t])}}function t1(t,e){return t(e)}function n1(){}var df=!1;function r1(t,e,n){if(df)return t(e,n);df=!0;try{return t1(t,e,n)}finally{df=!1,(Ns!==null||Os!==null)&&(n1(),e1())}}function Cl(t,e){var n=t.stateNode;if(n===null)return null;var r=Gh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var Tp=!1;if($r)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){Tp=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{Tp=!1}function ox(t,e,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var ll=!1,Jc=null,Zc=!1,Ip=null,sx={onError:function(t){ll=!0,Jc=t}};function ax(t,e,n,r,i,o,s,a,u){ll=!1,Jc=null,ox.apply(sx,arguments)}function lx(t,e,n,r,i,o,s,a,u){if(ax.apply(this,arguments),ll){if(ll){var c=Jc;ll=!1,Jc=null}else throw Error(X(198));Zc||(Zc=!0,Ip=c)}}function Ho(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function i1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w_(t){if(Ho(t)!==t)throw Error(X(188))}function ux(t){var e=t.alternate;if(!e){if(e=Ho(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return w_(i),t;if(o===r)return w_(i),e;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function o1(t){return t=ux(t),t!==null?s1(t):null}function s1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=s1(t);if(e!==null)return e;t=t.sibling}return null}var a1=kn.unstable_scheduleCallback,E_=kn.unstable_cancelCallback,cx=kn.unstable_shouldYield,hx=kn.unstable_requestPaint,gt=kn.unstable_now,dx=kn.unstable_getCurrentPriorityLevel,yg=kn.unstable_ImmediatePriority,l1=kn.unstable_UserBlockingPriority,eh=kn.unstable_NormalPriority,fx=kn.unstable_LowPriority,u1=kn.unstable_IdlePriority,Uh=null,Er=null;function px(t){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(Uh,t,void 0,(t.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:yx,mx=Math.log,gx=Math.LN2;function yx(t){return t>>>=0,t===0?32:31-(mx(t)/gx|0)|0}var Gu=64,Ku=4194304;function tl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function th(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=tl(a):(o&=s,o!==0&&(r=tl(o)))}else s=n&~i,s!==0?r=tl(s):o!==0&&(r=tl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ar(e),i=1<<n,r|=t[n],e&=~i;return r}function vx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _x(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ar(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=vx(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function bp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function c1(){var t=Gu;return Gu<<=1,!(Gu&4194240)&&(Gu=64),t}function ff(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ar(e),t[e]=n}function wx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ar(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function vg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ar(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function h1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var d1,_g,f1,p1,m1,Ap=!1,Qu=[],_i=null,wi=null,Ei=null,xl=new Map,Pl=new Map,ci=[],Ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S_(t,e){switch(t){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(e.pointerId)}}function $a(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=fu(e),e!==null&&_g(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Sx(t,e,n,r,i){switch(e){case"focusin":return _i=$a(_i,t,e,n,r,i),!0;case"dragenter":return wi=$a(wi,t,e,n,r,i),!0;case"mouseover":return Ei=$a(Ei,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return xl.set(o,$a(xl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pl.set(o,$a(Pl.get(o)||null,t,e,n,r,i)),!0}return!1}function g1(t){var e=po(t.target);if(e!==null){var n=Ho(e);if(n!==null){if(e=n.tag,e===13){if(e=i1(n),e!==null){t.blockedOn=e,m1(t.priority,function(){f1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ep=r,n.target.dispatchEvent(r),Ep=null}else return e=fu(n),e!==null&&_g(e),t.blockedOn=n,!1;e.shift()}return!0}function T_(t,e,n){Ic(t)&&n.delete(e)}function Tx(){Ap=!1,_i!==null&&Ic(_i)&&(_i=null),wi!==null&&Ic(wi)&&(wi=null),Ei!==null&&Ic(Ei)&&(Ei=null),xl.forEach(T_),Pl.forEach(T_)}function ja(t,e){t.blockedOn===e&&(t.blockedOn=null,Ap||(Ap=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,Tx)))}function Rl(t){function e(i){return ja(i,t)}if(0<Qu.length){ja(Qu[0],t);for(var n=1;n<Qu.length;n++){var r=Qu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_i!==null&&ja(_i,t),wi!==null&&ja(wi,t),Ei!==null&&ja(Ei,t),xl.forEach(e),Pl.forEach(e),n=0;n<ci.length;n++)r=ci[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ci.length&&(n=ci[0],n.blockedOn===null);)g1(n),n.blockedOn===null&&ci.shift()}var Ms=Kr.ReactCurrentBatchConfig,nh=!0;function Ix(t,e,n,r){var i=Fe,o=Ms.transition;Ms.transition=null;try{Fe=1,wg(t,e,n,r)}finally{Fe=i,Ms.transition=o}}function bx(t,e,n,r){var i=Fe,o=Ms.transition;Ms.transition=null;try{Fe=4,wg(t,e,n,r)}finally{Fe=i,Ms.transition=o}}function wg(t,e,n,r){if(nh){var i=Cp(t,e,n,r);if(i===null)Tf(t,e,r,rh,n),S_(t,r);else if(Sx(i,t,e,n,r))r.stopPropagation();else if(S_(t,r),e&4&&-1<Ex.indexOf(t)){for(;i!==null;){var o=fu(i);if(o!==null&&d1(o),o=Cp(t,e,n,r),o===null&&Tf(t,e,r,rh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Tf(t,e,r,null,n)}}var rh=null;function Cp(t,e,n,r){if(rh=null,t=gg(r),t=po(t),t!==null)if(e=Ho(t),e===null)t=null;else if(n=e.tag,n===13){if(t=i1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rh=t,null}function y1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dx()){case yg:return 1;case l1:return 4;case eh:case fx:return 16;case u1:return 536870912;default:return 16}default:return 16}}var pi=null,Eg=null,bc=null;function v1(){if(bc)return bc;var t,e=Eg,n=e.length,r,i="value"in pi?pi.value:pi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return bc=i.slice(t,1<r?1-r:void 0)}function Ac(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xu(){return!0}function I_(){return!1}function Nn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xu:I_,this.isPropagationStopped=I_,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),e}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sg=Nn(ma),du=ut({},ma,{view:0,detail:0}),Ax=Nn(du),pf,mf,za,Wh=ut({},du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==za&&(za&&t.type==="mousemove"?(pf=t.screenX-za.screenX,mf=t.screenY-za.screenY):mf=pf=0,za=t),pf)},movementY:function(t){return"movementY"in t?t.movementY:mf}}),b_=Nn(Wh),Cx=ut({},Wh,{dataTransfer:0}),xx=Nn(Cx),Px=ut({},du,{relatedTarget:0}),gf=Nn(Px),Rx=ut({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),kx=Nn(Rx),Dx=ut({},ma,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vx=Nn(Dx),Nx=ut({},ma,{data:0}),A_=Nn(Nx),Ox={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lx[t])?!!e[t]:!1}function Tg(){return Fx}var Bx=ut({},du,{key:function(t){if(t.key){var e=Ox[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ac(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tg,charCode:function(t){return t.type==="keypress"?Ac(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ac(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$x=Nn(Bx),jx=ut({},Wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C_=Nn(jx),zx=ut({},du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tg}),Ux=Nn(zx),Wx=ut({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),qx=Nn(Wx),Hx=ut({},Wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gx=Nn(Hx),Kx=[9,13,27,32],Ig=$r&&"CompositionEvent"in window,ul=null;$r&&"documentMode"in document&&(ul=document.documentMode);var Qx=$r&&"TextEvent"in window&&!ul,_1=$r&&(!Ig||ul&&8<ul&&11>=ul),x_=" ",P_=!1;function w1(t,e){switch(t){case"keyup":return Kx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Es=!1;function Xx(t,e){switch(t){case"compositionend":return E1(e);case"keypress":return e.which!==32?null:(P_=!0,x_);case"textInput":return t=e.data,t===x_&&P_?null:t;default:return null}}function Yx(t,e){if(Es)return t==="compositionend"||!Ig&&w1(t,e)?(t=v1(),bc=Eg=pi=null,Es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _1&&e.locale!=="ko"?null:e.data;default:return null}}var Jx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Jx[t.type]:e==="textarea"}function S1(t,e,n,r){ZE(r),e=ih(e,"onChange"),0<e.length&&(n=new Sg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cl=null,kl=null;function Zx(t){V1(t,0)}function qh(t){var e=Is(t);if(HE(e))return t}function eP(t,e){if(t==="change")return e}var T1=!1;if($r){var yf;if($r){var vf="oninput"in document;if(!vf){var k_=document.createElement("div");k_.setAttribute("oninput","return;"),vf=typeof k_.oninput=="function"}yf=vf}else yf=!1;T1=yf&&(!document.documentMode||9<document.documentMode)}function D_(){cl&&(cl.detachEvent("onpropertychange",I1),kl=cl=null)}function I1(t){if(t.propertyName==="value"&&qh(kl)){var e=[];S1(e,kl,t,gg(t)),r1(Zx,e)}}function tP(t,e,n){t==="focusin"?(D_(),cl=e,kl=n,cl.attachEvent("onpropertychange",I1)):t==="focusout"&&D_()}function nP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qh(kl)}function rP(t,e){if(t==="click")return qh(e)}function iP(t,e){if(t==="input"||t==="change")return qh(e)}function oP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dr=typeof Object.is=="function"?Object.is:oP;function Dl(t,e){if(dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!up.call(e,i)||!dr(t[i],e[i]))return!1}return!0}function V_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function N_(t,e){var n=V_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V_(n)}}function b1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?b1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A1(){for(var t=window,e=Yc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yc(t.document)}return e}function bg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sP(t){var e=A1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&b1(n.ownerDocument.documentElement,n)){if(r!==null&&bg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=N_(n,o);var s=N_(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aP=$r&&"documentMode"in document&&11>=document.documentMode,Ss=null,xp=null,hl=null,Pp=!1;function O_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pp||Ss==null||Ss!==Yc(r)||(r=Ss,"selectionStart"in r&&bg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hl&&Dl(hl,r)||(hl=r,r=ih(xp,"onSelect"),0<r.length&&(e=new Sg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ss)))}function Yu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ts={animationend:Yu("Animation","AnimationEnd"),animationiteration:Yu("Animation","AnimationIteration"),animationstart:Yu("Animation","AnimationStart"),transitionend:Yu("Transition","TransitionEnd")},_f={},C1={};$r&&(C1=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Hh(t){if(_f[t])return _f[t];if(!Ts[t])return t;var e=Ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in C1)return _f[t]=e[n];return t}var x1=Hh("animationend"),P1=Hh("animationiteration"),R1=Hh("animationstart"),k1=Hh("transitionend"),D1=new Map,M_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(t,e){D1.set(t,e),qo(e,[t])}for(var wf=0;wf<M_.length;wf++){var Ef=M_[wf],lP=Ef.toLowerCase(),uP=Ef[0].toUpperCase()+Ef.slice(1);zi(lP,"on"+uP)}zi(x1,"onAnimationEnd");zi(P1,"onAnimationIteration");zi(R1,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(k1,"onTransitionEnd");js("onMouseEnter",["mouseout","mouseover"]);js("onMouseLeave",["mouseout","mouseover"]);js("onPointerEnter",["pointerout","pointerover"]);js("onPointerLeave",["pointerout","pointerover"]);qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cP=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function L_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lx(r,e,void 0,t),t.currentTarget=null}function V1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;L_(i,a,c),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;L_(i,a,c),o=u}}}if(Zc)throw t=Ip,Zc=!1,Ip=null,t}function Qe(t,e){var n=e[Np];n===void 0&&(n=e[Np]=new Set);var r=t+"__bubble";n.has(r)||(N1(e,t,2,!1),n.add(r))}function Sf(t,e,n){var r=0;e&&(r|=4),N1(n,t,r,e)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Vl(t){if(!t[Ju]){t[Ju]=!0,jE.forEach(function(n){n!=="selectionchange"&&(cP.has(n)||Sf(n,!1,t),Sf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ju]||(e[Ju]=!0,Sf("selectionchange",!1,e))}}function N1(t,e,n,r){switch(y1(e)){case 1:var i=Ix;break;case 4:i=bx;break;default:i=wg}n=i.bind(null,e,n,t),i=void 0,!Tp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Tf(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=po(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}r1(function(){var c=o,h=gg(n),f=[];e:{var p=D1.get(t);if(p!==void 0){var w=Sg,A=t;switch(t){case"keypress":if(Ac(n)===0)break e;case"keydown":case"keyup":w=$x;break;case"focusin":A="focus",w=gf;break;case"focusout":A="blur",w=gf;break;case"beforeblur":case"afterblur":w=gf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=b_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Ux;break;case x1:case P1:case R1:w=kx;break;case k1:w=qx;break;case"scroll":w=Ax;break;case"wheel":w=Gx;break;case"copy":case"cut":case"paste":w=Vx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=C_}var C=(e&4)!==0,D=!C&&t==="scroll",S=C?p!==null?p+"Capture":null:p;C=[];for(var g=c,_;g!==null;){_=g;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,S!==null&&(x=Cl(g,S),x!=null&&C.push(Nl(g,x,_)))),D)break;g=g.return}0<C.length&&(p=new w(p,A,null,n,h),f.push({event:p,listeners:C}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",p&&n!==Ep&&(A=n.relatedTarget||n.fromElement)&&(po(A)||A[jr]))break e;if((w||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,w?(A=n.relatedTarget||n.toElement,w=c,A=A?po(A):null,A!==null&&(D=Ho(A),A!==D||A.tag!==5&&A.tag!==6)&&(A=null)):(w=null,A=c),w!==A)){if(C=b_,x="onMouseLeave",S="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(C=C_,x="onPointerLeave",S="onPointerEnter",g="pointer"),D=w==null?p:Is(w),_=A==null?p:Is(A),p=new C(x,g+"leave",w,n,h),p.target=D,p.relatedTarget=_,x=null,po(h)===c&&(C=new C(S,g+"enter",A,n,h),C.target=_,C.relatedTarget=D,x=C),D=x,w&&A)t:{for(C=w,S=A,g=0,_=C;_;_=as(_))g++;for(_=0,x=S;x;x=as(x))_++;for(;0<g-_;)C=as(C),g--;for(;0<_-g;)S=as(S),_--;for(;g--;){if(C===S||S!==null&&C===S.alternate)break t;C=as(C),S=as(S)}C=null}else C=null;w!==null&&F_(f,p,w,C,!1),A!==null&&D!==null&&F_(f,D,A,C,!0)}}e:{if(p=c?Is(c):window,w=p.nodeName&&p.nodeName.toLowerCase(),w==="select"||w==="input"&&p.type==="file")var N=eP;else if(R_(p))if(T1)N=iP;else{N=nP;var M=tP}else(w=p.nodeName)&&w.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=rP);if(N&&(N=N(t,c))){S1(f,N,n,h);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&gp(p,"number",p.value)}switch(M=c?Is(c):window,t){case"focusin":(R_(M)||M.contentEditable==="true")&&(Ss=M,xp=c,hl=null);break;case"focusout":hl=xp=Ss=null;break;case"mousedown":Pp=!0;break;case"contextmenu":case"mouseup":case"dragend":Pp=!1,O_(f,n,h);break;case"selectionchange":if(aP)break;case"keydown":case"keyup":O_(f,n,h)}var v;if(Ig)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Es?w1(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(_1&&n.locale!=="ko"&&(Es||y!=="onCompositionStart"?y==="onCompositionEnd"&&Es&&(v=v1()):(pi=h,Eg="value"in pi?pi.value:pi.textContent,Es=!0)),M=ih(c,y),0<M.length&&(y=new A_(y,t,null,n,h),f.push({event:y,listeners:M}),v?y.data=v:(v=E1(n),v!==null&&(y.data=v)))),(v=Qx?Xx(t,n):Yx(t,n))&&(c=ih(c,"onBeforeInput"),0<c.length&&(h=new A_("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=v))}V1(f,e)})}function Nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ih(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Cl(t,n),o!=null&&r.unshift(Nl(t,o,i)),o=Cl(t,e),o!=null&&r.push(Nl(t,o,i))),t=t.return}return r}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F_(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Cl(n,o),u!=null&&s.unshift(Nl(n,u,a))):i||(u=Cl(n,o),u!=null&&s.push(Nl(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var hP=/\r\n?/g,dP=/\u0000|\uFFFD/g;function B_(t){return(typeof t=="string"?t:""+t).replace(hP,`
`).replace(dP,"")}function Zu(t,e,n){if(e=B_(e),B_(t)!==e&&n)throw Error(X(425))}function oh(){}var Rp=null,kp=null;function Dp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vp=typeof setTimeout=="function"?setTimeout:void 0,fP=typeof clearTimeout=="function"?clearTimeout:void 0,$_=typeof Promise=="function"?Promise:void 0,pP=typeof queueMicrotask=="function"?queueMicrotask:typeof $_<"u"?function(t){return $_.resolve(null).then(t).catch(mP)}:Vp;function mP(t){setTimeout(function(){throw t})}function If(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Rl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rl(e)}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ga=Math.random().toString(36).slice(2),vr="__reactFiber$"+ga,Ol="__reactProps$"+ga,jr="__reactContainer$"+ga,Np="__reactEvents$"+ga,gP="__reactListeners$"+ga,yP="__reactHandles$"+ga;function po(t){var e=t[vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jr]||n[vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j_(t);t!==null;){if(n=t[vr])return n;t=j_(t)}return e}t=n,n=t.parentNode}return null}function fu(t){return t=t[vr]||t[jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Gh(t){return t[Ol]||null}var Op=[],bs=-1;function Ui(t){return{current:t}}function Ye(t){0>bs||(t.current=Op[bs],Op[bs]=null,bs--)}function He(t,e){bs++,Op[bs]=t.current,t.current=e}var Ri={},Xt=Ui(Ri),gn=Ui(!1),Ao=Ri;function zs(t,e){var n=t.type.contextTypes;if(!n)return Ri;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function sh(){Ye(gn),Ye(Xt)}function z_(t,e,n){if(Xt.current!==Ri)throw Error(X(168));He(Xt,e),He(gn,n)}function O1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,tx(t)||"Unknown",i));return ut({},n,r)}function ah(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ri,Ao=Xt.current,He(Xt,t),He(gn,gn.current),!0}function U_(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=O1(t,e,Ao),r.__reactInternalMemoizedMergedChildContext=t,Ye(gn),Ye(Xt),He(Xt,t)):Ye(gn),He(gn,n)}var Vr=null,Kh=!1,bf=!1;function M1(t){Vr===null?Vr=[t]:Vr.push(t)}function vP(t){Kh=!0,M1(t)}function Wi(){if(!bf&&Vr!==null){bf=!0;var t=0,e=Fe;try{var n=Vr;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vr=null,Kh=!1}catch(i){throw Vr!==null&&(Vr=Vr.slice(t+1)),a1(yg,Wi),i}finally{Fe=e,bf=!1}}return null}var As=[],Cs=0,lh=null,uh=0,zn=[],Un=0,Co=null,Or=1,Mr="";function ro(t,e){As[Cs++]=uh,As[Cs++]=lh,lh=t,uh=e}function L1(t,e,n){zn[Un++]=Or,zn[Un++]=Mr,zn[Un++]=Co,Co=t;var r=Or;t=Mr;var i=32-ar(r)-1;r&=~(1<<i),n+=1;var o=32-ar(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Or=1<<32-ar(e)+i|n<<i|r,Mr=o+t}else Or=1<<o|n<<i|r,Mr=t}function Ag(t){t.return!==null&&(ro(t,1),L1(t,1,0))}function Cg(t){for(;t===lh;)lh=As[--Cs],As[Cs]=null,uh=As[--Cs],As[Cs]=null;for(;t===Co;)Co=zn[--Un],zn[Un]=null,Mr=zn[--Un],zn[Un]=null,Or=zn[--Un],zn[Un]=null}var Rn=null,xn=null,Ze=!1,sr=null;function F1(t,e){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function W_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rn=t,xn=Si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rn=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Co!==null?{id:Or,overflow:Mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rn=t,xn=null,!0):!1;default:return!1}}function Mp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lp(t){if(Ze){var e=xn;if(e){var n=e;if(!W_(t,e)){if(Mp(t))throw Error(X(418));e=Si(n.nextSibling);var r=Rn;e&&W_(t,e)?F1(r,n):(t.flags=t.flags&-4097|2,Ze=!1,Rn=t)}}else{if(Mp(t))throw Error(X(418));t.flags=t.flags&-4097|2,Ze=!1,Rn=t}}}function q_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rn=t}function ec(t){if(t!==Rn)return!1;if(!Ze)return q_(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dp(t.type,t.memoizedProps)),e&&(e=xn)){if(Mp(t))throw B1(),Error(X(418));for(;e;)F1(t,e),e=Si(e.nextSibling)}if(q_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xn=Si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=Rn?Si(t.stateNode.nextSibling):null;return!0}function B1(){for(var t=xn;t;)t=Si(t.nextSibling)}function Us(){xn=Rn=null,Ze=!1}function xg(t){sr===null?sr=[t]:sr.push(t)}var _P=Kr.ReactCurrentBatchConfig;function Ua(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function tc(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function H_(t){var e=t._init;return e(t._payload)}function $1(t){function e(S,g){if(t){var _=S.deletions;_===null?(S.deletions=[g],S.flags|=16):_.push(g)}}function n(S,g){if(!t)return null;for(;g!==null;)e(S,g),g=g.sibling;return null}function r(S,g){for(S=new Map;g!==null;)g.key!==null?S.set(g.key,g):S.set(g.index,g),g=g.sibling;return S}function i(S,g){return S=Ai(S,g),S.index=0,S.sibling=null,S}function o(S,g,_){return S.index=_,t?(_=S.alternate,_!==null?(_=_.index,_<g?(S.flags|=2,g):_):(S.flags|=2,g)):(S.flags|=1048576,g)}function s(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,g,_,x){return g===null||g.tag!==6?(g=Df(_,S.mode,x),g.return=S,g):(g=i(g,_),g.return=S,g)}function u(S,g,_,x){var N=_.type;return N===ws?h(S,g,_.props.children,x,_.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===li&&H_(N)===g.type)?(x=i(g,_.props),x.ref=Ua(S,g,_),x.return=S,x):(x=Vc(_.type,_.key,_.props,null,S.mode,x),x.ref=Ua(S,g,_),x.return=S,x)}function c(S,g,_,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=Vf(_,S.mode,x),g.return=S,g):(g=i(g,_.children||[]),g.return=S,g)}function h(S,g,_,x,N){return g===null||g.tag!==7?(g=Eo(_,S.mode,x,N),g.return=S,g):(g=i(g,_),g.return=S,g)}function f(S,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Df(""+g,S.mode,_),g.return=S,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Wu:return _=Vc(g.type,g.key,g.props,null,S.mode,_),_.ref=Ua(S,null,g),_.return=S,_;case _s:return g=Vf(g,S.mode,_),g.return=S,g;case li:var x=g._init;return f(S,x(g._payload),_)}if(el(g)||Fa(g))return g=Eo(g,S.mode,_,null),g.return=S,g;tc(S,g)}return null}function p(S,g,_,x){var N=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:a(S,g,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wu:return _.key===N?u(S,g,_,x):null;case _s:return _.key===N?c(S,g,_,x):null;case li:return N=_._init,p(S,g,N(_._payload),x)}if(el(_)||Fa(_))return N!==null?null:h(S,g,_,x,null);tc(S,_)}return null}function w(S,g,_,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return S=S.get(_)||null,a(g,S,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wu:return S=S.get(x.key===null?_:x.key)||null,u(g,S,x,N);case _s:return S=S.get(x.key===null?_:x.key)||null,c(g,S,x,N);case li:var M=x._init;return w(S,g,_,M(x._payload),N)}if(el(x)||Fa(x))return S=S.get(_)||null,h(g,S,x,N,null);tc(g,x)}return null}function A(S,g,_,x){for(var N=null,M=null,v=g,y=g=0,I=null;v!==null&&y<_.length;y++){v.index>y?(I=v,v=null):I=v.sibling;var b=p(S,v,_[y],x);if(b===null){v===null&&(v=I);break}t&&v&&b.alternate===null&&e(S,v),g=o(b,g,y),M===null?N=b:M.sibling=b,M=b,v=I}if(y===_.length)return n(S,v),Ze&&ro(S,y),N;if(v===null){for(;y<_.length;y++)v=f(S,_[y],x),v!==null&&(g=o(v,g,y),M===null?N=v:M.sibling=v,M=v);return Ze&&ro(S,y),N}for(v=r(S,v);y<_.length;y++)I=w(v,S,y,_[y],x),I!==null&&(t&&I.alternate!==null&&v.delete(I.key===null?y:I.key),g=o(I,g,y),M===null?N=I:M.sibling=I,M=I);return t&&v.forEach(function(P){return e(S,P)}),Ze&&ro(S,y),N}function C(S,g,_,x){var N=Fa(_);if(typeof N!="function")throw Error(X(150));if(_=N.call(_),_==null)throw Error(X(151));for(var M=N=null,v=g,y=g=0,I=null,b=_.next();v!==null&&!b.done;y++,b=_.next()){v.index>y?(I=v,v=null):I=v.sibling;var P=p(S,v,b.value,x);if(P===null){v===null&&(v=I);break}t&&v&&P.alternate===null&&e(S,v),g=o(P,g,y),M===null?N=P:M.sibling=P,M=P,v=I}if(b.done)return n(S,v),Ze&&ro(S,y),N;if(v===null){for(;!b.done;y++,b=_.next())b=f(S,b.value,x),b!==null&&(g=o(b,g,y),M===null?N=b:M.sibling=b,M=b);return Ze&&ro(S,y),N}for(v=r(S,v);!b.done;y++,b=_.next())b=w(v,S,y,b.value,x),b!==null&&(t&&b.alternate!==null&&v.delete(b.key===null?y:b.key),g=o(b,g,y),M===null?N=b:M.sibling=b,M=b);return t&&v.forEach(function(R){return e(S,R)}),Ze&&ro(S,y),N}function D(S,g,_,x){if(typeof _=="object"&&_!==null&&_.type===ws&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Wu:e:{for(var N=_.key,M=g;M!==null;){if(M.key===N){if(N=_.type,N===ws){if(M.tag===7){n(S,M.sibling),g=i(M,_.props.children),g.return=S,S=g;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===li&&H_(N)===M.type){n(S,M.sibling),g=i(M,_.props),g.ref=Ua(S,M,_),g.return=S,S=g;break e}n(S,M);break}else e(S,M);M=M.sibling}_.type===ws?(g=Eo(_.props.children,S.mode,x,_.key),g.return=S,S=g):(x=Vc(_.type,_.key,_.props,null,S.mode,x),x.ref=Ua(S,g,_),x.return=S,S=x)}return s(S);case _s:e:{for(M=_.key;g!==null;){if(g.key===M)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(S,g.sibling),g=i(g,_.children||[]),g.return=S,S=g;break e}else{n(S,g);break}else e(S,g);g=g.sibling}g=Vf(_,S.mode,x),g.return=S,S=g}return s(S);case li:return M=_._init,D(S,g,M(_._payload),x)}if(el(_))return A(S,g,_,x);if(Fa(_))return C(S,g,_,x);tc(S,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(S,g.sibling),g=i(g,_),g.return=S,S=g):(n(S,g),g=Df(_,S.mode,x),g.return=S,S=g),s(S)):n(S,g)}return D}var Ws=$1(!0),j1=$1(!1),ch=Ui(null),hh=null,xs=null,Pg=null;function Rg(){Pg=xs=hh=null}function kg(t){var e=ch.current;Ye(ch),t._currentValue=e}function Fp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ls(t,e){hh=t,Pg=xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function Kn(t){var e=t._currentValue;if(Pg!==t)if(t={context:t,memoizedValue:e,next:null},xs===null){if(hh===null)throw Error(X(308));xs=t,hh.dependencies={lanes:0,firstContext:t}}else xs=xs.next=t;return e}var mo=null;function Dg(t){mo===null?mo=[t]:mo.push(t)}function z1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Dg(e)):(n.next=i.next,i.next=n),e.interleaved=n,zr(t,r)}function zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ui=!1;function Vg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zr(t,n)}return i=r.interleaved,i===null?(e.next=e,Dg(r)):(e.next=i.next,i.next=e),r.interleaved=e,zr(t,n)}function Cc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vg(t,n)}}function G_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dh(t,e,n,r){var i=t.updateQueue;ui=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,h=c=u=null,a=o;do{var p=a.lane,w=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,C=a;switch(p=e,w=n,C.tag){case 1:if(A=C.payload,typeof A=="function"){f=A.call(w,f,p);break e}f=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=C.payload,p=typeof A=="function"?A.call(w,f,p):A,p==null)break e;f=ut({},f,p);break e;case 2:ui=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else w={eventTime:w,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=w,u=f):h=h.next=w,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Po|=s,t.lanes=s,t.memoizedState=f}}function K_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var pu={},Sr=Ui(pu),Ml=Ui(pu),Ll=Ui(pu);function go(t){if(t===pu)throw Error(X(174));return t}function Ng(t,e){switch(He(Ll,e),He(Ml,t),He(Sr,pu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vp(e,t)}Ye(Sr),He(Sr,e)}function qs(){Ye(Sr),Ye(Ml),Ye(Ll)}function W1(t){go(Ll.current);var e=go(Sr.current),n=vp(e,t.type);e!==n&&(He(Ml,t),He(Sr,n))}function Og(t){Ml.current===t&&(Ye(Sr),Ye(Ml))}var st=Ui(0);function fh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Af=[];function Mg(){for(var t=0;t<Af.length;t++)Af[t]._workInProgressVersionPrimary=null;Af.length=0}var xc=Kr.ReactCurrentDispatcher,Cf=Kr.ReactCurrentBatchConfig,xo=0,at=null,Tt=null,xt=null,ph=!1,dl=!1,Fl=0,wP=0;function Ht(){throw Error(X(321))}function Lg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dr(t[n],e[n]))return!1;return!0}function Fg(t,e,n,r,i,o){if(xo=o,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xc.current=t===null||t.memoizedState===null?IP:bP,t=n(r,i),dl){o=0;do{if(dl=!1,Fl=0,25<=o)throw Error(X(301));o+=1,xt=Tt=null,e.updateQueue=null,xc.current=AP,t=n(r,i)}while(dl)}if(xc.current=mh,e=Tt!==null&&Tt.next!==null,xo=0,xt=Tt=at=null,ph=!1,e)throw Error(X(300));return t}function Bg(){var t=Fl!==0;return Fl=0,t}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?at.memoizedState=xt=t:xt=xt.next=t,xt}function Qn(){if(Tt===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=xt===null?at.memoizedState:xt.next;if(e!==null)xt=e,Tt=t;else{if(t===null)throw Error(X(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},xt===null?at.memoizedState=xt=t:xt=xt.next=t}return xt}function Bl(t,e){return typeof e=="function"?e(t):e}function xf(t){var e=Qn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Tt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,c=o;do{var h=c.lane;if((xo&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,at.lanes|=h,Po|=h}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=a,dr(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,at.lanes|=o,Po|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pf(t){var e=Qn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);dr(o,e.memoizedState)||(dn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function q1(){}function H1(t,e){var n=at,r=Qn(),i=e(),o=!dr(r.memoizedState,i);if(o&&(r.memoizedState=i,dn=!0),r=r.queue,$g(Q1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,$l(9,K1.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(X(349));xo&30||G1(n,e,i)}return i}function G1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function K1(t,e,n,r){e.value=n,e.getSnapshot=r,X1(e)&&Y1(t)}function Q1(t,e,n){return n(function(){X1(e)&&Y1(t)})}function X1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dr(t,n)}catch{return!0}}function Y1(t){var e=zr(t,1);e!==null&&lr(e,t,1,-1)}function Q_(t){var e=yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:t},e.queue=t,t=t.dispatch=TP.bind(null,at,t),[e.memoizedState,t]}function $l(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function J1(){return Qn().memoizedState}function Pc(t,e,n,r){var i=yr();at.flags|=t,i.memoizedState=$l(1|e,n,void 0,r===void 0?null:r)}function Qh(t,e,n,r){var i=Qn();r=r===void 0?null:r;var o=void 0;if(Tt!==null){var s=Tt.memoizedState;if(o=s.destroy,r!==null&&Lg(r,s.deps)){i.memoizedState=$l(e,n,o,r);return}}at.flags|=t,i.memoizedState=$l(1|e,n,o,r)}function X_(t,e){return Pc(8390656,8,t,e)}function $g(t,e){return Qh(2048,8,t,e)}function Z1(t,e){return Qh(4,2,t,e)}function eS(t,e){return Qh(4,4,t,e)}function tS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nS(t,e,n){return n=n!=null?n.concat([t]):null,Qh(4,4,tS.bind(null,e,t),n)}function jg(){}function rS(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iS(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oS(t,e,n){return xo&21?(dr(n,e)||(n=c1(),at.lanes|=n,Po|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function EP(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=Cf.transition;Cf.transition={};try{t(!1),e()}finally{Fe=n,Cf.transition=r}}function sS(){return Qn().memoizedState}function SP(t,e,n){var r=bi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aS(t))lS(e,n);else if(n=z1(t,e,n,r),n!==null){var i=nn();lr(n,t,r,i),uS(n,e,r)}}function TP(t,e,n){var r=bi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aS(t))lS(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,dr(a,s)){var u=e.interleaved;u===null?(i.next=i,Dg(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=z1(t,e,i,r),n!==null&&(i=nn(),lr(n,t,r,i),uS(n,e,r))}}function aS(t){var e=t.alternate;return t===at||e!==null&&e===at}function lS(t,e){dl=ph=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vg(t,n)}}var mh={readContext:Kn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},IP={readContext:Kn,useCallback:function(t,e){return yr().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:X_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pc(4194308,4,tS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pc(4,2,t,e)},useMemo:function(t,e){var n=yr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SP.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=yr();return t={current:t},e.memoizedState=t},useState:Q_,useDebugValue:jg,useDeferredValue:function(t){return yr().memoizedState=t},useTransition:function(){var t=Q_(!1),e=t[0];return t=EP.bind(null,t[1]),yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,i=yr();if(Ze){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Rt===null)throw Error(X(349));xo&30||G1(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,X_(Q1.bind(null,r,o,t),[t]),r.flags|=2048,$l(9,K1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=yr(),e=Rt.identifierPrefix;if(Ze){var n=Mr,r=Or;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bP={readContext:Kn,useCallback:rS,useContext:Kn,useEffect:$g,useImperativeHandle:nS,useInsertionEffect:Z1,useLayoutEffect:eS,useMemo:iS,useReducer:xf,useRef:J1,useState:function(){return xf(Bl)},useDebugValue:jg,useDeferredValue:function(t){var e=Qn();return oS(e,Tt.memoizedState,t)},useTransition:function(){var t=xf(Bl)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:q1,useSyncExternalStore:H1,useId:sS,unstable_isNewReconciler:!1},AP={readContext:Kn,useCallback:rS,useContext:Kn,useEffect:$g,useImperativeHandle:nS,useInsertionEffect:Z1,useLayoutEffect:eS,useMemo:iS,useReducer:Pf,useRef:J1,useState:function(){return Pf(Bl)},useDebugValue:jg,useDeferredValue:function(t){var e=Qn();return Tt===null?e.memoizedState=t:oS(e,Tt.memoizedState,t)},useTransition:function(){var t=Pf(Bl)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:q1,useSyncExternalStore:H1,useId:sS,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xh={isMounted:function(t){return(t=t._reactInternals)?Ho(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),i=bi(t),o=Fr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ti(t,o,i),e!==null&&(lr(e,t,i,r),Cc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),i=bi(t),o=Fr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ti(t,o,i),e!==null&&(lr(e,t,i,r),Cc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=bi(t),i=Fr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ti(t,i,r),e!==null&&(lr(e,t,r,n),Cc(e,t,r))}};function Y_(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Dl(n,r)||!Dl(i,o):!0}function cS(t,e,n){var r=!1,i=Ri,o=e.contextType;return typeof o=="object"&&o!==null?o=Kn(o):(i=yn(e)?Ao:Xt.current,r=e.contextTypes,o=(r=r!=null)?zs(t,i):Ri),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function J_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xh.enqueueReplaceState(e,e.state,null)}function $p(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Vg(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Kn(o):(o=yn(e)?Ao:Xt.current,i.context=zs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Bp(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xh.enqueueReplaceState(i,i.state,null),dh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hs(t,e){try{var n="",r=e;do n+=ex(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Rf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CP=typeof WeakMap=="function"?WeakMap:Map;function hS(t,e,n){n=Fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yh||(yh=!0,Yp=r),jp(t,e)},n}function dS(t,e,n){n=Fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){jp(t,e),typeof r!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Z_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jP.bind(null,t,e,n),e.then(t,t))}function e0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fr(-1,1),e.tag=2,Ti(n,e,1))),n.lanes|=1),t)}var xP=Kr.ReactCurrentOwner,dn=!1;function Zt(t,e,n,r){e.child=t===null?j1(e,null,n,r):Ws(e,t.child,n,r)}function n0(t,e,n,r,i){n=n.render;var o=e.ref;return Ls(e,i),r=Fg(t,e,n,r,o,i),n=Bg(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(Ze&&n&&Ag(e),e.flags|=1,Zt(t,e,r,i),e.child)}function r0(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Qg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,fS(t,e,o,r,i)):(t=Vc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Dl,n(s,r)&&t.ref===e.ref)return Ur(t,e,i)}return e.flags|=1,t=Ai(o,r),t.ref=e.ref,t.return=e,e.child=t}function fS(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Dl(o,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,Ur(t,e,i)}return zp(t,e,n,r,i)}function pS(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Rs,Cn),Cn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(Rs,Cn),Cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,He(Rs,Cn),Cn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,He(Rs,Cn),Cn|=r;return Zt(t,e,i,n),e.child}function mS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zp(t,e,n,r,i){var o=yn(n)?Ao:Xt.current;return o=zs(e,o),Ls(e,i),n=Fg(t,e,n,r,o,i),r=Bg(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(Ze&&r&&Ag(e),e.flags|=1,Zt(t,e,n,i),e.child)}function i0(t,e,n,r,i){if(yn(n)){var o=!0;ah(e)}else o=!1;if(Ls(e,i),e.stateNode===null)Rc(t,e),cS(e,n,r),$p(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kn(c):(c=yn(n)?Ao:Xt.current,c=zs(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&J_(e,s,r,c),ui=!1;var p=e.memoizedState;s.state=p,dh(e,r,s,i),u=e.memoizedState,a!==r||p!==u||gn.current||ui?(typeof h=="function"&&(Bp(e,n,h,r),u=e.memoizedState),(a=ui||Y_(e,n,a,r,p,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,U1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rr(e.type,a),s.props=c,f=e.pendingProps,p=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Kn(u):(u=yn(n)?Ao:Xt.current,u=zs(e,u));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==u)&&J_(e,s,r,u),ui=!1,p=e.memoizedState,s.state=p,dh(e,r,s,i);var A=e.memoizedState;a!==f||p!==A||gn.current||ui?(typeof w=="function"&&(Bp(e,n,w,r),A=e.memoizedState),(c=ui||Y_(e,n,c,r,p,A,u)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,A,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,A,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),s.props=r,s.state=A,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Up(t,e,n,r,o,i)}function Up(t,e,n,r,i,o){mS(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&U_(e,n,!1),Ur(t,e,o);r=e.stateNode,xP.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ws(e,t.child,null,o),e.child=Ws(e,null,a,o)):Zt(t,e,a,o),e.memoizedState=r.state,i&&U_(e,n,!0),e.child}function gS(t){var e=t.stateNode;e.pendingContext?z_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&z_(t,e.context,!1),Ng(t,e.containerInfo)}function o0(t,e,n,r,i){return Us(),xg(i),e.flags|=256,Zt(t,e,n,r),e.child}var Wp={dehydrated:null,treeContext:null,retryLane:0};function qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function yS(t,e,n){var r=e.pendingProps,i=st.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(st,i&1),t===null)return Lp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Zh(s,r,0,null),t=Eo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=qp(n),e.memoizedState=Wp,t):zg(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return PP(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ai(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ai(a,o):(o=Eo(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?qp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Wp,r}return o=t.child,t=o.sibling,r=Ai(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zg(t,e){return e=Zh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nc(t,e,n,r){return r!==null&&xg(r),Ws(e,t.child,null,n),t=zg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PP(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Rf(Error(X(422))),nc(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Zh({mode:"visible",children:r.children},i,0,null),o=Eo(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ws(e,t.child,null,s),e.child.memoizedState=qp(s),e.memoizedState=Wp,o);if(!(e.mode&1))return nc(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(X(419)),r=Rf(o,r,void 0),nc(t,e,s,r)}if(a=(s&t.childLanes)!==0,dn||a){if(r=Rt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,zr(t,i),lr(r,t,i,-1))}return Kg(),r=Rf(Error(X(421))),nc(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zP.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,xn=Si(i.nextSibling),Rn=e,Ze=!0,sr=null,t!==null&&(zn[Un++]=Or,zn[Un++]=Mr,zn[Un++]=Co,Or=t.id,Mr=t.overflow,Co=e),e=zg(e,r.children),e.flags|=4096,e)}function s0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fp(t.return,e,n)}function kf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function vS(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Zt(t,e,r.children,n),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s0(t,n,e);else if(t.tag===19)s0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(st,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kf(e,!0,n,null,o);break;case"together":kf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Po|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=Ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RP(t,e,n){switch(e.tag){case 3:gS(e),Us();break;case 5:W1(e);break;case 1:yn(e.type)&&ah(e);break;case 4:Ng(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(ch,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(st,st.current&1),e.flags|=128,null):n&e.child.childLanes?yS(t,e,n):(He(st,st.current&1),t=Ur(t,e,n),t!==null?t.sibling:null);He(st,st.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,pS(t,e,n)}return Ur(t,e,n)}var _S,Hp,wS,ES;_S=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hp=function(){};wS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,go(Sr.current);var o=null;switch(n){case"input":i=pp(t,i),r=pp(t,r),o=[];break;case"select":i=ut({},i,{value:void 0}),r=ut({},r,{value:void 0}),o=[];break;case"textarea":i=yp(t,i),r=yp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=oh)}_p(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Qe("scroll",t),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};ES=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wa(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kP(t,e,n){var r=e.pendingProps;switch(Cg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return yn(e.type)&&sh(),Gt(e),null;case 3:return r=e.stateNode,qs(),Ye(gn),Ye(Xt),Mg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ec(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sr!==null&&(em(sr),sr=null))),Hp(t,e),Gt(e),null;case 5:Og(e);var i=go(Ll.current);if(n=e.type,t!==null&&e.stateNode!=null)wS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Gt(e),null}if(t=go(Sr.current),ec(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[vr]=e,r[Ol]=o,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(i=0;i<nl.length;i++)Qe(nl[i],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":m_(r,o),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Qe("invalid",r);break;case"textarea":y_(r,o),Qe("invalid",r)}_p(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Zu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Zu(r.textContent,a,t),i=["children",""+a]):bl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Qe("scroll",r)}switch(n){case"input":qu(r),g_(r,o,!0);break;case"textarea":qu(r),v_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=oh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[vr]=e,t[Ol]=r,_S(t,e,!1,!1),e.stateNode=t;e:{switch(s=wp(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),i=r;break;case"iframe":case"object":case"embed":Qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<nl.length;i++)Qe(nl[i],t);i=r;break;case"source":Qe("error",t),i=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),i=r;break;case"details":Qe("toggle",t),i=r;break;case"input":m_(t,r),i=pp(t,r),Qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ut({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":y_(t,r),i=yp(t,r),Qe("invalid",t);break;default:i=r}_p(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?JE(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&XE(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Al(t,u):typeof u=="number"&&Al(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(bl.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Qe("scroll",t):u!=null&&dg(t,o,u,s))}switch(n){case"input":qu(t),g_(t,r,!1);break;case"textarea":qu(t),v_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Vs(t,!!r.multiple,o,!1):r.defaultValue!=null&&Vs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=oh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)ES(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=go(Ll.current),go(Sr.current),ec(e)){if(r=e.stateNode,n=e.memoizedProps,r[vr]=e,(o=r.nodeValue!==n)&&(t=Rn,t!==null))switch(t.tag){case 3:Zu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vr]=e,e.stateNode=r}return Gt(e),null;case 13:if(Ye(st),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&xn!==null&&e.mode&1&&!(e.flags&128))B1(),Us(),e.flags|=98560,o=!1;else if(o=ec(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(X(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[vr]=e}else Us(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),o=!1}else sr!==null&&(em(sr),sr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?It===0&&(It=3):Kg())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return qs(),Hp(t,e),t===null&&Vl(e.stateNode.containerInfo),Gt(e),null;case 10:return kg(e.type._context),Gt(e),null;case 17:return yn(e.type)&&sh(),Gt(e),null;case 19:if(Ye(st),o=e.memoizedState,o===null)return Gt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Wa(o,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=fh(t),s!==null){for(e.flags|=128,Wa(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(st,st.current&1|2),e.child}t=t.sibling}o.tail!==null&&gt()>Gs&&(e.flags|=128,r=!0,Wa(o,!1),e.lanes=4194304)}else{if(!r)if(t=fh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ze)return Gt(e),null}else 2*gt()-o.renderingStartTime>Gs&&n!==1073741824&&(e.flags|=128,r=!0,Wa(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=gt(),e.sibling=null,n=st.current,He(st,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return Gg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cn&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function DP(t,e){switch(Cg(e),e.tag){case 1:return yn(e.type)&&sh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qs(),Ye(gn),Ye(Xt),Mg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Og(e),null;case 13:if(Ye(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Us()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(st),null;case 4:return qs(),null;case 10:return kg(e.type._context),null;case 22:case 23:return Gg(),null;case 24:return null;default:return null}}var rc=!1,Qt=!1,VP=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ft(t,e,r)}else n.current=null}function Gp(t,e,n){try{n()}catch(r){ft(t,e,r)}}var a0=!1;function NP(t,e){if(Rp=nh,t=A1(),bg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var w;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(w=f.firstChild)!==null;)p=f,f=w;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=s),p===o&&++h===r&&(u=s),(w=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=w}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(kp={focusedElem:t,selectionRange:n},nh=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var C=A.memoizedProps,D=A.memoizedState,S=e.stateNode,g=S.getSnapshotBeforeUpdate(e.elementType===e.type?C:rr(e.type,C),D);S.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(x){ft(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return A=a0,a0=!1,A}function fl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Gp(e,n,o)}i=i.next}while(i!==r)}}function Yh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Kp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SS(t){var e=t.alternate;e!==null&&(t.alternate=null,SS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vr],delete e[Ol],delete e[Np],delete e[gP],delete e[yP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function TS(t){return t.tag===5||t.tag===3||t.tag===4}function l0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||TS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oh));else if(r!==4&&(t=t.child,t!==null))for(Qp(t,e,n),t=t.sibling;t!==null;)Qp(t,e,n),t=t.sibling}function Xp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xp(t,e,n),t=t.sibling;t!==null;)Xp(t,e,n),t=t.sibling}var Lt=null,ir=!1;function ri(t,e,n){for(n=n.child;n!==null;)IS(t,e,n),n=n.sibling}function IS(t,e,n){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(Uh,n)}catch{}switch(n.tag){case 5:Qt||Ps(n,e);case 6:var r=Lt,i=ir;Lt=null,ri(t,e,n),Lt=r,ir=i,Lt!==null&&(ir?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(ir?(t=Lt,n=n.stateNode,t.nodeType===8?If(t.parentNode,n):t.nodeType===1&&If(t,n),Rl(t)):If(Lt,n.stateNode));break;case 4:r=Lt,i=ir,Lt=n.stateNode.containerInfo,ir=!0,ri(t,e,n),Lt=r,ir=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Gp(n,e,s),i=i.next}while(i!==r)}ri(t,e,n);break;case 1:if(!Qt&&(Ps(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ft(n,e,a)}ri(t,e,n);break;case 21:ri(t,e,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,ri(t,e,n),Qt=r):ri(t,e,n);break;default:ri(t,e,n)}}function u0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VP),e.forEach(function(r){var i=UP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,ir=!1;break e;case 3:Lt=a.stateNode.containerInfo,ir=!0;break e;case 4:Lt=a.stateNode.containerInfo,ir=!0;break e}a=a.return}if(Lt===null)throw Error(X(160));IS(o,s,i),Lt=null,ir=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){ft(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bS(e,t),e=e.sibling}function bS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),gr(t),r&4){try{fl(3,t,t.return),Yh(3,t)}catch(C){ft(t,t.return,C)}try{fl(5,t,t.return)}catch(C){ft(t,t.return,C)}}break;case 1:tr(e,t),gr(t),r&512&&n!==null&&Ps(n,n.return);break;case 5:if(tr(e,t),gr(t),r&512&&n!==null&&Ps(n,n.return),t.flags&32){var i=t.stateNode;try{Al(i,"")}catch(C){ft(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&GE(i,o),wp(a,s);var c=wp(a,o);for(s=0;s<u.length;s+=2){var h=u[s],f=u[s+1];h==="style"?JE(i,f):h==="dangerouslySetInnerHTML"?XE(i,f):h==="children"?Al(i,f):dg(i,h,f,c)}switch(a){case"input":mp(i,o);break;case"textarea":KE(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?Vs(i,!!o.multiple,w,!1):p!==!!o.multiple&&(o.defaultValue!=null?Vs(i,!!o.multiple,o.defaultValue,!0):Vs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ol]=o}catch(C){ft(t,t.return,C)}}break;case 6:if(tr(e,t),gr(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(C){ft(t,t.return,C)}}break;case 3:if(tr(e,t),gr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rl(e.containerInfo)}catch(C){ft(t,t.return,C)}break;case 4:tr(e,t),gr(t);break;case 13:tr(e,t),gr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(qg=gt())),r&4&&u0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(c=Qt)||h,tr(e,t),Qt=c):tr(e,t),gr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(oe=t,h=t.child;h!==null;){for(f=oe=h;oe!==null;){switch(p=oe,w=p.child,p.tag){case 0:case 11:case 14:case 15:fl(4,p,p.return);break;case 1:Ps(p,p.return);var A=p.stateNode;if(typeof A.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(C){ft(r,n,C)}}break;case 5:Ps(p,p.return);break;case 22:if(p.memoizedState!==null){h0(f);continue}}w!==null?(w.return=p,oe=w):h0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=YE("display",s))}catch(C){ft(t,t.return,C)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(C){ft(t,t.return,C)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tr(e,t),gr(t),r&4&&u0(t);break;case 21:break;default:tr(e,t),gr(t)}}function gr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(TS(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Al(i,""),r.flags&=-33);var o=l0(t);Xp(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=l0(t);Qp(t,a,s);break;default:throw Error(X(161))}}catch(u){ft(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OP(t,e,n){oe=t,AS(t)}function AS(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||rc;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Qt;a=rc;var c=Qt;if(rc=s,(Qt=u)&&!c)for(oe=i;oe!==null;)s=oe,u=s.child,s.tag===22&&s.memoizedState!==null?d0(i):u!==null?(u.return=s,oe=u):d0(i);for(;o!==null;)oe=o,AS(o),o=o.sibling;oe=i,rc=a,Qt=c}c0(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):c0(t)}}function c0(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||Yh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&K_(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}K_(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Rl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Qt||e.flags&512&&Kp(e)}catch(p){ft(e,e.return,p)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function h0(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function d0(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yh(4,e)}catch(u){ft(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ft(e,i,u)}}var o=e.return;try{Kp(e)}catch(u){ft(e,o,u)}break;case 5:var s=e.return;try{Kp(e)}catch(u){ft(e,s,u)}}}catch(u){ft(e,e.return,u)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var MP=Math.ceil,gh=Kr.ReactCurrentDispatcher,Ug=Kr.ReactCurrentOwner,Hn=Kr.ReactCurrentBatchConfig,Pe=0,Rt=null,Et=null,$t=0,Cn=0,Rs=Ui(0),It=0,jl=null,Po=0,Jh=0,Wg=0,pl=null,hn=null,qg=0,Gs=1/0,Dr=null,yh=!1,Yp=null,Ii=null,ic=!1,mi=null,vh=0,ml=0,Jp=null,kc=-1,Dc=0;function nn(){return Pe&6?gt():kc!==-1?kc:kc=gt()}function bi(t){return t.mode&1?Pe&2&&$t!==0?$t&-$t:_P.transition!==null?(Dc===0&&(Dc=c1()),Dc):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:y1(t.type)),t):1}function lr(t,e,n,r){if(50<ml)throw ml=0,Jp=null,Error(X(185));hu(t,n,r),(!(Pe&2)||t!==Rt)&&(t===Rt&&(!(Pe&2)&&(Jh|=n),It===4&&hi(t,$t)),vn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Gs=gt()+500,Kh&&Wi()))}function vn(t,e){var n=t.callbackNode;_x(t,e);var r=th(t,t===Rt?$t:0);if(r===0)n!==null&&E_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&E_(n),e===1)t.tag===0?vP(f0.bind(null,t)):M1(f0.bind(null,t)),pP(function(){!(Pe&6)&&Wi()}),n=null;else{switch(h1(r)){case 1:n=yg;break;case 4:n=l1;break;case 16:n=eh;break;case 536870912:n=u1;break;default:n=eh}n=NS(n,CS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function CS(t,e){if(kc=-1,Dc=0,Pe&6)throw Error(X(327));var n=t.callbackNode;if(Fs()&&t.callbackNode!==n)return null;var r=th(t,t===Rt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_h(t,r);else{e=r;var i=Pe;Pe|=2;var o=PS();(Rt!==t||$t!==e)&&(Dr=null,Gs=gt()+500,wo(t,e));do try{BP();break}catch(a){xS(t,a)}while(!0);Rg(),gh.current=o,Pe=i,Et!==null?e=0:(Rt=null,$t=0,e=It)}if(e!==0){if(e===2&&(i=bp(t),i!==0&&(r=i,e=Zp(t,i))),e===1)throw n=jl,wo(t,0),hi(t,r),vn(t,gt()),n;if(e===6)hi(t,r);else{if(i=t.current.alternate,!(r&30)&&!LP(i)&&(e=_h(t,r),e===2&&(o=bp(t),o!==0&&(r=o,e=Zp(t,o))),e===1))throw n=jl,wo(t,0),hi(t,r),vn(t,gt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:io(t,hn,Dr);break;case 3:if(hi(t,r),(r&130023424)===r&&(e=qg+500-gt(),10<e)){if(th(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vp(io.bind(null,t,hn,Dr),e);break}io(t,hn,Dr);break;case 4:if(hi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ar(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MP(r/1960))-r,10<r){t.timeoutHandle=Vp(io.bind(null,t,hn,Dr),r);break}io(t,hn,Dr);break;case 5:io(t,hn,Dr);break;default:throw Error(X(329))}}}return vn(t,gt()),t.callbackNode===n?CS.bind(null,t):null}function Zp(t,e){var n=pl;return t.current.memoizedState.isDehydrated&&(wo(t,e).flags|=256),t=_h(t,e),t!==2&&(e=hn,hn=n,e!==null&&em(e)),t}function em(t){hn===null?hn=t:hn.push.apply(hn,t)}function LP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!dr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hi(t,e){for(e&=~Wg,e&=~Jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ar(e),r=1<<n;t[n]=-1,e&=~r}}function f0(t){if(Pe&6)throw Error(X(327));Fs();var e=th(t,0);if(!(e&1))return vn(t,gt()),null;var n=_h(t,e);if(t.tag!==0&&n===2){var r=bp(t);r!==0&&(e=r,n=Zp(t,r))}if(n===1)throw n=jl,wo(t,0),hi(t,e),vn(t,gt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,io(t,hn,Dr),vn(t,gt()),null}function Hg(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Gs=gt()+500,Kh&&Wi())}}function Ro(t){mi!==null&&mi.tag===0&&!(Pe&6)&&Fs();var e=Pe;Pe|=1;var n=Hn.transition,r=Fe;try{if(Hn.transition=null,Fe=1,t)return t()}finally{Fe=r,Hn.transition=n,Pe=e,!(Pe&6)&&Wi()}}function Gg(){Cn=Rs.current,Ye(Rs)}function wo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fP(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(Cg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sh();break;case 3:qs(),Ye(gn),Ye(Xt),Mg();break;case 5:Og(r);break;case 4:qs();break;case 13:Ye(st);break;case 19:Ye(st);break;case 10:kg(r.type._context);break;case 22:case 23:Gg()}n=n.return}if(Rt=t,Et=t=Ai(t.current,null),$t=Cn=e,It=0,jl=null,Wg=Jh=Po=0,hn=pl=null,mo!==null){for(e=0;e<mo.length;e++)if(n=mo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}mo=null}return t}function xS(t,e){do{var n=Et;try{if(Rg(),xc.current=mh,ph){for(var r=at.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ph=!1}if(xo=0,xt=Tt=at=null,dl=!1,Fl=0,Ug.current=null,n===null||n.return===null){It=1,jl=e,Et=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=$t,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=e0(s);if(w!==null){w.flags&=-257,t0(w,s,a,o,e),w.mode&1&&Z_(o,c,e),e=w,u=c;var A=e.updateQueue;if(A===null){var C=new Set;C.add(u),e.updateQueue=C}else A.add(u);break e}else{if(!(e&1)){Z_(o,c,e),Kg();break e}u=Error(X(426))}}else if(Ze&&a.mode&1){var D=e0(s);if(D!==null){!(D.flags&65536)&&(D.flags|=256),t0(D,s,a,o,e),xg(Hs(u,a));break e}}o=u=Hs(u,a),It!==4&&(It=2),pl===null?pl=[o]:pl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=hS(o,u,e);G_(o,S);break e;case 1:a=u;var g=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ii===null||!Ii.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=dS(o,a,e);G_(o,x);break e}}o=o.return}while(o!==null)}kS(n)}catch(N){e=N,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function PS(){var t=gh.current;return gh.current=mh,t===null?mh:t}function Kg(){(It===0||It===3||It===2)&&(It=4),Rt===null||!(Po&268435455)&&!(Jh&268435455)||hi(Rt,$t)}function _h(t,e){var n=Pe;Pe|=2;var r=PS();(Rt!==t||$t!==e)&&(Dr=null,wo(t,e));do try{FP();break}catch(i){xS(t,i)}while(!0);if(Rg(),Pe=n,gh.current=r,Et!==null)throw Error(X(261));return Rt=null,$t=0,It}function FP(){for(;Et!==null;)RS(Et)}function BP(){for(;Et!==null&&!cx();)RS(Et)}function RS(t){var e=VS(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,e===null?kS(t):Et=e,Ug.current=null}function kS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DP(n,e),n!==null){n.flags&=32767,Et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,Et=null;return}}else if(n=kP(n,e,Cn),n!==null){Et=n;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);It===0&&(It=5)}function io(t,e,n){var r=Fe,i=Hn.transition;try{Hn.transition=null,Fe=1,$P(t,e,n,r)}finally{Hn.transition=i,Fe=r}return null}function $P(t,e,n,r){do Fs();while(mi!==null);if(Pe&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(wx(t,o),t===Rt&&(Et=Rt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ic||(ic=!0,NS(eh,function(){return Fs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Hn.transition,Hn.transition=null;var s=Fe;Fe=1;var a=Pe;Pe|=4,Ug.current=null,NP(t,n),bS(n,t),sP(kp),nh=!!Rp,kp=Rp=null,t.current=n,OP(n),hx(),Pe=a,Fe=s,Hn.transition=o}else t.current=n;if(ic&&(ic=!1,mi=t,vh=i),o=t.pendingLanes,o===0&&(Ii=null),px(n.stateNode),vn(t,gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yh)throw yh=!1,t=Yp,Yp=null,t;return vh&1&&t.tag!==0&&Fs(),o=t.pendingLanes,o&1?t===Jp?ml++:(ml=0,Jp=t):ml=0,Wi(),null}function Fs(){if(mi!==null){var t=h1(vh),e=Hn.transition,n=Fe;try{if(Hn.transition=null,Fe=16>t?16:t,mi===null)var r=!1;else{if(t=mi,mi=null,vh=0,Pe&6)throw Error(X(331));var i=Pe;for(Pe|=4,oe=t.current;oe!==null;){var o=oe,s=o.child;if(oe.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(oe=c;oe!==null;){var h=oe;switch(h.tag){case 0:case 11:case 15:fl(8,h,o)}var f=h.child;if(f!==null)f.return=h,oe=f;else for(;oe!==null;){h=oe;var p=h.sibling,w=h.return;if(SS(h),h===c){oe=null;break}if(p!==null){p.return=w,oe=p;break}oe=w}}}var A=o.alternate;if(A!==null){var C=A.child;if(C!==null){A.child=null;do{var D=C.sibling;C.sibling=null,C=D}while(C!==null)}}oe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,oe=s;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fl(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,oe=S;break e}oe=o.return}}var g=t.current;for(oe=g;oe!==null;){s=oe;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,oe=_;else e:for(s=g;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yh(9,a)}}catch(N){ft(a,a.return,N)}if(a===s){oe=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,oe=x;break e}oe=a.return}}if(Pe=i,Wi(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(Uh,t)}catch{}r=!0}return r}finally{Fe=n,Hn.transition=e}}return!1}function p0(t,e,n){e=Hs(n,e),e=hS(t,e,1),t=Ti(t,e,1),e=nn(),t!==null&&(hu(t,1,e),vn(t,e))}function ft(t,e,n){if(t.tag===3)p0(t,t,n);else for(;e!==null;){if(e.tag===3){p0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ii===null||!Ii.has(r))){t=Hs(n,t),t=dS(e,t,1),e=Ti(e,t,1),t=nn(),e!==null&&(hu(e,1,t),vn(e,t));break}}e=e.return}}function jP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&($t&n)===n&&(It===4||It===3&&($t&130023424)===$t&&500>gt()-qg?wo(t,0):Wg|=n),vn(t,e)}function DS(t,e){e===0&&(t.mode&1?(e=Ku,Ku<<=1,!(Ku&130023424)&&(Ku=4194304)):e=1);var n=nn();t=zr(t,e),t!==null&&(hu(t,e,n),vn(t,n))}function zP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),DS(t,n)}function UP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),DS(t,n)}var VS;VS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,RP(t,e,n);dn=!!(t.flags&131072)}else dn=!1,Ze&&e.flags&1048576&&L1(e,uh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rc(t,e),t=e.pendingProps;var i=zs(e,Xt.current);Ls(e,n),i=Fg(null,e,r,t,i,n);var o=Bg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(o=!0,ah(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vg(e),i.updater=Xh,e.stateNode=i,i._reactInternals=e,$p(e,r,t,n),e=Up(null,e,r,!0,o,n)):(e.tag=0,Ze&&o&&Ag(e),Zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=qP(r),t=rr(r,t),i){case 0:e=zp(null,e,r,t,n);break e;case 1:e=i0(null,e,r,t,n);break e;case 11:e=n0(null,e,r,t,n);break e;case 14:e=r0(null,e,r,rr(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),zp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),i0(t,e,r,i,n);case 3:e:{if(gS(e),t===null)throw Error(X(387));r=e.pendingProps,o=e.memoizedState,i=o.element,U1(t,e),dh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Hs(Error(X(423)),e),e=o0(t,e,r,n,i);break e}else if(r!==i){i=Hs(Error(X(424)),e),e=o0(t,e,r,n,i);break e}else for(xn=Si(e.stateNode.containerInfo.firstChild),Rn=e,Ze=!0,sr=null,n=j1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Us(),r===i){e=Ur(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return W1(e),t===null&&Lp(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Dp(r,i)?s=null:o!==null&&Dp(r,o)&&(e.flags|=32),mS(t,e),Zt(t,e,s,n),e.child;case 6:return t===null&&Lp(e),null;case 13:return yS(t,e,n);case 4:return Ng(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ws(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),n0(t,e,r,i,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,He(ch,r._currentValue),r._currentValue=s,o!==null)if(dr(o.value,s)){if(o.children===i.children&&!gn.current){e=Ur(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Fr(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Fp(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(X(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Fp(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ls(e,n),i=Kn(i),r=r(i),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,i=rr(r,e.pendingProps),i=rr(r.type,i),r0(t,e,r,i,n);case 15:return fS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Rc(t,e),e.tag=1,yn(r)?(t=!0,ah(e)):t=!1,Ls(e,n),cS(e,r,i),$p(e,r,i,n),Up(null,e,r,!0,t,n);case 19:return vS(t,e,n);case 22:return pS(t,e,n)}throw Error(X(156,e.tag))};function NS(t,e){return a1(t,e)}function WP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,e,n,r){return new WP(t,e,n,r)}function Qg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qP(t){if(typeof t=="function")return Qg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pg)return 11;if(t===mg)return 14}return 2}function Ai(t,e){var n=t.alternate;return n===null?(n=Wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Qg(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ws:return Eo(n.children,i,o,e);case fg:s=8,i|=8;break;case cp:return t=Wn(12,n,e,i|2),t.elementType=cp,t.lanes=o,t;case hp:return t=Wn(13,n,e,i),t.elementType=hp,t.lanes=o,t;case dp:return t=Wn(19,n,e,i),t.elementType=dp,t.lanes=o,t;case WE:return Zh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zE:s=10;break e;case UE:s=9;break e;case pg:s=11;break e;case mg:s=14;break e;case li:s=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Wn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Eo(t,e,n,r){return t=Wn(7,t,r,e),t.lanes=n,t}function Zh(t,e,n,r){return t=Wn(22,t,r,e),t.elementType=WE,t.lanes=n,t.stateNode={isHidden:!1},t}function Df(t,e,n){return t=Wn(6,t,null,e),t.lanes=n,t}function Vf(t,e,n){return e=Wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ff(0),this.expirationTimes=ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ff(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xg(t,e,n,r,i,o,s,a,u){return t=new HP(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Wn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vg(o),t}function GP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function OS(t){if(!t)return Ri;t=t._reactInternals;e:{if(Ho(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(yn(n))return O1(t,n,e)}return e}function MS(t,e,n,r,i,o,s,a,u){return t=Xg(n,r,!0,t,i,o,s,a,u),t.context=OS(null),n=t.current,r=nn(),i=bi(n),o=Fr(r,i),o.callback=e??null,Ti(n,o,i),t.current.lanes=i,hu(t,i,r),vn(t,r),t}function ed(t,e,n,r){var i=e.current,o=nn(),s=bi(i);return n=OS(n),e.context===null?e.context=n:e.pendingContext=n,e=Fr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ti(i,e,s),t!==null&&(lr(t,i,s,o),Cc(t,i,s)),s}function wh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yg(t,e){m0(t,e),(t=t.alternate)&&m0(t,e)}function KP(){return null}var LS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jg(t){this._internalRoot=t}td.prototype.render=Jg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));ed(t,e,null,null)};td.prototype.unmount=Jg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ro(function(){ed(null,t,null,null)}),e[jr]=null}};function td(t){this._internalRoot=t}td.prototype.unstable_scheduleHydration=function(t){if(t){var e=p1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ci.length&&e!==0&&e<ci[n].priority;n++);ci.splice(n,0,t),n===0&&g1(t)}};function Zg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g0(){}function QP(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=wh(s);o.call(c)}}var s=MS(e,r,t,0,null,!1,!1,"",g0);return t._reactRootContainer=s,t[jr]=s.current,Vl(t.nodeType===8?t.parentNode:t),Ro(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=wh(u);a.call(c)}}var u=Xg(t,0,!1,null,null,!1,!1,"",g0);return t._reactRootContainer=u,t[jr]=u.current,Vl(t.nodeType===8?t.parentNode:t),Ro(function(){ed(e,u,n,r)}),u}function rd(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=wh(s);a.call(u)}}ed(e,s,t,i)}else s=QP(n,e,t,i,r);return wh(s)}d1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tl(e.pendingLanes);n!==0&&(vg(e,n|1),vn(e,gt()),!(Pe&6)&&(Gs=gt()+500,Wi()))}break;case 13:Ro(function(){var r=zr(t,1);if(r!==null){var i=nn();lr(r,t,1,i)}}),Yg(t,1)}};_g=function(t){if(t.tag===13){var e=zr(t,134217728);if(e!==null){var n=nn();lr(e,t,134217728,n)}Yg(t,134217728)}};f1=function(t){if(t.tag===13){var e=bi(t),n=zr(t,e);if(n!==null){var r=nn();lr(n,t,e,r)}Yg(t,e)}};p1=function(){return Fe};m1=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Sp=function(t,e,n){switch(e){case"input":if(mp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Gh(r);if(!i)throw Error(X(90));HE(r),mp(r,i)}}}break;case"textarea":KE(t,n);break;case"select":e=n.value,e!=null&&Vs(t,!!n.multiple,e,!1)}};t1=Hg;n1=Ro;var XP={usingClientEntryPoint:!1,Events:[fu,Is,Gh,ZE,e1,Hg]},qa={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YP={bundleType:qa.bundleType,version:qa.version,rendererPackageName:qa.rendererPackageName,rendererConfig:qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=o1(t),t===null?null:t.stateNode},findFiberByHostInstance:qa.findFiberByHostInstance||KP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Uh=oc.inject(YP),Er=oc}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XP;Vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zg(e))throw Error(X(200));return GP(t,e,null,n)};Vn.createRoot=function(t,e){if(!Zg(t))throw Error(X(299));var n=!1,r="",i=LS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xg(t,1,!1,null,null,n,!1,r,i),t[jr]=e.current,Vl(t.nodeType===8?t.parentNode:t),new Jg(e)};Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=o1(e),t=t===null?null:t.stateNode,t};Vn.flushSync=function(t){return Ro(t)};Vn.hydrate=function(t,e,n){if(!nd(e))throw Error(X(200));return rd(null,t,e,!0,n)};Vn.hydrateRoot=function(t,e,n){if(!Zg(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=LS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=MS(e,null,t,1,n??null,i,!1,o,s),t[jr]=e.current,Vl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new td(e)};Vn.render=function(t,e,n){if(!nd(e))throw Error(X(200));return rd(null,t,e,!1,n)};Vn.unmountComponentAtNode=function(t){if(!nd(t))throw Error(X(40));return t._reactRootContainer?(Ro(function(){rd(null,null,t,!1,function(){t._reactRootContainer=null,t[jr]=null})}),!0):!1};Vn.unstable_batchedUpdates=Hg;Vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nd(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return rd(t,e,n,!1,r)};Vn.version="18.3.1-next-f1338f8080-20240426";function FS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FS)}catch(t){console.error(t)}}FS(),FE.exports=Vn;var ey=FE.exports;const tm=ig(ey),JP=AE({__proto__:null,default:tm},[ey]);var y0=ey;lp.createRoot=y0.createRoot,lp.hydrateRoot=y0.hydrateRoot;const ZP="_root_oz0o3_1",eR="_logo_oz0o3_15",tR="_react_oz0o3_26",nR="_card_oz0o3_43",rR="_main_text_oz0o3_51",iR="_app_oz0o3_55",oR="_menu_oz0o3_70",sR="_btn_oz0o3_88",aR="_second_oz0o3_99",lR="_icon_oz0o3_103",uR="_invisible_oz0o3_115",cR="_clickButton_oz0o3_119",hR="_topbar_oz0o3_143",dR="_score_oz0o3_153",fR="_logos_oz0o3_160",pR="_scoreImg_oz0o3_166",In={root:ZP,logo:eR,react:tR,"logo-spin":"_logo-spin_oz0o3_1",card:nR,"read-the-docs":"_read-the-docs_oz0o3_47",main_text:rR,app:iR,menu:oR,btn:sR,second:aR,icon:lR,invisible:uR,clickButton:cR,"click-animation":"_click-animation_oz0o3_1",topbar:hR,score:dR,logos:fR,scoreImg:pR};var v0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},$S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,f=(o&3)<<4|a>>4;let p=(a&15)<<2|c>>6,w=c&63;u||(w=64,s||(p=64)),r.push(n[h],n[f],n[p],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new gR;const p=o<<2|a>>4;if(r.push(p),c!==64){const w=a<<4&240|c>>2;if(r.push(w),f!==64){const A=c<<6&192|f;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yR=function(t){const e=BS(t);return $S.encodeByteArray(e,!0)},Eh=function(t){return yR(t).replace(/\./g,"")},vR=function(t){try{return $S.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sh(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!_R(n)||(t[n]=Sh(t[n],e[n]));return t}function _R(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=()=>wR().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof v0>"u")return;const t=v0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vR(t[1]);return e&&JSON.parse(e)},jS=()=>{try{return ER()||SR()||TR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zS=()=>{var t;return(t=jS())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Eh(JSON.stringify(n)),Eh(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AR(){var t;const e=(t=jS())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function US(){return typeof self=="object"&&self.self===self}function WS(){return!AR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qS(){try{return typeof indexedDB=="object"}catch{return!1}}function CR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="FirebaseError";class Go extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xR,Object.setPrototypeOf(this,Go.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,id.prototype.create)}}class id{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?PR(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Go(i,a,r)}}function PR(t,e){return t.replace(RR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(w0(o)&&w0(s)){if(!zl(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function w0(t){return t!==null&&typeof t=="object"}function kR(t,e){const n=new DR(t,e);return n.subscribe.bind(n)}class DR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nf),i.error===void 0&&(i.error=Nf),i.complete===void 0&&(i.complete=Nf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){return t&&t._delegate?t._delegate:t}class ko{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new IR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MR(e))try{this.getOrInitializeService({instanceIdentifier:oo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oo){return this.instances.has(e)}getOptions(e=oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oo){return this.component?this.component.multipleInstances?e:oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OR(t){return t===oo?void 0:t}function MR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=[];var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const GS={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},LR=be.INFO,FR={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},BR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=FR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ny{constructor(e){this.name=e,this._logLevel=LR,this._logHandler=BR,this._userLogHandler=null,ty.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}function $R(t){ty.forEach(e=>{e.setLogLevel(t)})}function jR(t,e){for(const n of ty){let r=null;e&&e.level&&(r=GS[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...s)=>{const a=s.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");o>=(r??i.logLevel)&&t({level:be[o].toLowerCase(),message:a,args:s,type:i.name})}}}const zR=(t,e)=>e.some(n=>t instanceof n);let E0,S0;function UR(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WR(){return S0||(S0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KS=new WeakMap,nm=new WeakMap,QS=new WeakMap,Of=new WeakMap,ry=new WeakMap;function qR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ci(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&KS.set(n,t)}).catch(()=>{}),ry.set(e,t),e}function HR(t){if(nm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});nm.set(t,e)}let rm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GR(t){rm=t(rm)}function KR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mf(this),e,...n);return QS.set(r,e.sort?e.sort():[e]),Ci(r)}:WR().includes(t)?function(...e){return t.apply(Mf(this),e),Ci(KS.get(this))}:function(...e){return Ci(t.apply(Mf(this),e))}}function QR(t){return typeof t=="function"?KR(t):(t instanceof IDBTransaction&&HR(t),zR(t,UR())?new Proxy(t,rm):t)}function Ci(t){if(t instanceof IDBRequest)return qR(t);if(Of.has(t))return Of.get(t);const e=QR(t);return e!==t&&(Of.set(t,e),ry.set(e,t)),e}const Mf=t=>ry.get(t);function XR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ci(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ci(s.result),u.oldVersion,u.newVersion,Ci(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const YR=["get","getKey","getAll","getAllKeys","count"],JR=["put","add","delete","clear"],Lf=new Map;function T0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YR.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Lf.set(e,o),o}GR(t=>({...t,get:(e,n,r)=>T0(e,n)||t.get(e,n,r),has:(e,n)=>!!T0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(e2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function e2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ih="@firebase/app",im="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new ny("@firebase/app"),t2="@firebase/app-compat",n2="@firebase/analytics-compat",r2="@firebase/analytics",i2="@firebase/app-check-compat",o2="@firebase/app-check",s2="@firebase/auth",a2="@firebase/auth-compat",l2="@firebase/database",u2="@firebase/database-compat",c2="@firebase/functions",h2="@firebase/functions-compat",d2="@firebase/installations",f2="@firebase/installations-compat",p2="@firebase/messaging",m2="@firebase/messaging-compat",g2="@firebase/performance",y2="@firebase/performance-compat",v2="@firebase/remote-config",_2="@firebase/remote-config-compat",w2="@firebase/storage",E2="@firebase/storage-compat",S2="@firebase/firestore",T2="@firebase/vertexai-preview",I2="@firebase/firestore-compat",b2="firebase",A2="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]",C2={[Ih]:"fire-core",[t2]:"fire-core-compat",[r2]:"fire-analytics",[n2]:"fire-analytics-compat",[o2]:"fire-app-check",[i2]:"fire-app-check-compat",[s2]:"fire-auth",[a2]:"fire-auth-compat",[l2]:"fire-rtdb",[u2]:"fire-rtdb-compat",[c2]:"fire-fn",[h2]:"fire-fn-compat",[d2]:"fire-iid",[f2]:"fire-iid-compat",[p2]:"fire-fcm",[m2]:"fire-fcm-compat",[g2]:"fire-perf",[y2]:"fire-perf-compat",[v2]:"fire-rc",[_2]:"fire-rc-compat",[w2]:"fire-gcs",[E2]:"fire-gcs-compat",[S2]:"fire-fst",[I2]:"fire-fst-compat",[T2]:"fire-vertex","fire-js":"fire-js",[b2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Map,Ks=new Map,Qs=new Map;function Ul(t,e){try{t.container.addComponent(e)}catch(n){Do.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function XS(t,e){t.container.addOrOverwriteComponent(e)}function Xs(t){const e=t.name;if(Qs.has(e))return Do.debug(`There were multiple attempts to register component ${e}.`),!1;Qs.set(e,t);for(const n of Di.values())Ul(n,t);for(const n of Ks.values())Ul(n,t);return!0}function YS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function x2(t,e,n=ki){YS(t,e).clearInstance(n)}function JS(t){return t.options!==void 0}function P2(t){return t.settings!==void 0}function R2(){Qs.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gn=new id("app","Firebase",k2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZS=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2 extends ZS{constructor(e,n,r,i){const o=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,s={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,s,i);else{const a=e;super(a.options,s,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Br(Ih,im,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){sy(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Gn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=A2;function oy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ki,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gn.create("bad-app-name",{appName:String(i)});if(n||(n=zS()),!n)throw Gn.create("no-options");const o=Di.get(i);if(o){if(zl(n,o.options)&&zl(r,o.config))return o;throw Gn.create("duplicate-app",{appName:i})}const s=new HS(i);for(const u of Qs.values())s.addComponent(u);const a=new ZS(n,r,s);return Di.set(i,a),a}function V2(t,e){if(US())throw Gn.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;JS(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=c=>[...c].reduce((h,f)=>Math.imul(31,h)+f.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Gn.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),s=Ks.get(o);if(s)return s.incRefCount(e.releaseOnDeref),s;const a=new HS(o);for(const c of Qs.values())a.addComponent(c);const u=new D2(n,e,o,a);return Ks.set(o,u),u}function N2(t=ki){const e=Di.get(t);if(!e&&t===ki&&zS())return oy();if(!e)throw Gn.create("no-app",{appName:t});return e}function O2(){return Array.from(Di.values())}async function sy(t){let e=!1;const n=t.name;Di.has(n)?(e=!0,Di.delete(n)):Ks.has(n)&&t.decRefCount()<=0&&(Ks.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Br(t,e,n){var r;let i=(r=C2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Do.warn(a.join(" "));return}Xs(new ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function eT(t,e){if(t!==null&&typeof t!="function")throw Gn.create("invalid-log-argument");jR(t,e)}function tT(t){$R(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="firebase-heartbeat-database",L2=1,Wl="firebase-heartbeat-store";let Ff=null;function nT(){return Ff||(Ff=XR(M2,L2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gn.create("idb-open",{originalErrorMessage:t.message})})),Ff}async function F2(t){try{const n=(await nT()).transaction(Wl),r=await n.objectStore(Wl).get(rT(t));return await n.done,r}catch(e){if(e instanceof Go)Do.warn(e.message);else{const n=Gn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Do.warn(n.message)}}}async function I0(t,e){try{const r=(await nT()).transaction(Wl,"readwrite");await r.objectStore(Wl).put(e,rT(t)),await r.done}catch(n){if(n instanceof Go)Do.warn(n.message);else{const r=Gn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Do.warn(r.message)}}}function rT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=1024,$2=30*24*60*60*1e3;class j2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new U2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=b0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=$2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b0(),{heartbeatsToSend:r,unsentEntries:i}=z2(this._heartbeatsCache.heartbeats),o=Eh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function b0(){return new Date().toISOString().substring(0,10)}function z2(t,e=B2){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),A0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),A0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class U2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qS()?CR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await F2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return I0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return I0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function A0(t){return Eh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t){Xs(new ko("platform-logger",e=>new ZR(e),"PRIVATE")),Xs(new ko("heartbeat",e=>new j2(e),"PRIVATE")),Br(Ih,im,t),Br(Ih,im,"esm2017"),Br("fire-js","")}W2("");const q2=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Go,SDK_VERSION:iy,_DEFAULT_ENTRY_NAME:ki,_addComponent:Ul,_addOrOverwriteComponent:XS,_apps:Di,_clearComponents:R2,_components:Qs,_getProvider:YS,_isFirebaseApp:JS,_isFirebaseServerApp:P2,_registerComponent:Xs,_removeServiceInstance:x2,_serverApps:Ks,deleteApp:sy,getApp:N2,getApps:O2,initializeApp:oy,initializeServerApp:V2,onLog:eT,registerVersion:Br,setLogLevel:tT},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n){this._delegate=e,this.firebase=n,Ul(e,new ko("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),sy(this._delegate)))}_getService(e,n=ki){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ki){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Ul(this._delegate,e)}_addOrOverwriteComponent(e){XS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},C0=new id("app-compat","Firebase",G2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t){const e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion:Br,setLogLevel:tT,onLog:eT,apps:null,SDK_VERSION:iy,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:q2}};n.default=n,Object.defineProperty(n,"apps",{get:s});function r(c){delete e[c]}function i(c){if(c=c||ki,!_0(e,c))throw C0.create("no-app",{appName:c});return e[c]}i.App=t;function o(c,h={}){const f=oy(c,h);if(_0(e,f.name))return e[f.name];const p=new t(f,n);return e[f.name]=p,p}function s(){return Object.keys(e).map(c=>e[c])}function a(c){const h=c.name,f=h.replace("-compat","");if(Xs(c)&&c.type==="PUBLIC"){const p=(w=i())=>{if(typeof w[f]!="function")throw C0.create("invalid-app-argument",{appName:h});return w[f]()};c.serviceProps!==void 0&&Sh(p,c.serviceProps),n[f]=p,t.prototype[f]=function(...w){return this._getService.bind(this,h).apply(this,c.multipleInstances?w:[])}}return c.type==="PUBLIC"?n[f]:null}function u(c,h){return h==="serverAuth"?null:h}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){const t=K2(H2);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:iT,extendNamespace:e,createSubscribe:kR,ErrorFactory:id,deepExtend:Sh});function e(n){Sh(t,n)}return t}const Q2=iT();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new ny("@firebase/app-compat"),X2="@firebase/app-compat",Y2="0.2.35";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){Br(X2,Y2,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(US()&&self.firebase!==void 0){x0.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&x0.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const od=Q2;J2();var Z2="firebase",ek="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */od.registerVersion(Z2,ek,"app-compat");var P0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var So,oT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,y){function I(){}I.prototype=y.prototype,v.D=y.prototype,v.prototype=new I,v.prototype.constructor=v,v.C=function(b,P,R){for(var T=Array(arguments.length-2),re=2;re<arguments.length;re++)T[re-2]=arguments[re];return y.prototype[P].apply(b,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(v,y,I){I||(I=0);var b=Array(16);if(typeof y=="string")for(var P=0;16>P;++P)b[P]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(P=0;16>P;++P)b[P]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=v.g[0],I=v.g[1],P=v.g[2];var R=v.g[3],T=y+(R^I&(P^R))+b[0]+3614090360&4294967295;y=I+(T<<7&4294967295|T>>>25),T=R+(P^y&(I^P))+b[1]+3905402710&4294967295,R=y+(T<<12&4294967295|T>>>20),T=P+(I^R&(y^I))+b[2]+606105819&4294967295,P=R+(T<<17&4294967295|T>>>15),T=I+(y^P&(R^y))+b[3]+3250441966&4294967295,I=P+(T<<22&4294967295|T>>>10),T=y+(R^I&(P^R))+b[4]+4118548399&4294967295,y=I+(T<<7&4294967295|T>>>25),T=R+(P^y&(I^P))+b[5]+1200080426&4294967295,R=y+(T<<12&4294967295|T>>>20),T=P+(I^R&(y^I))+b[6]+2821735955&4294967295,P=R+(T<<17&4294967295|T>>>15),T=I+(y^P&(R^y))+b[7]+4249261313&4294967295,I=P+(T<<22&4294967295|T>>>10),T=y+(R^I&(P^R))+b[8]+1770035416&4294967295,y=I+(T<<7&4294967295|T>>>25),T=R+(P^y&(I^P))+b[9]+2336552879&4294967295,R=y+(T<<12&4294967295|T>>>20),T=P+(I^R&(y^I))+b[10]+4294925233&4294967295,P=R+(T<<17&4294967295|T>>>15),T=I+(y^P&(R^y))+b[11]+2304563134&4294967295,I=P+(T<<22&4294967295|T>>>10),T=y+(R^I&(P^R))+b[12]+1804603682&4294967295,y=I+(T<<7&4294967295|T>>>25),T=R+(P^y&(I^P))+b[13]+4254626195&4294967295,R=y+(T<<12&4294967295|T>>>20),T=P+(I^R&(y^I))+b[14]+2792965006&4294967295,P=R+(T<<17&4294967295|T>>>15),T=I+(y^P&(R^y))+b[15]+1236535329&4294967295,I=P+(T<<22&4294967295|T>>>10),T=y+(P^R&(I^P))+b[1]+4129170786&4294967295,y=I+(T<<5&4294967295|T>>>27),T=R+(I^P&(y^I))+b[6]+3225465664&4294967295,R=y+(T<<9&4294967295|T>>>23),T=P+(y^I&(R^y))+b[11]+643717713&4294967295,P=R+(T<<14&4294967295|T>>>18),T=I+(R^y&(P^R))+b[0]+3921069994&4294967295,I=P+(T<<20&4294967295|T>>>12),T=y+(P^R&(I^P))+b[5]+3593408605&4294967295,y=I+(T<<5&4294967295|T>>>27),T=R+(I^P&(y^I))+b[10]+38016083&4294967295,R=y+(T<<9&4294967295|T>>>23),T=P+(y^I&(R^y))+b[15]+3634488961&4294967295,P=R+(T<<14&4294967295|T>>>18),T=I+(R^y&(P^R))+b[4]+3889429448&4294967295,I=P+(T<<20&4294967295|T>>>12),T=y+(P^R&(I^P))+b[9]+568446438&4294967295,y=I+(T<<5&4294967295|T>>>27),T=R+(I^P&(y^I))+b[14]+3275163606&4294967295,R=y+(T<<9&4294967295|T>>>23),T=P+(y^I&(R^y))+b[3]+4107603335&4294967295,P=R+(T<<14&4294967295|T>>>18),T=I+(R^y&(P^R))+b[8]+1163531501&4294967295,I=P+(T<<20&4294967295|T>>>12),T=y+(P^R&(I^P))+b[13]+2850285829&4294967295,y=I+(T<<5&4294967295|T>>>27),T=R+(I^P&(y^I))+b[2]+4243563512&4294967295,R=y+(T<<9&4294967295|T>>>23),T=P+(y^I&(R^y))+b[7]+1735328473&4294967295,P=R+(T<<14&4294967295|T>>>18),T=I+(R^y&(P^R))+b[12]+2368359562&4294967295,I=P+(T<<20&4294967295|T>>>12),T=y+(I^P^R)+b[5]+4294588738&4294967295,y=I+(T<<4&4294967295|T>>>28),T=R+(y^I^P)+b[8]+2272392833&4294967295,R=y+(T<<11&4294967295|T>>>21),T=P+(R^y^I)+b[11]+1839030562&4294967295,P=R+(T<<16&4294967295|T>>>16),T=I+(P^R^y)+b[14]+4259657740&4294967295,I=P+(T<<23&4294967295|T>>>9),T=y+(I^P^R)+b[1]+2763975236&4294967295,y=I+(T<<4&4294967295|T>>>28),T=R+(y^I^P)+b[4]+1272893353&4294967295,R=y+(T<<11&4294967295|T>>>21),T=P+(R^y^I)+b[7]+4139469664&4294967295,P=R+(T<<16&4294967295|T>>>16),T=I+(P^R^y)+b[10]+3200236656&4294967295,I=P+(T<<23&4294967295|T>>>9),T=y+(I^P^R)+b[13]+681279174&4294967295,y=I+(T<<4&4294967295|T>>>28),T=R+(y^I^P)+b[0]+3936430074&4294967295,R=y+(T<<11&4294967295|T>>>21),T=P+(R^y^I)+b[3]+3572445317&4294967295,P=R+(T<<16&4294967295|T>>>16),T=I+(P^R^y)+b[6]+76029189&4294967295,I=P+(T<<23&4294967295|T>>>9),T=y+(I^P^R)+b[9]+3654602809&4294967295,y=I+(T<<4&4294967295|T>>>28),T=R+(y^I^P)+b[12]+3873151461&4294967295,R=y+(T<<11&4294967295|T>>>21),T=P+(R^y^I)+b[15]+530742520&4294967295,P=R+(T<<16&4294967295|T>>>16),T=I+(P^R^y)+b[2]+3299628645&4294967295,I=P+(T<<23&4294967295|T>>>9),T=y+(P^(I|~R))+b[0]+4096336452&4294967295,y=I+(T<<6&4294967295|T>>>26),T=R+(I^(y|~P))+b[7]+1126891415&4294967295,R=y+(T<<10&4294967295|T>>>22),T=P+(y^(R|~I))+b[14]+2878612391&4294967295,P=R+(T<<15&4294967295|T>>>17),T=I+(R^(P|~y))+b[5]+4237533241&4294967295,I=P+(T<<21&4294967295|T>>>11),T=y+(P^(I|~R))+b[12]+1700485571&4294967295,y=I+(T<<6&4294967295|T>>>26),T=R+(I^(y|~P))+b[3]+2399980690&4294967295,R=y+(T<<10&4294967295|T>>>22),T=P+(y^(R|~I))+b[10]+4293915773&4294967295,P=R+(T<<15&4294967295|T>>>17),T=I+(R^(P|~y))+b[1]+2240044497&4294967295,I=P+(T<<21&4294967295|T>>>11),T=y+(P^(I|~R))+b[8]+1873313359&4294967295,y=I+(T<<6&4294967295|T>>>26),T=R+(I^(y|~P))+b[15]+4264355552&4294967295,R=y+(T<<10&4294967295|T>>>22),T=P+(y^(R|~I))+b[6]+2734768916&4294967295,P=R+(T<<15&4294967295|T>>>17),T=I+(R^(P|~y))+b[13]+1309151649&4294967295,I=P+(T<<21&4294967295|T>>>11),T=y+(P^(I|~R))+b[4]+4149444226&4294967295,y=I+(T<<6&4294967295|T>>>26),T=R+(I^(y|~P))+b[11]+3174756917&4294967295,R=y+(T<<10&4294967295|T>>>22),T=P+(y^(R|~I))+b[2]+718787259&4294967295,P=R+(T<<15&4294967295|T>>>17),T=I+(R^(P|~y))+b[9]+3951481745&4294967295,v.g[0]=v.g[0]+y&4294967295,v.g[1]=v.g[1]+(P+(T<<21&4294967295|T>>>11))&4294967295,v.g[2]=v.g[2]+P&4294967295,v.g[3]=v.g[3]+R&4294967295}r.prototype.u=function(v,y){y===void 0&&(y=v.length);for(var I=y-this.blockSize,b=this.B,P=this.h,R=0;R<y;){if(P==0)for(;R<=I;)i(this,v,R),R+=this.blockSize;if(typeof v=="string"){for(;R<y;)if(b[P++]=v.charCodeAt(R++),P==this.blockSize){i(this,b),P=0;break}}else for(;R<y;)if(b[P++]=v[R++],P==this.blockSize){i(this,b),P=0;break}}this.h=P,this.o+=y},r.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var y=1;y<v.length-8;++y)v[y]=0;var I=8*this.o;for(y=v.length-8;y<v.length;++y)v[y]=I&255,I/=256;for(this.u(v),v=Array(16),y=I=0;4>y;++y)for(var b=0;32>b;b+=8)v[I++]=this.g[y]>>>b&255;return v};function o(v,y){var I=a;return Object.prototype.hasOwnProperty.call(I,v)?I[v]:I[v]=y(v)}function s(v,y){this.h=y;for(var I=[],b=!0,P=v.length-1;0<=P;P--){var R=v[P]|0;b&&R==y||(I[P]=R,b=!1)}this.g=I}var a={};function u(v){return-128<=v&&128>v?o(v,function(y){return new s([y|0],0>y?-1:0)}):new s([v|0],0>v?-1:0)}function c(v){if(isNaN(v)||!isFinite(v))return f;if(0>v)return D(c(-v));for(var y=[],I=1,b=0;v>=I;b++)y[b]=v/I|0,I*=4294967296;return new s(y,0)}function h(v,y){if(v.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(v.charAt(0)=="-")return D(h(v.substring(1),y));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(y,8)),b=f,P=0;P<v.length;P+=8){var R=Math.min(8,v.length-P),T=parseInt(v.substring(P,P+R),y);8>R?(R=c(Math.pow(y,R)),b=b.j(R).add(c(T))):(b=b.j(I),b=b.add(c(T)))}return b}var f=u(0),p=u(1),w=u(16777216);t=s.prototype,t.m=function(){if(C(this))return-D(this).m();for(var v=0,y=1,I=0;I<this.g.length;I++){var b=this.i(I);v+=(0<=b?b:4294967296+b)*y,y*=4294967296}return v},t.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(A(this))return"0";if(C(this))return"-"+D(this).toString(v);for(var y=c(Math.pow(v,6)),I=this,b="";;){var P=x(I,y).g;I=S(I,P.j(y));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(v);if(I=P,A(I))return R+b;for(;6>R.length;)R="0"+R;b=R+b}},t.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function A(v){if(v.h!=0)return!1;for(var y=0;y<v.g.length;y++)if(v.g[y]!=0)return!1;return!0}function C(v){return v.h==-1}t.l=function(v){return v=S(this,v),C(v)?-1:A(v)?0:1};function D(v){for(var y=v.g.length,I=[],b=0;b<y;b++)I[b]=~v.g[b];return new s(I,~v.h).add(p)}t.abs=function(){return C(this)?D(this):this},t.add=function(v){for(var y=Math.max(this.g.length,v.g.length),I=[],b=0,P=0;P<=y;P++){var R=b+(this.i(P)&65535)+(v.i(P)&65535),T=(R>>>16)+(this.i(P)>>>16)+(v.i(P)>>>16);b=T>>>16,R&=65535,T&=65535,I[P]=T<<16|R}return new s(I,I[I.length-1]&-2147483648?-1:0)};function S(v,y){return v.add(D(y))}t.j=function(v){if(A(this)||A(v))return f;if(C(this))return C(v)?D(this).j(D(v)):D(D(this).j(v));if(C(v))return D(this.j(D(v)));if(0>this.l(w)&&0>v.l(w))return c(this.m()*v.m());for(var y=this.g.length+v.g.length,I=[],b=0;b<2*y;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(var P=0;P<v.g.length;P++){var R=this.i(b)>>>16,T=this.i(b)&65535,re=v.i(P)>>>16,he=v.i(P)&65535;I[2*b+2*P]+=T*he,g(I,2*b+2*P),I[2*b+2*P+1]+=R*he,g(I,2*b+2*P+1),I[2*b+2*P+1]+=T*re,g(I,2*b+2*P+1),I[2*b+2*P+2]+=R*re,g(I,2*b+2*P+2)}for(b=0;b<y;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=y;b<2*y;b++)I[b]=0;return new s(I,0)};function g(v,y){for(;(v[y]&65535)!=v[y];)v[y+1]+=v[y]>>>16,v[y]&=65535,y++}function _(v,y){this.g=v,this.h=y}function x(v,y){if(A(y))throw Error("division by zero");if(A(v))return new _(f,f);if(C(v))return y=x(D(v),y),new _(D(y.g),D(y.h));if(C(y))return y=x(v,D(y)),new _(D(y.g),y.h);if(30<v.g.length){if(C(v)||C(y))throw Error("slowDivide_ only works with positive integers.");for(var I=p,b=y;0>=b.l(v);)I=N(I),b=N(b);var P=M(I,1),R=M(b,1);for(b=M(b,2),I=M(I,2);!A(b);){var T=R.add(b);0>=T.l(v)&&(P=P.add(I),R=T),b=M(b,1),I=M(I,1)}return y=S(v,P.j(y)),new _(P,y)}for(P=f;0<=v.l(y);){for(I=Math.max(1,Math.floor(v.m()/y.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),R=c(I),T=R.j(y);C(T)||0<T.l(v);)I-=b,R=c(I),T=R.j(y);A(R)&&(R=p),P=P.add(R),v=S(v,T)}return new _(P,v)}t.A=function(v){return x(this,v).h},t.and=function(v){for(var y=Math.max(this.g.length,v.g.length),I=[],b=0;b<y;b++)I[b]=this.i(b)&v.i(b);return new s(I,this.h&v.h)},t.or=function(v){for(var y=Math.max(this.g.length,v.g.length),I=[],b=0;b<y;b++)I[b]=this.i(b)|v.i(b);return new s(I,this.h|v.h)},t.xor=function(v){for(var y=Math.max(this.g.length,v.g.length),I=[],b=0;b<y;b++)I[b]=this.i(b)^v.i(b);return new s(I,this.h^v.h)};function N(v){for(var y=v.g.length+1,I=[],b=0;b<y;b++)I[b]=v.i(b)<<1|v.i(b-1)>>>31;return new s(I,v.h)}function M(v,y){var I=y>>5;y%=32;for(var b=v.g.length-I,P=[],R=0;R<b;R++)P[R]=0<y?v.i(R+I)>>>y|v.i(R+I+1)<<32-y:v.i(R+I);return new s(P,v.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oT=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=h,So=s}).apply(typeof P0<"u"?P0:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sT,aT,rl,lT,Nc,om,uT,cT,hT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,m){return l==Array.prototype||l==Object.prototype||(l[d]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var m=r;l=l.split(".");for(var E=0;E<l.length-1;E++){var L=l[E];if(!(L in m))break e;m=m[L]}l=l[l.length-1],E=m[l],d=d(E),d!=E&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}function o(l,d){l instanceof String&&(l+="");var m=0,E=!1,L={next:function(){if(!E&&m<l.length){var z=m++;return{value:d(z,l[z]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(l){return l||function(){return o(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,m){return l.call.apply(l.bind,arguments)}function f(l,d,m){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),l.apply(d,L)}}return function(){return l.apply(d,arguments)}}function p(l,d,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function w(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var E=m.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function A(l,d){function m(){}m.prototype=d.prototype,l.aa=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(E,L,z){for(var J=Array(arguments.length-2),We=2;We<arguments.length;We++)J[We-2]=arguments[We];return d.prototype[L].apply(E,J)}}function C(l){const d=l.length;if(0<d){const m=Array(d);for(let E=0;E<d;E++)m[E]=l[E];return m}return[]}function D(l,d){for(let m=1;m<arguments.length;m++){const E=arguments[m];if(u(E)){const L=l.length||0,z=E.length||0;l.length=L+z;for(let J=0;J<z;J++)l[L+J]=E[J]}else l.push(E)}}class S{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function g(l){return/^[\s\xa0]*$/.test(l)}function _(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function x(l){return x[" "](l),l}x[" "]=function(){};var N=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function M(l,d,m){for(const E in l)d.call(m,l[E],E,l)}function v(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function y(l){const d={};for(const m in l)d[m]=l[m];return d}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(l,d){let m,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(m in E)l[m]=E[m];for(let z=0;z<I.length;z++)m=I[z],Object.prototype.hasOwnProperty.call(E,m)&&(l[m]=E[m])}}function P(l){var d=1;l=l.split(":");const m=[];for(;0<d&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function R(l){a.setTimeout(()=>{throw l},0)}function T(){var l=U;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class re{constructor(){this.h=this.g=null}add(d,m){const E=he.get();E.set(d,m),this.h?this.h.next=E:this.g=E,this.h=E}}var he=new S(()=>new q,l=>l.reset());class q{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let W,O=!1,U=new re,Q=()=>{const l=a.Promise.resolve(void 0);W=()=>{l.then(Y)}};var Y=()=>{for(var l;l=T();){try{l.h.call(l.g)}catch(m){R(m)}var d=he;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}O=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,d),a.removeEventListener("test",m,d)}catch{}return l}();function Ne(l,d){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(N){e:{try{x(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ze[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ne.aa.h.call(this)}}A(Ne,de);var ze={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Jn=0;function On(l,d,m,E,L){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!E,this.ha=L,this.key=++Jn,this.da=this.fa=!1}function Nt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ot(l){this.src=l,this.g={},this.h=0}Ot.prototype.add=function(l,d,m,E,L){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var J=Ie(l,d,E,L);return-1<J?(d=l[J],m||(d.fa=!1)):(d=new On(d,this.src,z,!!E,L),d.fa=m,l.push(d)),d};function Zn(l,d){var m=d.type;if(m in l.g){var E=l.g[m],L=Array.prototype.indexOf.call(E,d,void 0),z;(z=0<=L)&&Array.prototype.splice.call(E,L,1),z&&(Nt(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Ie(l,d,m,E){for(var L=0;L<l.length;++L){var z=l[L];if(!z.da&&z.listener==d&&z.capture==!!m&&z.ha==E)return L}return-1}var Mn="closure_lm_"+(1e6*Math.random()|0),At={};function ct(l,d,m,E,L){if(Array.isArray(d)){for(var z=0;z<d.length;z++)ct(l,d[z],m,E,L);return null}return m=Ut(m),l&&l[Oe]?l.K(d,m,c(E)?!!E.capture:!!E,L):Ln(l,d,m,!1,E,L)}function Ln(l,d,m,E,L,z){if(!d)throw Error("Invalid event type");var J=c(L)?!!L.capture:!!L,We=un(l);if(We||(l[Mn]=We=new Ot(l)),m=We.add(d,m,E,J,z),m.proxy)return m;if(E=_n(),m.proxy=E,E.src=l,E.listener=m,l.addEventListener)we||(L=J),L===void 0&&(L=!1),l.addEventListener(d.toString(),E,L);else if(l.attachEvent)l.attachEvent(ot(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return m}function _n(){function l(m){return d.call(l.src,l.listener,m)}const d=wn;return l}function it(l,d,m,E,L){if(Array.isArray(d))for(var z=0;z<d.length;z++)it(l,d[z],m,E,L);else E=c(E)?!!E.capture:!!E,m=Ut(m),l&&l[Oe]?(l=l.i,d=String(d).toString(),d in l.g&&(z=l.g[d],m=Ie(z,m,E,L),-1<m&&(Nt(z[m]),Array.prototype.splice.call(z,m,1),z.length==0&&(delete l.g[d],l.h--)))):l&&(l=un(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Ie(d,m,E,L)),(m=-1<l?d[l]:null)&&qe(m))}function qe(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Oe])Zn(d.i,l);else{var m=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(m,E,l.capture):d.detachEvent?d.detachEvent(ot(m),E):d.addListener&&d.removeListener&&d.removeListener(E),(m=un(d))?(Zn(m,l),m.h==0&&(m.src=null,d[Mn]=null)):Nt(l)}}}function ot(l){return l in At?At[l]:At[l]="on"+l}function wn(l,d){if(l.da)l=!0;else{d=new Ne(d,this);var m=l.listener,E=l.ha||l.src;l.fa&&qe(l),l=m.call(E,d)}return l}function un(l){return l=l[Mn],l instanceof Ot?l:null}var pr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ut(l){return typeof l=="function"?l:(l[pr]||(l[pr]=function(d){return l.handleEvent(d)}),l[pr])}function Ee(){Z.call(this),this.i=new Ot(this),this.M=this,this.F=null}A(Ee,Z),Ee.prototype[Oe]=!0,Ee.prototype.removeEventListener=function(l,d,m,E){it(this,l,d,m,E)};function ke(l,d){var m,E=l.F;if(E)for(m=[];E;E=E.F)m.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new de(d,l);else if(d instanceof de)d.target=d.target||l;else{var L=d;d=new de(E,l),b(d,L)}if(L=!0,m)for(var z=m.length-1;0<=z;z--){var J=d.g=m[z];L=Fn(J,E,!0,d)&&L}if(J=d.g=l,L=Fn(J,E,!0,d)&&L,L=Fn(J,E,!1,d)&&L,m)for(z=0;z<m.length;z++)J=d.g=m[z],L=Fn(J,E,!1,d)&&L}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var m=l.g[d],E=0;E<m.length;E++)Nt(m[E]);delete l.g[d],l.h--}}this.F=null},Ee.prototype.K=function(l,d,m,E){return this.i.add(String(l),d,!1,m,E)},Ee.prototype.L=function(l,d,m,E){return this.i.add(String(l),d,!0,m,E)};function Fn(l,d,m,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,z=0;z<d.length;++z){var J=d[z];if(J&&!J.da&&J.capture==m){var We=J.listener,Mt=J.ha||J.src;J.fa&&Zn(l.i,J),L=We.call(Mt,E)!==!1&&L}}return L&&!E.defaultPrevented}function mr(l,d,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function es(l){l.g=mr(()=>{l.g=null,l.i&&(l.i=!1,es(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class xa extends Z{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:es(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(l){Z.call(this),this.h=l,this.g={}}A(En,Z);var ts=[];function ns(l){M(l.g,function(d,m){this.g.hasOwnProperty(m)&&qe(d)},l),l.g={}}En.prototype.N=function(){En.aa.N.call(this),ns(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cr=a.JSON.stringify,k=a.JSON.parse,V=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function F(){}F.prototype.h=null;function K(l){return l.h||(l.h=l.i())}function ne(){}var pe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ae(){de.call(this,"d")}A(ae,de);function Ve(){de.call(this,"c")}A(Ve,de);var ye={},le=null;function Ue(){return le=le||new Ee}ye.La="serverreachability";function Sn(l){de.call(this,ye.La,l)}A(Sn,de);function $e(l){const d=Ue();ke(d,new Sn(d))}ye.STAT_EVENT="statevent";function ht(l,d){de.call(this,ye.STAT_EVENT,l),this.stat=d}A(ht,de);function Me(l){const d=Ue();ke(d,new ht(d,l))}ye.Ma="timingevent";function Yt(l,d){de.call(this,ye.Ma,l),this.size=d}A(Yt,de);function Bn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function se(){this.g=!0}se.prototype.xa=function(){this.g=!1};function Jt(l,d,m,E,L,z){l.info(function(){if(l.g)if(z)for(var J="",We=z.split("&"),Mt=0;Mt<We.length;Mt++){var De=We[Mt].split("=");if(1<De.length){var Wt=De[0];De=De[1];var qt=Wt.split("_");J=2<=qt.length&&qt[1]=="type"?J+(Wt+"="+De+"&"):J+(Wt+"=redacted&")}}else J=null;else J=z;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+d+`
`+m+`
`+J})}function Zr(l,d,m,E,L,z,J){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+d+`
`+m+`
`+z+" "+J})}function $n(l,d,m,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Kd(l,m)+(E?" "+E:"")})}function Gd(l,d){l.info(function(){return"TIMEOUT: "+d})}se.prototype.info=function(){};function Kd(l,d){if(!l.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var E=m[l];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var J=1;J<L.length;J++)L[J]=""}}}}return Cr(m)}catch{return d}}var rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qd;function ku(){}A(ku,F),ku.prototype.g=function(){return new XMLHttpRequest},ku.prototype.i=function(){return{}},Qd=new ku;function ei(l,d,m,E){this.j=l,this.i=d,this.l=m,this.R=E||1,this.U=new En(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bv}function bv(){this.i=null,this.g="",this.h=!1}var Av={},Xd={};function Yd(l,d,m){l.L=1,l.v=Ou(xr(d)),l.m=m,l.P=!0,Cv(l,null)}function Cv(l,d){l.F=Date.now(),Du(l),l.A=xr(l.v);var m=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),jv(m.i,"t",E),l.C=0,m=l.j.J,l.h=new bv,l.g=o_(l.j,m?d:null,!l.m),0<l.O&&(l.M=new xa(p(l.Y,l,l.g),l.O)),d=l.U,m=l.g,E=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(ts[0]=L.toString()),L=ts);for(var z=0;z<L.length;z++){var J=ct(m,L[z],E||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),$e(),Jt(l.i,l.u,l.A,l.l,l.R,l.m)}ei.prototype.ca=function(l){l=l.target;const d=this.M;d&&Pr(l)==3?d.j():this.Y(l)},ei.prototype.Y=function(l){try{if(l==this.g)e:{const qt=Pr(this.g);var d=this.g.Ba();const ss=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||Kv(this.g)))){this.J||qt!=4||d==7||(d==8||0>=ss?$e(3):$e(2)),Jd(this);var m=this.g.Z();this.X=m;t:if(xv(this)){var E=Kv(this.g);l="";var L=E.length,z=Pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zi(this),Pa(this);var J="";break t}this.h.i=new a.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(z&&d==L-1)});E.length=0,this.h.g+=l,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=m==200,Zr(this.i,this.u,this.A,this.l,this.R,qt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Mt=this.g;if((We=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(We)){var De=We;break t}}De=null}if(m=De)$n(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zd(this,m);else{this.o=!1,this.s=3,Me(12),Zi(this),Pa(this);break e}}if(this.P){m=!0;let er;for(;!this.J&&this.C<J.length;)if(er=lC(this,J),er==Xd){qt==4&&(this.s=4,Me(14),m=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(er==Av){this.s=4,Me(15),$n(this.i,this.l,J,"[Invalid Chunk]"),m=!1;break}else $n(this.i,this.l,er,null),Zd(this,er);if(xv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||J.length!=0||this.h.h||(this.s=1,Me(16),m=!1),this.o=this.o&&m,!m)$n(this.i,this.l,J,"[Invalid Chunked Response]"),Zi(this),Pa(this);else if(0<J.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),sf(Wt),Wt.M=!0,Me(11))}}else $n(this.i,this.l,J,null),Zd(this,J);qt==4&&Zi(this),this.o&&!this.J&&(qt==4?t_(this.j,this):(this.o=!1,Du(this)))}else bC(this.g),m==400&&0<J.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),Zi(this),Pa(this)}}}catch{}finally{}};function xv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function lC(l,d){var m=l.C,E=d.indexOf(`
`,m);return E==-1?Xd:(m=Number(d.substring(m,E)),isNaN(m)?Av:(E+=1,E+m>d.length?Xd:(d=d.slice(E,E+m),l.C=E+m,d)))}ei.prototype.cancel=function(){this.J=!0,Zi(this)};function Du(l){l.S=Date.now()+l.I,Pv(l,l.I)}function Pv(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Bn(p(l.ba,l),d)}function Jd(l){l.B&&(a.clearTimeout(l.B),l.B=null)}ei.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Gd(this.i,this.A),this.L!=2&&($e(),Me(17)),Zi(this),this.s=2,Pa(this)):Pv(this,this.S-l)};function Pa(l){l.j.G==0||l.J||t_(l.j,l)}function Zi(l){Jd(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,ns(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Zd(l,d){try{var m=l.j;if(m.G!=0&&(m.g==l||ef(m.h,l))){if(!l.K&&ef(m.h,l)&&m.G==3){try{var E=m.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)$u(m),Fu(m);else break e;of(m),Me(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=Bn(p(m.Za,m),6e3));if(1>=Dv(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else to(m,11)}else if((l.K||m.g==l)&&$u(m),!g(d))for(L=m.Da.g.parse(d),d=0;d<L.length;d++){let De=L[d];if(m.T=De[0],De=De[1],m.G==2)if(De[0]=="c"){m.K=De[1],m.ia=De[2];const Wt=De[3];Wt!=null&&(m.la=Wt,m.j.info("VER="+m.la));const qt=De[4];qt!=null&&(m.Aa=qt,m.j.info("SVER="+m.Aa));const ss=De[5];ss!=null&&typeof ss=="number"&&0<ss&&(E=1.5*ss,m.L=E,m.j.info("backChannelRequestTimeoutMs_="+E)),E=m;const er=l.g;if(er){const zu=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zu){var z=E.h;z.g||zu.indexOf("spdy")==-1&&zu.indexOf("quic")==-1&&zu.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(tf(z,z.h),z.h=null))}if(E.D){const af=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;af&&(E.ya=af,Ke(E.I,E.D,af))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),E=m;var J=l;if(E.qa=i_(E,E.J?E.ia:null,E.W),J.K){Vv(E.h,J);var We=J,Mt=E.L;Mt&&(We.I=Mt),We.B&&(Jd(We),Du(We)),E.g=J}else Zv(E);0<m.i.length&&Bu(m)}else De[0]!="stop"&&De[0]!="close"||to(m,7);else m.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?to(m,7):rf(m):De[0]!="noop"&&m.l&&m.l.ta(De),m.v=0)}}$e(4)}catch{}}var uC=class{constructor(l,d){this.g=l,this.map=d}};function Rv(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Dv(l){return l.h?1:l.g?l.g.size:0}function ef(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function tf(l,d){l.g?l.g.add(d):l.h=d}function Vv(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Rv.prototype.cancel=function(){if(this.i=Nv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Nv(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.D);return d}return C(l.i)}function cC(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],m=l.length,E=0;E<m;E++)d.push(l[E]);return d}d=[],m=0;for(E in l)d[m++]=l[E];return d}function hC(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var m=0;m<l;m++)d.push(m);return d}d=[],m=0;for(const E in l)d[m++]=E;return d}}}function Ov(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var m=hC(l),E=cC(l),L=E.length,z=0;z<L;z++)d.call(void 0,E[z],m&&m[z],l)}var Mv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dC(l,d){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var E=l[m].indexOf("="),L=null;if(0<=E){var z=l[m].substring(0,E);L=l[m].substring(E+1)}else z=l[m];d(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function eo(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof eo){this.h=l.h,Vu(this,l.j),this.o=l.o,this.g=l.g,Nu(this,l.s),this.l=l.l;var d=l.i,m=new Da;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),Lv(this,m),this.m=l.m}else l&&(d=String(l).match(Mv))?(this.h=!1,Vu(this,d[1]||"",!0),this.o=Ra(d[2]||""),this.g=Ra(d[3]||"",!0),Nu(this,d[4]),this.l=Ra(d[5]||"",!0),Lv(this,d[6]||"",!0),this.m=Ra(d[7]||"")):(this.h=!1,this.i=new Da(null,this.h))}eo.prototype.toString=function(){var l=[],d=this.j;d&&l.push(ka(d,Fv,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(ka(d,Fv,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(ka(m,m.charAt(0)=="/"?mC:pC,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",ka(m,yC)),l.join("")};function xr(l){return new eo(l)}function Vu(l,d,m){l.j=m?Ra(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Nu(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Lv(l,d,m){d instanceof Da?(l.i=d,vC(l.i,l.h)):(m||(d=ka(d,gC)),l.i=new Da(d,l.h))}function Ke(l,d,m){l.i.set(d,m)}function Ou(l){return Ke(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ra(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ka(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,fC),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function fC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Fv=/[#\/\?@]/g,pC=/[#\?:]/g,mC=/[#\?]/g,gC=/[#\?@]/g,yC=/#/g;function Da(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function ti(l){l.g||(l.g=new Map,l.h=0,l.i&&dC(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=Da.prototype,t.add=function(l,d){ti(this),this.i=null,l=is(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function Bv(l,d){ti(l),d=is(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function $v(l,d){return ti(l),d=is(l,d),l.g.has(d)}t.forEach=function(l,d){ti(this),this.g.forEach(function(m,E){m.forEach(function(L){l.call(d,L,E,this)},this)},this)},t.na=function(){ti(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let E=0;E<d.length;E++){const L=l[E];for(let z=0;z<L.length;z++)m.push(d[E])}return m},t.V=function(l){ti(this);let d=[];if(typeof l=="string")$v(this,l)&&(d=d.concat(this.g.get(is(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)d=d.concat(l[m])}return d},t.set=function(l,d){return ti(this),this.i=null,l=is(this,l),$v(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function jv(l,d,m){Bv(l,d),0<m.length&&(l.i=null,l.g.set(is(l,d),C(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var E=d[m];const z=encodeURIComponent(String(E)),J=this.V(E);for(E=0;E<J.length;E++){var L=z;J[E]!==""&&(L+="="+encodeURIComponent(String(J[E]))),l.push(L)}}return this.i=l.join("&")};function is(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function vC(l,d){d&&!l.j&&(ti(l),l.i=null,l.g.forEach(function(m,E){var L=E.toLowerCase();E!=L&&(Bv(this,E),jv(this,L,m))},l)),l.j=d}function _C(l,d){const m=new se;if(a.Image){const E=new Image;E.onload=w(ni,m,"TestLoadImage: loaded",!0,d,E),E.onerror=w(ni,m,"TestLoadImage: error",!1,d,E),E.onabort=w(ni,m,"TestLoadImage: abort",!1,d,E),E.ontimeout=w(ni,m,"TestLoadImage: timeout",!1,d,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function wC(l,d){const m=new se,E=new AbortController,L=setTimeout(()=>{E.abort(),ni(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(z=>{clearTimeout(L),z.ok?ni(m,"TestPingServer: ok",!0,d):ni(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),ni(m,"TestPingServer: error",!1,d)})}function ni(l,d,m,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(m)}catch{}}function EC(){this.g=new V}function SC(l,d,m){const E=m||"";try{Ov(l,function(L,z){let J=L;c(L)&&(J=Cr(L)),d.push(E+z+"="+encodeURIComponent(J))})}catch(L){throw d.push(E+"type="+encodeURIComponent("_badmap")),L}}function Va(l){this.l=l.Ub||null,this.j=l.eb||!1}A(Va,F),Va.prototype.g=function(){return new Mu(this.l,this.j)},Va.prototype.i=function(l){return function(){return l}}({});function Mu(l,d){Ee.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Mu,Ee),t=Mu.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Oa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Na(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Oa(this)),this.g&&(this.readyState=3,Oa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function zv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Na(this):Oa(this),this.readyState==3&&zv(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Na(this))},t.Qa=function(l){this.g&&(this.response=l,Na(this))},t.ga=function(){this.g&&Na(this)};function Na(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Oa(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function Oa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Uv(l){let d="";return M(l,function(m,E){d+=E,d+=":",d+=m,d+=`\r
`}),d}function nf(l,d,m){e:{for(E in m){var E=!1;break e}E=!0}E||(m=Uv(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Ke(l,d,m))}function dt(l){Ee.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(dt,Ee);var TC=/^https?$/i,IC=["POST","PUT"];t=dt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,m,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qd.g(),this.v=this.o?K(this.o):K(Qd),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(z){Wv(this,z);return}if(l=m||"",m=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)m.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const z of E.keys())m.set(z,E.get(z));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(m.keys()).find(z=>z.toLowerCase()=="content-type"),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(IC,d,void 0))||E||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,J]of m)this.g.setRequestHeader(z,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gv(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){Wv(this,z)}};function Wv(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,qv(l),Lu(l)}function qv(l){l.A||(l.A=!0,ke(l,"complete"),ke(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ke(this,"complete"),ke(this,"abort"),Lu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lu(this,!0)),dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Hv(this):this.bb())},t.bb=function(){Hv(this)};function Hv(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Pr(l)!=4||l.Z()!=2)){if(l.u&&Pr(l)==4)mr(l.Ea,0,l);else if(ke(l,"readystatechange"),Pr(l)==4){l.h=!1;try{const J=l.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var E;if(E=J===0){var L=String(l.D).match(Mv)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),E=!TC.test(L?L.toLowerCase():"")}m=E}if(m)ke(l,"complete"),ke(l,"success");else{l.m=6;try{var z=2<Pr(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",qv(l)}}finally{Lu(l)}}}}function Lu(l,d){if(l.g){Gv(l);const m=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ke(l,"ready");try{m.onreadystatechange=E}catch{}}}function Gv(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Pr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Pr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),k(d)}};function Kv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function bC(l){const d={};l=(l.g&&2<=Pr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(g(l[E]))continue;var m=P(l[E]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const z=d[L]||[];d[L]=z,z.push(m)}v(d,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function Qv(l){this.Aa=0,this.i=[],this.j=new se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,l),this.cb=Ma("retryDelaySeedMs",1e4,l),this.Wa=Ma("forwardChannelMaxRetries",2,l),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Rv(l&&l.concurrentRequestLimit),this.Da=new EC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qv.prototype,t.la=8,t.G=1,t.connect=function(l,d,m,E){Me(0),this.W=l,this.H=d||{},m&&E!==void 0&&(this.H.OSID=m,this.H.OAID=E),this.F=this.X,this.I=i_(this,null,this.W),Bu(this)};function rf(l){if(Xv(l),l.G==3){var d=l.U++,m=xr(l.I);if(Ke(m,"SID",l.K),Ke(m,"RID",d),Ke(m,"TYPE","terminate"),La(l,m),d=new ei(l,l.j,d),d.L=2,d.v=Ou(xr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=d.v,m=!0),m||(d.g=o_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Du(d)}r_(l)}function Fu(l){l.g&&(sf(l),l.g.cancel(),l.g=null)}function Xv(l){Fu(l),l.u&&(a.clearTimeout(l.u),l.u=null),$u(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Bu(l){if(!kv(l.h)&&!l.s){l.s=!0;var d=l.Ga;W||Q(),O||(W(),O=!0),U.add(d,l),l.B=0}}function AC(l,d){return Dv(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Bn(p(l.Ga,l,d),n_(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new ei(this,this.j,l);let z=this.o;if(this.S&&(z?(z=y(z),b(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var E=this.i[m];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=Jv(this,L,d),m=xr(this.I),Ke(m,"RID",l),Ke(m,"CVER",22),this.D&&Ke(m,"X-HTTP-Session-Id",this.D),La(this,m),z&&(this.O?d="headers="+encodeURIComponent(String(Uv(z)))+"&"+d:this.m&&nf(m,this.m,z)),tf(this.h,L),this.Ua&&Ke(m,"TYPE","init"),this.P?(Ke(m,"$req",d),Ke(m,"SID","null"),L.T=!0,Yd(L,m,null)):Yd(L,m,d),this.G=2}}else this.G==3&&(l?Yv(this,l):this.i.length==0||kv(this.h)||Yv(this))};function Yv(l,d){var m;d?m=d.l:m=l.U++;const E=xr(l.I);Ke(E,"SID",l.K),Ke(E,"RID",m),Ke(E,"AID",l.T),La(l,E),l.m&&l.o&&nf(E,l.m,l.o),m=new ei(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Jv(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),tf(l.h,m),Yd(m,E,d)}function La(l,d){l.H&&M(l.H,function(m,E){Ke(d,E,m)}),l.l&&Ov({},function(m,E){Ke(d,E,m)})}function Jv(l,d,m){m=Math.min(l.i.length,m);var E=l.l?p(l.l.Na,l.l,l):null;e:{var L=l.i;let z=-1;for(;;){const J=["count="+m];z==-1?0<m?(z=L[0].g,J.push("ofs="+z)):z=0:J.push("ofs="+z);let We=!0;for(let Mt=0;Mt<m;Mt++){let De=L[Mt].g;const Wt=L[Mt].map;if(De-=z,0>De)z=Math.max(0,L[Mt].g-100),We=!1;else try{SC(Wt,J,"req"+De+"_")}catch{E&&E(Wt)}}if(We){E=J.join("&");break e}}}return l=l.i.splice(0,m),d.D=l,E}function Zv(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;W||Q(),O||(W(),O=!0),U.add(d,l),l.v=0}}function of(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Bn(p(l.Fa,l),n_(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,e_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Bn(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),Fu(this),e_(this))};function sf(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function e_(l){l.g=new ei(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=xr(l.qa);Ke(d,"RID","rpc"),Ke(d,"SID",l.K),Ke(d,"AID",l.T),Ke(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ke(d,"TO",l.ja),Ke(d,"TYPE","xmlhttp"),La(l,d),l.m&&l.o&&nf(d,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Ou(xr(d)),m.m=null,m.P=!0,Cv(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Fu(this),of(this),Me(19))};function $u(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function t_(l,d){var m=null;if(l.g==d){$u(l),sf(l),l.g=null;var E=2}else if(ef(l.h,d))m=d.D,Vv(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var L=l.B;E=Ue(),ke(E,new Yt(E,m)),Bu(l)}else Zv(l);else if(L=d.s,L==3||L==0&&0<d.X||!(E==1&&AC(l,d)||E==2&&of(l)))switch(m&&0<m.length&&(d=l.h,d.i=d.i.concat(m)),L){case 1:to(l,5);break;case 4:to(l,10);break;case 3:to(l,6);break;default:to(l,2)}}}function n_(l,d){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*d}function to(l,d){if(l.j.info("Error code "+d),d==2){var m=p(l.fb,l),E=l.Xa;const L=!E;E=new eo(E||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vu(E,"https"),Ou(E),L?_C(E.toString(),m):wC(E.toString(),m)}else Me(2);l.G=0,l.l&&l.l.sa(d),r_(l),Xv(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function r_(l){if(l.G=0,l.ka=[],l.l){const d=Nv(l.h);(d.length!=0||l.i.length!=0)&&(D(l.ka,d),D(l.ka,l.i),l.h.i.length=0,C(l.i),l.i.length=0),l.l.ra()}}function i_(l,d,m){var E=m instanceof eo?xr(m):new eo(m);if(E.g!="")d&&(E.g=d+"."+E.g),Nu(E,E.s);else{var L=a.location;E=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var z=new eo(null);E&&Vu(z,E),d&&(z.g=d),L&&Nu(z,L),m&&(z.l=m),E=z}return m=l.D,d=l.ya,m&&d&&Ke(E,m,d),Ke(E,"VER",l.la),La(l,E),E}function o_(l,d,m){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new dt(new Va({eb:m})):new dt(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function s_(){}t=s_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ju(){}ju.prototype.g=function(l,d){return new Tn(l,d)};function Tn(l,d){Ee.call(this),this.g=new Qv(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!g(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!g(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new os(this)}A(Tn,Ee),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){rf(this.g)},Tn.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Cr(l),l=m);d.i.push(new uC(d.Ya++,l)),d.G==3&&Bu(d)},Tn.prototype.N=function(){this.g.l=null,delete this.j,rf(this.g),delete this.g,Tn.aa.N.call(this)};function a_(l){ae.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}A(a_,ae);function l_(){Ve.call(this),this.status=1}A(l_,Ve);function os(l){this.g=l}A(os,s_),os.prototype.ua=function(){ke(this.g,"a")},os.prototype.ta=function(l){ke(this.g,new a_(l))},os.prototype.sa=function(l){ke(this.g,new l_)},os.prototype.ra=function(){ke(this.g,"b")},ju.prototype.createWebChannel=ju.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,hT=function(){return new ju},cT=function(){return Ue()},uT=ye,om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,Nc=rs,jn.COMPLETE="complete",lT=jn,ne.EventType=pe,pe.OPEN="a",pe.CLOSE="b",pe.ERROR="c",pe.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,rl=ne,aT=Va,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,sT=dt}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const R0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new ny("@firebase/firestore");function fs(){return Vi.logLevel}function tk(t){Vi.setLogLevel(t)}function G(t,...e){if(Vi.logLevel<=be.DEBUG){const n=e.map(ay);Vi.debug(`Firestore (${ya}): ${t}`,...n)}}function yt(t,...e){if(Vi.logLevel<=be.ERROR){const n=e.map(ay);Vi.error(`Firestore (${ya}): ${t}`,...n)}}function fr(t,...e){if(Vi.logLevel<=be.WARN){const n=e.map(ay);Vi.warn(`Firestore (${ya}): ${t}`,...n)}}function ay(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: `+t;throw yt(e),new Error(e)}function ue(t,e){t||ie()}function nk(t,e){t||ie()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Go{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class ik{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ok{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new kt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new kt,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new kt)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string"),new dT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string"),new Pt(e)}}class sk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ak{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string"),this.R=n.token,new lk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ck(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Ys(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function pT(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new nt(0,0))}static max(){return new ce(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ql.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ql?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends ql{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const hk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class et extends ql{construct(e,n,r){return new et(e,n,r)}static isValidIdentifier(e){return hk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new H(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new et(n)}static emptyPath(){return new et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Se.fromString(e))}static fromName(e){return new ee(Se.fromString(e).popFirst(5))}static empty(){return new ee(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Se(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function sm(t){return t.fields.find(e=>e.kind===2)}function so(t){return t.fields.filter(e=>e.kind!==2)}bh.UNKNOWN_ID=-1;class Oc{constructor(e,n){this.fieldPath=e,this.kind=n}}class Hl{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Hl(0,Dn.min())}}function mT(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Dn(i,ee.empty(),e)}function gT(t){return new Dn(t.readTime,t.key,-1)}class Dn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Dn(ce.min(),ee.empty(),-1)}static max(){return new Dn(ce.max(),ee.empty(),-1)}}function ly(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qi(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==yT)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(h=>{s[c]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new B((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new kt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new gl(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=uy(r.target.error);this.V.reject(new gl(e,i))}}static open(e,n,r,i){try{return new sd(n,e.transaction(i,r))}catch(o){throw new gl(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(G("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new fk(n)}}class Tr{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Tr.S(Th())===12.2&&yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return G("SimpleDb","Removing database:",e),ao(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!qS())return!1;if(Tr.C())return!0;const e=Th(),n=Tr.S(e),r=0<n&&n<10,i=_T(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(G("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new gl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new H(j.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new H(j.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new gl(e,s))},i.onupgradeneeded=o=>{G("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{G("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const a=sd.open(this.db,e,o?"readonly":"readwrite",r),u=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),B.reject(c))).toPromise();return u.catch(()=>{}),await a.m,u}catch(a){const u=a,c=u.name!=="FirebaseError"&&s<3;if(G("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),!c)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function _T(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class dk{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ao(this.B.delete())}}class gl extends H{constructor(e,n){super(j.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Hi(t){return t.name==="IndexedDbTransactionError"}class fk{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(G("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ao(r)}add(e){return G("SimpleDb","ADD",this.store.name,e,e),ao(this.store.add(e))}get(e){return ao(this.store.get(e)).next(n=>(n===void 0&&(n=null),G("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return G("SimpleDb","DELETE",this.store.name,e),ao(this.store.delete(e))}count(){return G("SimpleDb","COUNT",this.store.name),ao(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new B((s,a)=>{o.onerror=u=>{a(u.target.error)},o.onsuccess=u=>{s(u.target.result)}})}{const o=this.cursor(r),s=[];return this.W(o,(a,u)=>{s.push(u)}).next(()=>s)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,n){G("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new B((r,i)=>{n.onerror=o=>{const s=uy(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,n){const r=[];return new B((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const u=new dk(a),c=n(a.primaryKey,a.value,u);if(c instanceof B){const h=c.catch(f=>(u.done(),B.reject(f)));r.push(h)}u.isDone?i():u.K===null?a.continue():a.continue(u.K)}}).next(()=>B.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ao(t){return new B((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=uy(r.target.error);n(i)}})}let k0=!1;function uy(t){const e=Tr.S(Th());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new H("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return k0||(k0=!0,setTimeout(()=>{throw r},0)),r}}return t}class pk{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){G("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{G("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Hi(n)?G("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await qi(n)}await this.X(6e4)})}}class mk{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,o=!0;return B.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return G("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(G("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=gT(o);ly(s,r)>0&&(r=s)}),new Dn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fn.oe=-1;function mu(t){return t==null}function Gl(t){return t===0&&1/t==-1/0}function wT(t){return typeof t=="number"&&Number.isInteger(t)&&!Gl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=D0(e)),e=gk(t.get(n),e);return D0(e)}function gk(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function D0(t){return t+""}function _r(t){const e=t.length;if(ue(e>=2),e===2)return ue(t.charAt(0)===""&&t.charAt(1)===""),Se.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("",o);switch((s<0||s>n)&&ie(),t.charAt(s+1)){case"":const a=t.substring(o,s);let u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:ie()}o=s+2}return new Se(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t,e){return[t,rn(e)]}function ET(t,e,n){return[t,rn(e),n]}const yk={},vk=["prefixPath","collectionGroup","readTime","documentId"],_k=["prefixPath","collectionGroup","documentId"],wk=["collectionGroup","readTime","prefixPath","documentId"],Ek=["canonicalId","targetId"],Sk=["targetId","path"],Tk=["path","targetId"],Ik=["collectionId","parent"],bk=["indexId","uid"],Ak=["uid","sequenceNumber"],Ck=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xk=["indexId","uid","orderedDocumentKey"],Pk=["userId","collectionPath","documentId"],Rk=["userId","collectionPath","largestBatchId"],kk=["userId","collectionGroup","largestBatchId"],ST=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Dk=[...ST,"documentOverlays"],TT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],IT=TT,bT=[...IT,"indexConfiguration","indexState","indexEntries"],Vk=bT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends vT{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Dt(t,e){const n=te(t);return Tr.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=i??Ft.EMPTY,this.right=o??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ft(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new O0(this.data.getIterator())}getIteratorFrom(e){return new O0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new je(this.comparator);return n.data=e,n}}class O0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ls(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(et.comparator)}static empty(){return new pn([])}unionWith(e){let n=new je(et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ys(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new CT("Invalid base64 string: "+o):o}}(e);return new bt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const Ok=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(t){if(ue(!!t),typeof t=="string"){let e=0;const n=Ok.exec(t);if(ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ni(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cy(t){const e=t.mapValue.fields.__previous_value__;return ad(e)?cy(e):e}function Kl(t){const e=Wr(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Oi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Oi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Lc={nullValue:"NULL_VALUE"};function Vo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ad(t)?4:xT(t)?9007199254740991:10:ie()}function br(t,e){if(t===e)return!0;const n=Vo(t);if(n!==Vo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kl(t).isEqual(Kl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Wr(i.timestampValue),a=Wr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ni(i.bytesValue).isEqual(Ni(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return pt(i.geoPointValue.latitude)===pt(o.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return pt(i.integerValue)===pt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=pt(i.doubleValue),a=pt(o.doubleValue);return s===a?Gl(s)===Gl(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ys(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(N0(s)!==N0(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!br(s[u],a[u])))return!1;return!0}(t,e);default:return ie()}}function Ql(t,e){return(t.values||[]).find(n=>br(n,e))!==void 0}function Mi(t,e){if(t===e)return 0;const n=Vo(t),r=Vo(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=pt(o.integerValue||o.doubleValue),u=pt(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return M0(t.timestampValue,e.timestampValue);case 4:return M0(Kl(t),Kl(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ni(o),u=Ni(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=me(a[c],u[c]);if(h!==0)return h}return me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=me(pt(o.latitude),pt(s.latitude));return a!==0?a:me(pt(o.longitude),pt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const h=Mi(a[c],u[c]);if(h)return h}return me(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===gi.mapValue&&s===gi.mapValue)return 0;if(o===gi.mapValue)return 1;if(s===gi.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const p=me(u[f],h[f]);if(p!==0)return p;const w=Mi(a[u[f]],c[h[f]]);if(w!==0)return w}return me(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ie()}}function M0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=Wr(t),r=Wr(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function Js(t){return lm(t)}function lm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=lm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${lm(n.fields[s])}`;return i+"}"}(t.mapValue):ie()}function No(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function um(t){return!!t&&"integerValue"in t}function Xl(t){return!!t&&"arrayValue"in t}function L0(t){return!!t&&"nullValue"in t}function F0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fc(t){return!!t&&"mapValue"in t}function yl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ko(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Lk(t){return"nullValue"in t?Lc:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?No(Oi.empty(),ee.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:ie()}function Fk(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?No(Oi.empty(),ee.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?gi:ie()}function B0(t,e){const n=Mi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function $0(t,e){const n=Mi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yl(n)}setAll(e){let n=et.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=yl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ko(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Bt(yl(this.value))}}function PT(t){const e=[];return Ko(t.fields,(n,r)=>{const i=new et([n]);if(Fc(r)){const o=PT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Xe(e,0,ce.min(),ce.min(),ce.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,i){return new Xe(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Xe(e,2,n,ce.min(),ce.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new Xe(e,3,n,ce.min(),ce.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n){this.position=e,this.inclusive=n}}function j0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=Mi(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function z0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Bk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{}class Te extends RT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $k(e,n,r):n==="array-contains"?new Uk(e,r):n==="in"?new MT(e,r):n==="not-in"?new Wk(e,r):n==="array-contains-any"?new qk(e,r):new Te(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jk(e,r):new zk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mi(n,this.value)):n!==null&&Vo(this.value)===Vo(n)&&this.matchesComparison(Mi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Le extends RT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Le(e,n)}matches(e){return Zs(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zs(t){return t.op==="and"}function cm(t){return t.op==="or"}function hy(t){return kT(t)&&Zs(t)}function kT(t){for(const e of t.filters)if(e instanceof Le)return!1;return!0}function hm(t){if(t instanceof Te)return t.field.canonicalString()+t.op.toString()+Js(t.value);if(hy(t))return t.filters.map(e=>hm(e)).join(",");{const e=t.filters.map(n=>hm(n)).join(",");return`${t.op}(${e})`}}function DT(t,e){return t instanceof Te?function(r,i){return i instanceof Te&&r.op===i.op&&r.field.isEqual(i.field)&&br(r.value,i.value)}(t,e):t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&DT(s,i.filters[a]),!0):!1}(t,e):void ie()}function VT(t,e){const n=t.filters.concat(e);return Le.create(n,t.op)}function NT(t){return t instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${Js(n.value)}`}(t):t instanceof Le?function(n){return n.op.toString()+" {"+n.getFilters().map(NT).join(" ,")+"}"}(t):"Filter"}class $k extends Te{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class jk extends Te{constructor(e,n){super(e,"in",n),this.keys=OT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zk extends Te{constructor(e,n){super(e,"not-in",n),this.keys=OT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class Uk extends Te{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xl(n)&&Ql(n.arrayValue,this.value)}}class MT extends Te{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class Wk extends Te{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ql(this.value.arrayValue,n)}}class qk extends Te{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function dm(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Hk(t,e,n,r,i,o,s)}function Oo(t){const e=te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),mu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Js(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Js(r)).join(",")),e.ue=n}return e.ue}function gu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Bk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z0(t.startAt,e.startAt)&&z0(t.endAt,e.endAt)}function Ah(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Ch(t,e){return t.filters.filter(n=>n instanceof Te&&n.field.isEqual(e))}function U0(t,e,n){let r=Lc,i=!0;for(const o of Ch(t,e)){let s=Lc,a=!0;switch(o.op){case"<":case"<=":s=Lk(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Lc}B0({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];B0({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function W0(t,e,n){let r=gi,i=!0;for(const o of Ch(t,e)){let s=gi,a=!0;switch(o.op){case">=":case">":s=Fk(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=gi}$0({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];$0({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function LT(t,e,n,r,i,o,s,a){return new Qr(t,e,n,r,i,o,s,a)}function va(t){return new Qr(t)}function q0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dy(t){return t.collectionGroup!==null}function Bs(t){const e=te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new je(et.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Yl(o,r))}),n.has(et.keyField().canonicalString())||e.ce.push(new Yl(et.keyField(),r))}return e.ce}function on(t){const e=te(t);return e.le||(e.le=Gk(e,Bs(t))),e.le}function Gk(t,e){if(t.limitType==="F")return dm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Yl(i.field,o)});const n=t.endAt?new Li(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Li(t.startAt.position,t.startAt.inclusive):null;return dm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fm(t,e){const n=t.filters.concat([e]);return new Qr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xh(t,e,n){return new Qr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yu(t,e){return gu(on(t),on(e))&&t.limitType===e.limitType}function FT(t){return`${Oo(on(t))}|lt:${t.limitType}`}function ps(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>NT(i)).join(", ")}]`),mu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Js(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Js(i)).join(",")),`Target(${r})`}(on(t))}; limitType=${t.limitType})`}function vu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Bs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){const c=j0(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Bs(r),i)||r.endAt&&!function(s,a,u){const c=j0(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Bs(r),i))}(t,e)}function BT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $T(t){return(e,n)=>{let r=!1;for(const i of Bs(t)){const o=Kk(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Kk(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?Mi(u,c):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return AT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=new Ge(ee.comparator);function mn(){return Qk}const jT=new Ge(ee.comparator);function il(...t){let e=jT;for(const n of t)e=e.insert(n.key,n);return e}function zT(t){let e=jT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wr(){return vl()}function UT(){return vl()}function vl(){return new Gi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Xk=new Ge(ee.comparator),Yk=new je(ee.comparator);function ge(...t){let e=Yk;for(const n of t)e=e.add(n);return e}const Jk=new je(me);function fy(){return Jk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gl(e)?"-0":e}}function qT(t){return{integerValue:""+t}}function HT(t,e){return wT(e)?qT(e):WT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this._=void 0}}function Zk(t,e,n){return t instanceof ea?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ad(o)&&(o=cy(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Mo?KT(t,e):t instanceof Lo?QT(t,e):function(i,o){const s=GT(i,o),a=H0(s)+H0(i.Pe);return um(s)&&um(i.Pe)?qT(a):WT(i.serializer,a)}(t,e)}function eD(t,e,n){return t instanceof Mo?KT(t,e):t instanceof Lo?QT(t,e):n}function GT(t,e){return t instanceof ta?function(r){return um(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ea extends ld{}class Mo extends ld{constructor(e){super(),this.elements=e}}function KT(t,e){const n=XT(e);for(const r of t.elements)n.some(i=>br(i,r))||n.push(r);return{arrayValue:{values:n}}}class Lo extends ld{constructor(e){super(),this.elements=e}}function QT(t,e){let n=XT(e);for(const r of t.elements)n=n.filter(i=>!br(i,r));return{arrayValue:{values:n}}}class ta extends ld{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function H0(t){return pt(t.integerValue||t.doubleValue)}function XT(t){return Xl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.field=e,this.transform=n}}function tD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Mo&&i instanceof Mo||r instanceof Lo&&i instanceof Lo?Ys(r.elements,i.elements,br):r instanceof ta&&i instanceof ta?br(r.Pe,i.Pe):r instanceof ea&&i instanceof ea}(t.transform,e.transform)}class nD{constructor(e,n){this.version=e,this.transformResults=n}}class tt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tt}static exists(e){return new tt(void 0,e)}static updateTime(e){return new tt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ud{}function YT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wa(t.key,tt.none()):new _a(t.key,t.data,tt.none());{const n=t.data,r=Bt.empty();let i=new je(et.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Xr(t.key,r,new pn(i.toArray()),tt.none())}}function rD(t,e,n){t instanceof _a?function(i,o,s){const a=i.value.clone(),u=K0(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xr?function(i,o,s){if(!Bc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=K0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(JT(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function _l(t,e,n,r){return t instanceof _a?function(o,s,a,u){if(!Bc(o.precondition,s))return a;const c=o.value.clone(),h=Q0(o.fieldTransforms,u,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xr?function(o,s,a,u){if(!Bc(o.precondition,s))return a;const c=Q0(o.fieldTransforms,u,s),h=s.data;return h.setAll(JT(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Bc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function iD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=GT(r.transform,i||null);o!=null&&(n===null&&(n=Bt.empty()),n.set(r.field,o))}return n||null}function G0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ys(r,i,(o,s)=>tD(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _a extends ud{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xr extends ud{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function JT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function K0(t,e,n){const r=new Map;ue(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,eD(s,a,n[i]))}return r}function Q0(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Zk(o,s,e))}return r}class wa extends ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class py extends ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&rD(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_l(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_l(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=YT(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Ys(this.mutations,e.mutations,(n,r)=>G0(n,r))&&Ys(this.baseMutations,e.baseMutations,(n,r)=>G0(n,r))}}class gy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length);let i=function(){return Xk}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new gy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ae;function ZT(t){switch(t){default:return ie();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function eI(t){if(t===void 0)return yt("GRPC error has no .code"),j.UNKNOWN;switch(t){case _t.OK:return j.OK;case _t.CANCELLED:return j.CANCELLED;case _t.UNKNOWN:return j.UNKNOWN;case _t.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case _t.INTERNAL:return j.INTERNAL;case _t.UNAVAILABLE:return j.UNAVAILABLE;case _t.UNAUTHENTICATED:return j.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case _t.NOT_FOUND:return j.NOT_FOUND;case _t.ALREADY_EXISTS:return j.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return j.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case _t.ABORTED:return j.ABORTED;case _t.OUT_OF_RANGE:return j.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return j.UNIMPLEMENTED;case _t.DATA_LOSS:return j.DATA_LOSS;default:return ie()}}(Ae=_t||(_t={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new So([4294967295,4294967295],0);function X0(t){const e=tI().encode(t),n=new oT;return n.update(e),new Uint8Array(n.digest())}function Y0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new So([n,r],0),new So([i,o],0)]}class vy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ol(`Invalid padding: ${n}`);if(r<0)throw new ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ol(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=So.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(So.fromNumber(r)));return i.compare(sD)===1&&(i=new So([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=X0(e),[r,i]=Y0(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new vy(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=X0(e),[r,i]=Y0(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wu(ce.min(),i,new Ge(me),mn(),ge())}}class Eu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Eu(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class nI{constructor(e,n){this.targetId=e,this.me=n}}class rI{constructor(e,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class J0{constructor(){this.fe=0,this.ge=ew(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ge(),n=ge(),r=ge();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new Eu(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=ew()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class aD{constructor(e){this.Le=e,this.Be=new Map,this.ke=mn(),this.qe=Z0(),this.Qe=new Ge(me)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Ah(o))if(r===0){const s=new ee(o.path);this.Ue(n,s,Xe.newNoDocument(s,ce.min()))}else ue(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ni(r).toUint8Array()}catch(u){if(u instanceof CT)return fr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new vy(s,i,o)}catch(u){return fr(u instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Ah(a.target)){const u=new ee(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Xe.newNoDocument(u,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=ge();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new wu(e,n,this.Qe,this.ke,r);return this.ke=mn(),this.qe=Z0(),this.Qe=new Ge(me),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new J0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new je(me),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new J0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Z0(){return new Ge(ee.comparator)}function ew(){return new Ge(ee.comparator)}const lD={asc:"ASCENDING",desc:"DESCENDING"},uD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cD={and:"AND",or:"OR"};class hD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pm(t,e){return t.useProto3Json||mu(e)?e:{value:e}}function na(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dD(t,e){return na(t,e.toTimestamp())}function vt(t){return ue(!!t),ce.fromTimestamp(function(n){const r=Wr(n);return new nt(r.seconds,r.nanos)}(t))}function _y(t,e){return mm(t,e).canonicalString()}function mm(t,e){const n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oI(t){const e=Se.fromString(t);return ue(mI(e)),e}function Jl(t,e){return _y(t.databaseId,e.path)}function Ir(t,e){const n=oI(e);if(n.get(1)!==t.databaseId.projectId)throw new H(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(lI(n))}function sI(t,e){return _y(t.databaseId,e)}function aI(t){const e=oI(t);return e.length===4?Se.emptyPath():lI(e)}function gm(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lI(t){return ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tw(t,e,n){return{name:Jl(t,e),fields:n.value.mapValue.fields}}function uI(t,e,n){const r=Ir(t,e.name),i=vt(e.updateTime),o=e.createTime?vt(e.createTime):ce.min(),s=new Bt({mapValue:{fields:e.fields}}),a=Xe.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function fD(t,e){return"found"in e?function(r,i){ue(!!i.found),i.found.name,i.found.updateTime;const o=Ir(r,i.found.name),s=vt(i.found.updateTime),a=i.found.createTime?vt(i.found.createTime):ce.min(),u=new Bt({mapValue:{fields:i.found.fields}});return Xe.newFoundDocument(o,s,a,u)}(t,e):"missing"in e?function(r,i){ue(!!i.missing),ue(!!i.readTime);const o=Ir(r,i.missing),s=vt(i.readTime);return Xe.newNoDocument(o,s)}(t,e):ie()}function pD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,h){return c.useProto3Json?(ue(h===void 0||typeof h=="string"),bt.fromBase64String(h||"")):(ue(h===void 0||h instanceof Buffer||h instanceof Uint8Array),bt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const h=c.code===void 0?j.UNKNOWN:eI(c.code);return new H(h,c.message||"")}(s);n=new rI(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ir(t,r.document.name),o=vt(r.document.updateTime),s=r.document.createTime?vt(r.document.createTime):ce.min(),a=new Bt({mapValue:{fields:r.document.fields}}),u=Xe.newFoundDocument(i,o,s,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new $c(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ir(t,r.document),o=r.readTime?vt(r.readTime):ce.min(),s=Xe.newNoDocument(i,o),a=r.removedTargetIds||[];n=new $c([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ir(t,r.document),o=r.removedTargetIds||[];n=new $c([],o,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new oD(i,o),a=r.targetId;n=new nI(a,s)}}return n}function Zl(t,e){let n;if(e instanceof _a)n={update:tw(t,e.key,e.value)};else if(e instanceof wa)n={delete:Jl(t,e.key)};else if(e instanceof Xr)n={update:tw(t,e.key,e.data),updateMask:wD(e.fieldMask)};else{if(!(e instanceof py))return ie();n={verify:Jl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof ea)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Mo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Lo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ta)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:dD(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ie()}(t,e.precondition)),n}function ym(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?tt.updateTime(vt(o.updateTime)):o.exists!==void 0?tt.exists(o.exists):tt.none()}(e.currentDocument):tt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let u=null;if("setToServerValue"in a)ue(a.setToServerValue==="REQUEST_TIME"),u=new ea;else if("appendMissingElements"in a){const h=a.appendMissingElements.values||[];u=new Mo(h)}else if("removeAllFromArray"in a){const h=a.removeAllFromArray.values||[];u=new Lo(h)}else"increment"in a?u=new ta(s,a.increment):ie();const c=et.fromServerFormat(a.fieldPath);return new _u(c,u)}(t,i)):[];if(e.update){e.update.name;const i=Ir(t,e.update.name),o=new Bt({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(u){const c=u.fieldPaths||[];return new pn(c.map(h=>et.fromServerFormat(h)))}(e.updateMask);return new Xr(i,o,s,n,r)}return new _a(i,o,n,r)}if(e.delete){const i=Ir(t,e.delete);return new wa(i,n)}if(e.verify){const i=Ir(t,e.verify);return new py(i,n)}return ie()}function mD(t,e){return t&&t.length>0?(ue(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?vt(i.updateTime):vt(o);return s.isEqual(ce.min())&&(s=vt(o)),new nD(s,i.transformResults||[])}(n,e))):[]}function cI(t,e){return{documents:[sI(t,e.path)]}}function hI(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sI(t,i);const o=function(c){if(c.length!==0)return pI(Le.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:ms(p.field),direction:yD(p.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=pm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function dI(t){let e=aI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ue(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const p=fI(f);return p instanceof Le&&hy(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(p=>function(A){return new Yl(gs(A.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,mu(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,w=f.values||[];return new Li(w,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,w=f.values||[];return new Li(w,p)}(n.endAt)),LT(e,i,s,o,a,"F",u,c)}function gD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gs(n.unaryFilter.field);return Te.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gs(n.unaryFilter.field);return Te.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=gs(n.unaryFilter.field);return Te.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=gs(n.unaryFilter.field);return Te.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return Te.create(gs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Le.create(n.compositeFilter.filters.map(r=>fI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function yD(t){return lD[t]}function vD(t){return uD[t]}function _D(t){return cD[t]}function ms(t){return{fieldPath:t.canonicalString()}}function gs(t){return et.fromServerFormat(t.fieldPath)}function pI(t){return t instanceof Te?function(n){if(n.op==="=="){if(F0(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NAN"}};if(L0(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(F0(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NOT_NAN"}};if(L0(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(n.field),op:vD(n.op),value:n.value}}}(t):t instanceof Le?function(n){const r=n.getFilters().map(i=>pI(i));return r.length===1?r[0]:{compositeFilter:{op:_D(n.op),filters:r}}}(t):ie()}function wD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,r,i,o=ce.min(),s=ce.min(),a=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.ct=e}}function ED(t,e){let n;if(e.document)n=uI(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ee.fromSegments(e.noDocument.path),i=Bo(e.noDocument.readTime);n=Xe.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ie();{const r=ee.fromSegments(e.unknownDocument.path),i=Bo(e.unknownDocument.version);n=Xe.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new nt(i[0],i[1]);return ce.fromTimestamp(o)}(e.readTime)),n}function nw(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ph(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:Jl(o,s.key),fields:s.data.value.mapValue.fields,updateTime:na(o,s.version.toTimestamp()),createTime:na(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Fo(e.version)};else{if(!e.isUnknownDocument())return ie();r.unknownDocument={path:n.path.toArray(),version:Fo(e.version)}}return r}function Ph(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Fo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bo(t){const e=new nt(t.seconds,t.nanoseconds);return ce.fromTimestamp(e)}function lo(t,e){const n=(e.baseMutations||[]).map(o=>ym(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>ym(t.ct,o)),i=nt.fromMillis(e.localWriteTimeMs);return new my(e.batchId,i,n,r)}function sl(t){const e=Bo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Bo(t.lastLimboFreeSnapshotVersion):ce.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return ue(o.documents.length===1),on(va(aI(o.documents[0])))}(t.query):function(o){return on(dI(o))}(t.query),new Lr(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,bt.fromBase64String(t.resumeToken))}function yI(t,e){const n=Fo(e.snapshotVersion),r=Fo(e.lastLimboFreeSnapshotVersion);let i;i=Ah(e.target)?cI(t.ct,e.target):hI(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oo(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function wy(t){const e=dI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xh(e,e.limit,"L"):e}function Bf(t,e){return new yy(e.largestBatchId,ym(t.ct,e.overlayMutation))}function rw(t,e){const n=e.path.lastSegment();return[t,rn(e.path.popLast()),n]}function iw(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Fo(r.readTime),documentKey:rn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{getBundleMetadata(e,n){return ow(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Bo(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return ow(e).put(function(i){return{bundleId:i.id,createTime:Fo(vt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return sw(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:wy(o.bundledQuery),readTime:Bo(o.readTime)}}(r)})}saveNamedQuery(e,n){return sw(e).put(function(i){return{name:i.name,readTime:Fo(vt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function ow(t){return Dt(t,"bundles")}function sw(t){return Dt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new cd(e,r)}getOverlay(e,n){return Ha(e).get(rw(this.userId,n)).next(r=>r?Bf(this.serializer,r):null)}getOverlays(e,n){const r=wr();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new yy(n,s);i.push(this.ht(e,a))}),B.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(rn(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Ha(e).j("collectionPathOverlayIndex",a))}),B.waitFor(o)}getOverlaysForCollection(e,n,r){const i=wr(),o=rn(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ha(e).U("collectionPathOverlayIndex",s).next(a=>{for(const u of a){const c=Bf(this.serializer,u);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=wr();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ha(e).J({index:"collectionGroupOverlayIndex",range:a},(u,c,h)=>{const f=Bf(this.serializer,c);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):h.done()}).next(()=>o)}ht(e,n){return Ha(e).put(function(i,o,s){const[a,u,c]=rw(o,s.mutation.key);return{userId:o,collectionPath:u,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Zl(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function Ha(t){return Dt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(pt(e.integerValue));else if("doubleValue"in e){const r=pt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Gl(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Wr(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Ni(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?xT(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):ie()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),ee.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}uo.bt=new uo;function TD(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function aw(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=TD(255&r[o]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}class ID{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=aw(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=aw(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class bD{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class AD{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Ga{constructor(){this.Gt=new ID,this.zt=new bD(this.Gt),this.jt=new AD(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new co(this.indexId,this.documentKey,this.arrayValue,r)}}function ii(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=lw(t.arrayValue,e.arrayValue),n!==0?n:(n=lw(t.directionalValue,e.directionalValue),n!==0?n:ee.comparator(t.documentKey,e.documentKey)))}function lw(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.Yt=new je((n,r)=>et.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(ue(e.collectionGroup===this.collectionId),this.en)return!1;const n=sm(e);if(n!==void 0&&!this.nn(n))return!1;const r=so(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const u=r[o];if(!this.rn(a,u)||!this.sn(this.Zt[s++],u))return!1}++o}for(;o<r.length;++o){const a=r[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let e=new je(et.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Oc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Oc(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Oc(r.field,r.dir==="asc"?0:1)));return new bh(bh.UNKNOWN_ID,this.collectionId,n,Hl.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t){var e,n;if(ue(t instanceof Te||t instanceof Le),t instanceof Te){if(t instanceof MT){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>Te.create(t.field,"==",o)))||[];return Le.create(i,"or")}return t}const r=t.filters.map(i=>vI(i));return Le.create(r,t.op)}function CD(t){if(t.getFilters().length===0)return[];const e=wm(vI(t));return ue(_I(e)),vm(e)||_m(e)?[e]:e.getFilters()}function vm(t){return t instanceof Te}function _m(t){return t instanceof Le&&hy(t)}function _I(t){return vm(t)||_m(t)||function(n){if(n instanceof Le&&cm(n)){for(const r of n.getFilters())if(!vm(r)&&!_m(r))return!1;return!0}return!1}(t)}function wm(t){if(ue(t instanceof Te||t instanceof Le),t instanceof Te)return t;if(t.filters.length===1)return wm(t.filters[0]);const e=t.filters.map(r=>wm(r));let n=Le.create(e,t.op);return n=Rh(n),_I(n)?n:(ue(n instanceof Le),ue(Zs(n)),ue(n.filters.length>1),n.filters.reduce((r,i)=>Ey(r,i)))}function Ey(t,e){let n;return ue(t instanceof Te||t instanceof Le),ue(e instanceof Te||e instanceof Le),n=t instanceof Te?e instanceof Te?function(i,o){return Le.create([i,o],"and")}(t,e):cw(t,e):e instanceof Te?cw(e,t):function(i,o){if(ue(i.filters.length>0&&o.filters.length>0),Zs(i)&&Zs(o))return VT(i,o.getFilters());const s=cm(i)?i:o,a=cm(i)?o:i,u=s.filters.map(c=>Ey(c,a));return Le.create(u,"or")}(t,e),Rh(n)}function cw(t,e){if(Zs(e))return VT(e,t.getFilters());{const n=e.filters.map(r=>Ey(t,r));return Le.create(n,"or")}}function Rh(t){if(ue(t instanceof Te||t instanceof Le),t instanceof Te)return t;const e=t.getFilters();if(e.length===1)return Rh(e[0]);if(kT(t))return t;const n=e.map(i=>Rh(i)),r=[];return n.forEach(i=>{i instanceof Te?r.push(i):i instanceof Le&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Le.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this._n=new Sy}addToCollectionParentIndex(e,n){return this._n.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Dn.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Dn.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class Sy{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new je(Se.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Uint8Array(0);class PD{constructor(e,n){this.databaseId=n,this.an=new Sy,this.un=new Gi(r=>Oo(r),(r,i)=>gu(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const o={collectionId:r,parent:rn(i)};return hw(e).put(o)}return B.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[pT(n),""],!1,!0);return hw(e).U(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(_r(s.parent))}return r})}addFieldIndex(e,n){const r=Ka(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const s=cs(e);return o.next(a=>{s.put(iw(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Ka(e),i=cs(e),o=us(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Ka(e),r=us(e),i=cs(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return B.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new uw(r).on();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=us(e);let i=!0;const o=new Map;return B.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=ge();const a=[];return B.forEach(o,(u,c)=>{G("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(x=>`${x.fieldPath}:${x.kind}`).join(",")}`}(u)} to execute ${Oo(n)}`);const h=function(_,x){const N=sm(x);if(N===void 0)return null;for(const M of Ch(_,N.fieldPath))switch(M.op){case"array-contains-any":return M.value.arrayValue.values||[];case"array-contains":return[M.value]}return null}(c,u),f=function(_,x){const N=new Map;for(const M of so(x))for(const v of Ch(_,M.fieldPath))switch(v.op){case"==":case"in":N.set(M.fieldPath.canonicalString(),v.value);break;case"not-in":case"!=":return N.set(M.fieldPath.canonicalString(),v.value),Array.from(N.values())}return null}(c,u),p=function(_,x){const N=[];let M=!0;for(const v of so(x)){const y=v.kind===0?U0(_,v.fieldPath,_.startAt):W0(_,v.fieldPath,_.startAt);N.push(y.value),M&&(M=y.inclusive)}return new Li(N,M)}(c,u),w=function(_,x){const N=[];let M=!0;for(const v of so(x)){const y=v.kind===0?W0(_,v.fieldPath,_.endAt):U0(_,v.fieldPath,_.endAt);N.push(y.value),M&&(M=y.inclusive)}return new Li(N,M)}(c,u),A=this.hn(u,c,p),C=this.hn(u,c,w),D=this.Pn(u,c,f),S=this.In(u.indexId,h,A,p.inclusive,C,w.inclusive,D);return B.forEach(S,g=>r.G(g,n.limit).next(_=>{_.forEach(x=>{const N=ee.fromSegments(x.documentKey);s.has(N)||(s=s.add(N),a.push(N))})}))}).next(()=>a)}return B.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=CD(Le.create(e.filters,"and")).map(r=>dm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,o,s,a){const u=(n!=null?n.length:1)*Math.max(r.length,o.length),c=u/(n!=null?n.length:1),h=[];for(let f=0;f<u;++f){const p=n?this.Tn(n[f/c]):lc,w=this.En(e,p,r[f%c],i),A=this.dn(e,p,o[f%c],s),C=a.map(D=>this.En(e,p,D,!0));h.push(...this.createRange(w,A,C))}return h}En(e,n,r,i){const o=new co(e,ee.empty(),n,r);return i?o:o.Jt()}dn(e,n,r,i){const o=new co(e,ee.empty(),n,r);return i?o.Jt():o}ln(e,n){const r=new uw(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.cn(n);return B.forEach(i,o=>this.ln(e,o).next(s=>{s?r!==0&&s.fields.length<function(u){let c=new je(et.comparator),h=!1;for(const f of u.filters)for(const p of f.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?h=!0:c=c.add(p.field));for(const f of u.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new Ga;for(const i of so(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const s=r.Ht(i.kind);uo.bt.Pt(o,s)}return r.Wt()}Tn(e){const n=new Ga;return uo.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new Ga;return uo.bt.Pt(No(this.databaseId,n),r.Ht(function(o){const s=so(o);return s.length===0?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new Ga);let o=0;for(const s of so(e)){const a=r[o++];for(const u of i)if(this.Vn(n,s.fieldPath)&&Xl(a))i=this.mn(i,s,a);else{const c=u.Ht(s.kind);uo.bt.Pt(a,c)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const u=new Ga;u.seed(a.Wt()),uo.bt.Pt(s,u.Ht(n.kind)),o.push(u)}return o}Vn(e,n){return!!e.filters.find(r=>r instanceof Te&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Ka(e),i=cs(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const s=[];return B.forEach(o,a=>i.get([a.indexId,this.uid]).next(u=>{s.push(function(h,f){const p=f?new Hl(f.sequenceNumber,new Dn(Bo(f.readTime),new ee(_r(f.documentKey)),f.largestBatchId)):Hl.empty(),w=h.fields.map(([A,C])=>new Oc(et.fromServerFormat(A),C));return new bh(h.indexId,h.collectionGroup,w,p)}(a,u))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:me(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Ka(e),o=cs(e);return this.gn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>B.forEach(a,u=>o.put(iw(u.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?B.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),B.forEach(a,u=>this.pn(e,i,u).next(c=>{const h=this.yn(o,u);return c.isEqual(h)?B.resolve():this.wn(e,o,u,c,h)}))))})}Sn(e,n,r,i){return us(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return us(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=us(e);let o=new je(ii);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(s,a)=>{o=o.add(new co(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let r=new je(ii);const i=this.An(n,e);if(i==null)return r;const o=sm(n);if(o!=null){const s=e.data.field(o.fieldPath);if(Xl(s))for(const a of s.arrayValue.values||[])r=r.add(new co(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new co(n.indexId,e.key,lc,i));return r}wn(e,n,r,i,o){G("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(u,c,h,f,p){const w=u.getIterator(),A=c.getIterator();let C=ls(w),D=ls(A);for(;C||D;){let S=!1,g=!1;if(C&&D){const _=h(C,D);_<0?g=!0:_>0&&(S=!0)}else C!=null?g=!0:S=!0;S?(f(D),D=ls(A)):g?(p(C),C=ls(w)):(C=ls(w),D=ls(A))}}(i,o,ii,a=>{s.push(this.Sn(e,n,r,a))},a=>{s.push(this.bn(e,n,r,a))}),B.waitFor(s)}gn(e){let n=1;return cs(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>ii(s,a)).filter((s,a,u)=>!a||ii(s,u[a-1])!==0);const i=[];i.push(e);for(const s of r){const a=ii(s,e),u=ii(s,n);if(a===0)i[0]=e.Jt();else if(a>0&&u<0)i.push(s),i.push(s.Jt());else if(u>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];const a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,lc,[]],u=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,lc,[]];o.push(IDBKeyRange.bound(a,u))}return o}Dn(e,n){return ii(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(dw)}getMinOffset(e,n){return B.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||ie())).next(dw)}}function hw(t){return Dt(t,"collectionParents")}function us(t){return Dt(t,"indexEntries")}function Ka(t){return Dt(t,"indexConfiguration")}function cs(t){return Dt(t,"indexState")}function dw(t){ue(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;ly(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Dn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const u=r.J({range:s},(h,f,p)=>(a++,p.delete()));o.push(u.next(()=>{ue(a===1)}));const c=[];for(const h of n.mutations){const f=ET(e,h.key.path,n.batchId);o.push(i.delete(f)),c.push(h.key)}return B.waitFor(o).next(()=>c)}function kh(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ie();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class hd{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){ue(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new hd(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oi(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=ys(e),s=oi(e);return s.add({}).next(a=>{ue(typeof a=="number");const u=new my(a,n,r,i),c=function(w,A,C){const D=C.baseMutations.map(g=>Zl(w.ct,g)),S=C.mutations.map(g=>Zl(w.ct,g));return{userId:A,batchId:C.batchId,localWriteTimeMs:C.localWriteTime.toMillis(),baseMutations:D,mutations:S}}(this.serializer,this.userId,u),h=[];let f=new je((p,w)=>me(p.canonicalString(),w.canonicalString()));for(const p of i){const w=ET(this.userId,p.key.path,a);f=f.add(p.key.path.popLast()),h.push(s.put(c)),h.push(o.put(w,yk))}return f.forEach(p=>{h.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Cn[a]=u.keys()}),B.waitFor(h).next(()=>u)})}lookupMutationBatch(e,n){return oi(e).get(n).next(r=>r?(ue(r.userId===this.userId),lo(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?B.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return oi(e).J({index:"userMutationsIndex",range:i},(s,a,u)=>{a.userId===this.userId&&(ue(a.batchId>=r),o=lo(this.serializer,a)),u.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return oi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oi(e).U("userMutationsIndex",n).next(r=>r.map(i=>lo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Mc(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return ys(e).J({range:i},(s,a,u)=>{const[c,h,f]=s,p=_r(h);if(c===this.userId&&n.path.isEqual(p))return oi(e).get(f).next(w=>{if(!w)throw ie();ue(w.userId===this.userId),o.push(lo(this.serializer,w))});u.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(me);const i=[];return n.forEach(o=>{const s=Mc(this.userId,o.path),a=IDBKeyRange.lowerBound(s),u=ys(e).J({range:a},(c,h,f)=>{const[p,w,A]=c,C=_r(w);p===this.userId&&o.path.isEqual(C)?r=r.add(A):f.done()});i.push(u)}),B.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=Mc(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new je(me);return ys(e).J({range:s},(u,c,h)=>{const[f,p,w]=u,A=_r(p);f===this.userId&&r.isPrefixOf(A)?A.length===i&&(a=a.add(w)):h.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(oi(e).get(o).next(s=>{if(s===null)throw ie();ue(s.userId===this.userId),r.push(lo(this.serializer,s))}))}),B.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return wI(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),B.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return ys(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const u=_r(o[1]);i.push(u)}else a.done()}).next(()=>{ue(i.length===0)})})}containsKey(e,n){return EI(e,this.userId,n)}xn(e){return SI(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function EI(t,e,n){const r=Mc(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return ys(t).J({range:o,H:!0},(a,u,c)=>{const[h,f,p]=a;h===e&&f===i&&(s=!0),c.done()}).next(()=>s)}function oi(t){return Dt(t,"mutations")}function ys(t){return Dt(t,"documentMutations")}function SI(t){return Dt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new $o(0)}static Ln(){return new $o(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new $o(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ce.fromTimestamp(new nt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>hs(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ue(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return hs(e).J((s,a)=>{const u=sl(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,o.push(this.removeTargetData(e,u)))}).next(()=>B.waitFor(o)).next(()=>i)}forEachTarget(e,n){return hs(e).J((r,i)=>{const o=sl(i);n(o)})}Bn(e){return pw(e).get("targetGlobalKey").next(n=>(ue(n!==null),n))}kn(e,n){return pw(e).put("targetGlobalKey",n)}qn(e,n){return hs(e).put(yI(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Oo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return hs(e).J({range:i,index:"queryTargetsIndex"},(s,a,u)=>{const c=sl(a);gu(n,c.target)&&(o=c,u.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=di(e);return n.forEach(s=>{const a=rn(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),B.waitFor(i)}removeMatchingKeys(e,n,r){const i=di(e);return B.forEach(n,o=>{const s=rn(o.path);return B.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=di(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=di(e);let o=ge();return i.J({range:r,H:!0},(s,a,u)=>{const c=_r(s[1]),h=new ee(c);o=o.add(h)}).next(()=>o)}containsKey(e,n){const r=rn(n.path),i=IDBKeyRange.bound([r],[pT(r)],!1,!0);let o=0;return di(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],u,c)=>{s!==0&&(o++,c.done())}).next(()=>o>0)}ot(e,n){return hs(e).get(n).next(r=>r?sl(r):null)}}function hs(t){return Dt(t,"targets")}function pw(t){return Dt(t,"targetGlobal")}function di(t){return Dt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw([t,e],[n,r]){const i=me(t,n);return i===0?me(e,r):i}class kD{constructor(e){this.Kn=e,this.buffer=new je(mw),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){G("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hi(n)?G("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await qi(n)}await this.zn(3e5)})}}class VD{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(fn.oe);const r=new kD(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(fw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fw):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,o,s,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),fs()<=be.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function ND(t,e){return new VD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.db=e,this.garbageCollector=ND(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return uc(e,r)}removeReference(e,n,r){return uc(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return uc(e,n)}er(e,n){return function(i,o){let s=!1;return SI(i).Y(a=>EI(i,a,o).next(u=>(u&&(s=!0),B.resolve(!u)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Xn(e,(s,a)=>{if(a<=n){const u=this.er(e,s).next(c=>{if(!c)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ce.min()),di(e).delete(function(f){return[0,rn(f.path)]}(s))))});i.push(u)}}).next(()=>B.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return uc(e,n)}Xn(e,n){const r=di(e);let i,o=fn.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:u,sequenceNumber:c})=>{s===0?(o!==fn.oe&&n(new ee(_r(i)),o),o=c,i=u):o=fn.oe}).next(()=>{o!==fn.oe&&n(new ee(_r(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function uc(t,e){return di(t).put(function(r,i){return{targetId:0,path:rn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.changes=new Gi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return no(e).put(r)}removeEntry(e,n,r){return no(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Ph(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Xe.newInvalidDocument(n);return no(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Qa(n))},(i,o)=>{r=this.nr(n,o)}).next(()=>r)}rr(e,n){let r={size:0,document:Xe.newInvalidDocument(n)};return no(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Qa(n))},(i,o)=>{r={document:this.nr(n,o),size:kh(o)}}).next(()=>r)}getEntries(e,n){let r=mn();return this.ir(e,n,(i,o)=>{const s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,n){let r=mn(),i=new Ge(ee.comparator);return this.ir(e,n,(o,s)=>{const a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,kh(s))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return B.resolve();let i=new je(vw);n.forEach(u=>i=i.add(u));const o=IDBKeyRange.bound(Qa(i.first()),Qa(i.last())),s=i.getIterator();let a=s.getNext();return no(e).J({index:"documentKeyIndex",range:o},(u,c,h)=>{const f=ee.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&vw(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.$(Qa(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),Ph(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return no(e).U(IDBKeyRange.bound(a,u,!0)).next(c=>{o==null||o.incrementDocumentReadCount(c.length);let h=mn();for(const f of c){const p=this.nr(ee.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);p.isFoundDocument()&&(vu(n,p)||i.has(p.key))&&(h=h.insert(p.key,p))}return h})}getAllFromCollectionGroup(e,n,r,i){let o=mn();const s=yw(n,r),a=yw(n,Dn.max());return no(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(u,c,h)=>{const f=this.nr(ee.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(f.key,f),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new LD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return gw(e).get("remoteDocumentGlobalKey").next(n=>(ue(!!n),n))}tr(e,n){return gw(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=ED(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ce.min())))return r}return Xe.newInvalidDocument(e)}}function II(t){return new MD(t)}class LD extends TI{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Gi(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new je((o,s)=>me(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){const u=nw(this.ar.serializer,s);i=i.add(o.path.popLast());const c=kh(u);r+=c-a.size,n.push(this.ar.addEntry(e,o,u))}else if(r-=a.size,this.trackRemovals){const u=nw(this.ar.serializer,s.convertToNoDocument(ce.min()));n.push(this.ar.addEntry(e,o,u))}}),i.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function gw(t){return Dt(t,"remoteDocumentGlobal")}function no(t){return Dt(t,"remoteDocumentsV14")}function Qa(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yw(t,e){const n=e.documentKey.path.toArray();return[t,Ph(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vw(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=me(n[o],r[o]),i)return i;return i=me(n.length,r.length),i||(i=me(n[n.length-2],r[r.length-2]),i||me(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_l(r.mutation,i,pn.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const i=wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=il();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=mn();const s=vl(),a=function(){return vl()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Xr)?o=o.insert(c.key,c):h!==void 0?(s.set(c.key,h.mutation.getFieldMask()),_l(h.mutation,c,h.mutation.getFieldMask(),nt.now())):s.set(c.key,pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,h)=>s.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new FD(h,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=vl();let i=new Ge((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||pn.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=UT();h.forEach(p=>{if(!o.has(p)){const w=YT(n.get(p),r.get(p));w!==null&&f.set(p,w),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):B.resolve(wr());let a=-1,u=o;return s.next(c=>B.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,ge())).next(h=>({batchId:a,changes:zT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=il();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=il();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,u=>{const c=function(f,p){return new Qr(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const h=c.getKey();s.get(h)===null&&(s=s.insert(h,Xe.newInvalidDocument(h)))});let a=il();return s.forEach((u,c)=>{const h=o.get(u);h!==void 0&&_l(h.mutation,c,pn.empty(),nt.now()),vu(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return B.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vt(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:wy(i.bundledQuery),readTime:vt(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.overlays=new Ge(ee.comparator),this.hr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wr();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=wr(),o=n.length+1,s=new ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ge((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=o.get(c.largestBatchId);h===null&&(h=wr(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=wr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return B.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new yy(n,r));let o=this.hr.get(n);o===void 0&&(o=ge(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(){this.Pr=new je(Ct.Ir),this.Tr=new je(Ct.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ct(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ee(new Se([])),r=new Ct(n,e),i=new Ct(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ee(new Se([])),r=new Ct(n,e),i=new Ct(n,e+1);let o=ge();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ct(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ee.comparator(e.key,n.key)||me(e.pr,n.pr)}static Er(e,n){return me(e.pr,n.pr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new je(Ct.Ir)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new my(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Ct(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),i=new Ct(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(me);return n.forEach(i=>{const o=new Ct(i,0),s=new Ct(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),B.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const s=new Ct(new ee(o),0);let a=new je(me);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},s),B.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return B.forEach(n.mutations,i=>{const o=new Ct(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ct(n,0),i=this.wr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.vr=e,this.docs=function(){return new Ge(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(e,n){let r=mn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Xe.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=mn();const s=n.path,a=new ee(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||ly(gT(h),r)<=0||(i.has(h.key)||vu(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ie()}Fr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UD(this)}getSize(e){return B.resolve(this.size)}}class UD extends TI{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.persistence=e,this.Mr=new Gi(n=>Oo(n),gu),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ty,this.targetCount=0,this.Lr=$o.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),B.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new $o(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.qn(n),B.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n){this.Br={},this.overlays={},this.kr=new fn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new WD(this),this.indexManager=new xD,this.remoteDocumentCache=function(i){return new zD(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new gI(n),this.$r=new BD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $D,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new jD(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new qD(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class qD extends vT{constructor(e){super(),this.currentSequenceNumber=e}}class dd{constructor(e){this.persistence=e,this.zr=new Ty,this.jr=null}static Hr(e){return new dd(e)}get Jr(){if(this.jr)return this.jr;throw ie()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),B.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Jr,r=>{const i=ee.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return B.or([()=>B.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.serializer=e}O(e,n,r,i){const o=new sd("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore("owner")}(e),function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",V0,{unique:!0}),u.createObjectStore("documentMutations")}(e),_w(e),function(u){u.createObjectStore("remoteDocuments")}(e));let s=B.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),_w(e)),s=s.next(()=>function(u){const c=u.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ce.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(u,c){return c.store("mutations").U().next(h=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",V0,{unique:!0});const f=c.store("mutations"),p=h.map(w=>f.put(w));return B.waitFor(p)})}(e,o))),s=s.next(()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(u){const c=u.createObjectStore("documentOverlays",{keyPath:Pk});c.createIndex("collectionPathOverlayIndex",Rk,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",kk,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(u){const c=u.createObjectStore("remoteDocumentsV14",{keyPath:vk});c.createIndex("documentKeyIndex",_k),c.createIndex("collectionGroupIndex",wk)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:bk}).createIndex("sequenceNumberIndex",Ak,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:Ck}).createIndex("documentKeyIndex",xk,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),s}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=kh(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>B.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>B.forEach(a,u=>{ue(u.userId===o.userId);const c=lo(this.serializer,u);return wI(e,o.userId,c).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const u=new Se(s),c=function(f){return[0,rn(f)]}(u);o.push(n.get(c).next(h=>h?B.resolve():(f=>n.put({targetId:0,path:rn(f),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>B.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:Ik});const r=n.store("collectionParents"),i=new Sy,o=s=>{if(i.add(s)){const a=s.lastSegment(),u=s.popLast();return r.put({collectionId:a,parent:rn(u)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{const u=new Se(s);return o(u.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,u],c)=>{const h=_r(a);return o(h.popLast())}))}ri(e){const n=e.store("targets");return n.J((r,i)=>{const o=sl(i),s=yI(this.serializer,o);return n.put(s)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=n.store("remoteDocumentsV14"),u=function(f){return f.document?new ee(Se.fromString(f.document.name).popFirst(5)):f.noDocument?ee.fromSegments(f.noDocument.path):f.unknownDocument?ee.fromSegments(f.unknownDocument.path):ie()}(s).path.toArray(),c={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(c))}).next(()=>B.waitFor(i))}si(e,n){const r=n.store("mutations"),i=II(this.serializer),o=new AI(dd.Hr,this.serializer.ct);return r.U().next(s=>{const a=new Map;return s.forEach(u=>{var c;let h=(c=a.get(u.userId))!==null&&c!==void 0?c:ge();lo(this.serializer,u).keys().forEach(f=>h=h.add(f)),a.set(u.userId,h)}),B.forEach(a,(u,c)=>{const h=new Pt(c),f=cd.lt(this.serializer,h),p=o.getIndexManager(h),w=hd.lt(h,this.serializer,p,o.referenceDelegate);return new bI(i,w,f,p).recalculateAndSaveOverlaysForDocumentKeys(new am(n,fn.oe),u).next()})})}}function _w(t){t.createObjectStore("targetDocuments",{keyPath:Sk}).createIndex("documentTargetsIndex",Tk,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ek,{unique:!0}),t.createObjectStore("targetGlobal")}const $f="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Iy{constructor(e,n,r,i,o,s,a,u,c,h,f=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=c,this.ai=h,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=p=>Promise.resolve(),!Iy.D())throw new H(j.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new OD(this,i),this.Ti=n+"main",this.serializer=new gI(u),this.Ei=new Tr(this.Ti,this.ui,new HD(this.serializer)),this.Qr=new RD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=II(this.serializer),this.$r=new SD,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,h===!1&&yt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new H(j.FAILED_PRECONDITION,$f);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new fn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>cc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Hi(e))return G("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return G("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Xa(e).get("owner").next(n=>B.resolve(this.Si(n)))}bi(e){return cc(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Dt(n,"clientMetadata");return r.U().next(i=>{const o=this.vi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return B.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?B.resolve(!0):Xa(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new H(j.FAILED_PRECONDITION,$f);return!1}}return!(!this.networkEnabled||!this.inForeground)||cc(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&G("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new am(e,fn.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>cc(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return hd.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new PD(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return cd.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){G("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(u){return u===16?Vk:u===15?bT:u===14?IT:u===13?TT:u===12?Dk:u===11?ST:void ie()}(this.ui);let s;return this.Ei.runTransaction(e,i,o,a=>(s=new am(a,this.kr?this.kr.next():fn.oe),n==="readwrite-primary"?this.gi(s).next(u=>!!u||this.pi(s)).next(u=>{if(!u)throw yt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new H(j.FAILED_PRECONDITION,yT);return r(s)}).next(u=>this.wi(s).next(()=>u)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return Xa(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new H(j.FAILED_PRECONDITION,$f)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xa(e).put("owner",n)}static D(){return Tr.D()}yi(e){const n=Xa(e);return n.get("owner").next(r=>this.Si(r)?(G("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):B.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(yt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;WS()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return G("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return yt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){yt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Xa(t){return Dt(t,"owner")}function cc(t){return Dt(t,"clientMetadata")}function by(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ge(),i=ge();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ay(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return WS()?8:_T(Th())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new GD;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(fs()<=be.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),B.resolve()):(fs()<=be.DEBUG&&G("QueryEngine","Query:",ps(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(fs()<=be.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,on(n))):B.resolve())}ji(e,n){if(q0(n))return B.resolve(null);let r=on(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xh(n,null,"F"),r=on(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ge(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,a);return this.Xi(n,c,s,u.readTime)?this.ji(e,xh(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return q0(n)||i.isEqual(ce.min())?B.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?B.resolve(null):(fs()<=be.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ps(n)),this.es(e,s,n,mT(i,-1)).next(a=>a))})}Zi(e,n){let r=new je($T(e));return n.forEach((i,o)=>{vu(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return fs()<=be.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ps(n)),this.zi.getDocumentsMatchingQuery(e,n,Dn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ge(me),this.rs=new Gi(o=>Oo(o),gu),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bI(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function xI(t,e,n,r){return new KD(t,e,n,r)}async function PI(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=ge();for(const c of i){s.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of o){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})}function QD(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,p=f.keys();let w=B.resolve();return p.forEach(A=>{w=w.next(()=>h.getEntry(u,A)).next(C=>{const D=c.docVersions.get(A);ue(D!==null),C.version.compareTo(D)<0&&(f.applyToRemoteDocument(C,c),C.isValidDocument()&&(C.setReadTime(c.commitVersion),h.addEntry(C)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function RI(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function XD(t,e){const n=te(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((h,f)=>{const p=i.get(f);if(!p)return;a.push(n.Qr.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(o,h.addedDocuments,f)));let w=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?w=w.withResumeToken(bt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),i=i.insert(f,w),function(C,D,S){return C.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,w,h)&&a.push(n.Qr.updateTargetData(o,w))});let u=mn(),c=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(kI(o,s,e.documentUpdates).next(h=>{u=h.cs,c=h.ls})),!r.isEqual(ce.min())){const h=n.Qr.getLastRemoteSnapshotVersion(o).next(f=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.ns=i,o))}function kI(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=mn();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ce.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:s,ls:i}})}function YD(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ra(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Lr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function ia(t,e,n){const r=te(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Hi(s))throw s;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Dh(t,e,n){const r=te(t);let i=ce.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,h){const f=te(u),p=f.rs.get(h);return p!==void 0?B.resolve(f.ns.get(p)):f.Qr.getTargetData(c,h)}(r,s,on(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ce.min(),n?o:ge())).next(a=>(NI(r,BT(e),a),{documents:a,hs:o})))}function DI(t,e){const n=te(t),r=te(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function VI(t,e){const n=te(t),r=n.ss.get(e)||ce.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,mT(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(NI(n,e,i),i))}function NI(t,e,n){let r=t.ss.get(e)||ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}async function JD(t,e,n,r){const i=te(t);let o=ge(),s=mn();for(const c of n){const h=e.Ps(c.metadata.name);c.document&&(o=o.add(h));const f=e.Is(c);f.setReadTime(e.Ts(c.metadata.readTime)),s=s.insert(h,f)}const a=i.os.newChangeBuffer({trackRemovals:!0}),u=await ra(i,function(h){return on(va(Se.fromString(`__bundle__/docs/${h}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>kI(c,a,s).next(h=>(a.apply(c),h)).next(h=>i.Qr.removeMatchingKeysForTargetId(c,u.targetId).next(()=>i.Qr.addMatchingKeys(c,o,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,h.cs,h.ls)).next(()=>h.cs)))}async function ZD(t,e,n=ge()){const r=await ra(t,on(wy(e.bundledQuery))),i=te(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=vt(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(o,e);const a=r.withResumeToken(bt.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(o,a).next(()=>i.Qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.$r.saveNamedQuery(o,e))})}function ww(t,e){return`firestore_clients_${t}_${e}`}function Ew(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function jf(t,e){return`firestore_targets_${t}_${e}`}class Vh{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new H(i.error.code,i.error.message))),s?new Vh(e,n,i.state,o):(yt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wl{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new H(r.error.code,r.error.message))),o?new wl(e,r.state,i):(yt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nh{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=fy();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=wT(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new Nh(e,o):(yt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Cy{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Cy(n.clientId,n.onlineState):(yt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Em{constructor(){this.activeTargetIds=fy()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zf{constructor(e,n,r,i,o){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Ge(me),this.started=!1,this.ys=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=ww(this.persistenceKey,this.Vs),this.Ss=function(u){return`firestore_sequence_number_${u}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Em),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(u){return`firestore_online_state_${u}`}(this.persistenceKey),this.Fs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Vs)continue;const i=this.getItem(ww(this.persistenceKey,r));if(i){const o=Nh.Es(r,i);o&&(this.ps=this.ps.insert(o.clientId,o))}}this.Ms();const n=this.storage.getItem(this.vs);if(n){const r=this.xs(n);r&&this.Os(r)}for(const r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(jf(this.persistenceKey,e));if(r){const i=wl.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jf(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return G("SharedClientState","READ",e,n),n}setItem(e,n){G("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){G("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const n=e;if(n.storageArea===this.storage){if(G("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){const r=this.$s(n.key);return this.Us(r,null)}{const r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){const r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){const r=function(o){let s=fn.oe;if(o!=null)try{const a=JSON.parse(o);ue(typeof a=="number"),s=a}catch(a){yt("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);r!==fn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){const r=this.Js(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)})}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new Vh(this.currentUser,e,n,r),o=Ew(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ds())}Bs(e){const n=Ew(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){const n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){const i=jf(this.persistenceKey,e),o=new wl(e,n,r);this.setItem(i,o.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return Nh.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Vh.Es(new Pt(o),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return wl.Es(i,n)}xs(e){return Cy.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);G("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),o=this.Ns(r),s=[],a=[];return o.forEach(u=>{i.has(u)||s.push(u)}),i.forEach(u=>{o.has(u)||a.push(u)}),this.syncEngine.eo(s,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=fy();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class OI{constructor(){this.no=new Em,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Em,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function Uf(){return hc===null?hc=function(){return 268435456+Math.round(2147483648*Math.random())}():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class rV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){const a=Uf(),u=this.vo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,o,s),this.Mo(n,u,c,i).then(h=>(G("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw fr("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}xo(n,r,i,o,s,a){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){const i=tV[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=Uf();return new Promise((s,a)=>{const u=new sT;u.setWithCredentials(!0),u.listenOnce(lT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Nc.NO_ERROR:const h=u.getResponseJson();G(Kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Nc.TIMEOUT:G(Kt,`RPC '${e}' ${o} timed out`),a(new H(j.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const f=u.getStatus();if(G(Kt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const w=p==null?void 0:p.error;if(w&&w.status&&w.message){const A=function(D){const S=D.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(S)>=0?S:j.UNKNOWN}(w.status);a(new H(A,w.message))}else a(new H(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new H(j.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{G(Kt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);G(Kt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=Uf(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=hT(),a=cT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new aT({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=o.join("");G(Kt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=s.createWebChannel(h,u);let p=!1,w=!1;const A=new nV({lo:D=>{w?G(Kt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(p||(G(Kt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),G(Kt,`RPC '${e}' stream ${i} sending:`,D),f.send(D))},ho:()=>f.close()}),C=(D,S,g)=>{D.listen(S,_=>{try{g(_)}catch(x){setTimeout(()=>{throw x},0)}})};return C(f,rl.EventType.OPEN,()=>{w||(G(Kt,`RPC '${e}' stream ${i} transport opened.`),A.mo())}),C(f,rl.EventType.CLOSE,()=>{w||(w=!0,G(Kt,`RPC '${e}' stream ${i} transport closed`),A.po())}),C(f,rl.EventType.ERROR,D=>{w||(w=!0,fr(Kt,`RPC '${e}' stream ${i} transport errored:`,D),A.po(new H(j.UNAVAILABLE,"The operation could not be completed")))}),C(f,rl.EventType.MESSAGE,D=>{var S;if(!w){const g=D.data[0];ue(!!g);const _=g,x=_.error||((S=_[0])===null||S===void 0?void 0:S.error);if(x){G(Kt,`RPC '${e}' stream ${i} received error:`,x);const N=x.status;let M=function(I){const b=_t[I];if(b!==void 0)return eI(b)}(N),v=x.message;M===void 0&&(M=j.INTERNAL,v="Unknown error status: "+N+" with message "+x.message),w=!0,A.po(new H(M,v)),f.close()}else G(Kt,`RPC '${e}' stream ${i} received:`,g),A.yo(g)}}),C(a,uT.STAT_EVENT,D=>{D.stat===om.PROXY?G(Kt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===om.NOPROXY&&G(Kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.fo()},0),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){return typeof window<"u"?window:null}function jc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){return new hD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,r,i,o,s,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new xy(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(yt(n.toString()),yt("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new H(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iV extends LI{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=pD(this.serializer,e),r=function(o){if(!("targetChange"in o))return ce.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?vt(s.readTime):ce.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=gm(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=Ah(u)?{documents:cI(o,u)}:{query:hI(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=iI(o,s.resumeToken);const c=pm(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ce.min())>0){a.readTime=na(o,s.snapshotVersion.toTimestamp());const c=pm(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=gD(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=gm(this.serializer),n.removeTarget=e,this.i_(n)}}class oV extends LI{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=mD(e.writeResults,e.commitTime),r=vt(e.commitTime);return this.listener.A_(r,n)}return ue(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=gm(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Zl(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new H(j.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,mm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(j.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,mm(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(j.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class aV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(yt(n),this.y_=!1):G("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(async()=>{Ki(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=te(u);c.M_.add(4),await Ea(c),c.N_.set("Unknown"),c.M_.delete(4),await Tu(c)}(this))})}),this.N_=new aV(r,i)}}async function Tu(t){if(Ki(t))for(const e of t.x_)await e(!0)}async function Ea(t){for(const e of t.x_)await e(!1)}function fd(t,e){const n=te(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),ky(n)?Ry(n):Ta(n).Xo()&&Py(n,e))}function oa(t,e){const n=te(t),r=Ta(n);n.F_.delete(e),r.Xo()&&FI(n,e),n.F_.size===0&&(r.Xo()?r.n_():Ki(n)&&n.N_.set("Unknown"))}function Py(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ta(t).P_(e)}function FI(t,e){t.L_.xe(e),Ta(t).I_(e)}function Ry(t){t.L_=new aD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ta(t).start(),t.N_.w_()}function ky(t){return Ki(t)&&!Ta(t).Zo()&&t.F_.size>0}function Ki(t){return te(t).M_.size===0}function BI(t){t.L_=void 0}async function uV(t){t.N_.set("Online")}async function cV(t){t.F_.forEach((e,n)=>{Py(t,e)})}async function hV(t,e){BI(t),ky(t)?(t.N_.D_(e),Ry(t)):t.N_.set("Unknown")}async function dV(t,e,n){if(t.N_.set("Online"),e instanceof rI&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oh(t,r)}else if(e instanceof $c?t.L_.Ke(e):e instanceof nI?t.L_.He(e):t.L_.We(e),!n.isEqual(ce.min()))try{const r=await RI(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=o.F_.get(c);h&&o.F_.set(c,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const h=o.F_.get(u);if(!h)return;o.F_.set(u,h.withResumeToken(bt.EMPTY_BYTE_STRING,h.snapshotVersion)),FI(o,u);const f=new Lr(h.target,u,c,h.sequenceNumber);Py(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await Oh(t,r)}}async function Oh(t,e,n){if(!Hi(e))throw e;t.M_.add(1),await Ea(t),t.N_.set("Offline"),n||(n=()=>RI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Tu(t)})}function $I(t,e){return e().catch(n=>Oh(t,n,e))}async function Sa(t){const e=te(t),n=Fi(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;fV(e);)try{const i=await YD(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,pV(e,i)}catch(i){await Oh(e,i)}jI(e)&&zI(e)}function fV(t){return Ki(t)&&t.v_.length<10}function pV(t,e){t.v_.push(e);const n=Fi(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function jI(t){return Ki(t)&&!Fi(t).Zo()&&t.v_.length>0}function zI(t){Fi(t).start()}async function mV(t){Fi(t).V_()}async function gV(t){const e=Fi(t);for(const n of t.v_)e.d_(n.mutations)}async function yV(t,e,n){const r=t.v_.shift(),i=gy.from(r,e,n);await $I(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sa(t)}async function vV(t,e){e&&Fi(t).E_&&await async function(r,i){if(function(s){return ZT(s)&&s!==j.ABORTED}(i.code)){const o=r.v_.shift();Fi(r).t_(),await $I(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Sa(r)}}(t,e),jI(t)&&zI(t)}async function Tw(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Ki(n);n.M_.add(3),await Ea(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Tu(n)}async function Sm(t,e){const n=te(t);e?(n.M_.delete(2),await Tu(n)):e||(n.M_.add(2),await Ea(n),n.N_.set("Unknown"))}function Ta(t){return t.B_||(t.B_=function(n,r,i){const o=te(n);return o.f_(),new iV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:uV.bind(null,t),To:cV.bind(null,t),Ao:hV.bind(null,t),h_:dV.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),ky(t)?Ry(t):t.N_.set("Unknown")):(await t.B_.stop(),BI(t))})),t.B_}function Fi(t){return t.k_||(t.k_=function(n,r,i){const o=te(n);return o.f_(),new oV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:mV.bind(null,t),Ao:vV.bind(null,t),R_:gV.bind(null,t),A_:yV.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Sa(t)):(await t.k_.stop(),t.v_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Dy(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ia(t,e){if(yt("AsyncQueue",`${e}: ${t}`),Hi(t))return new H(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=il(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new $s(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $s)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $s;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.q_=new Ge(ee.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ie():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class sa{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new sa(e,n,$s.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class wV{constructor(){this.queries=new Gi(e=>FT(e),yu),this.onlineState="Unknown",this.z_=new Set}}async function Vy(t,e){const n=te(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new _V,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Ia(s,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Oy(n)}async function Ny(t,e){const n=te(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function EV(t,e){const n=te(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&Oy(n)}function SV(t,e,n){const r=te(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function Oy(t){t.z_.forEach(e=>{e.next()})}var Tm,bw;(bw=Tm||(Tm={})).J_="default",bw.Cache="cache";class My{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Tm.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.serializer=e}Ps(e){return Ir(this.serializer,e)}Is(e){return e.metadata.exists?uI(this.serializer,e.document,!1):Xe.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return vt(e)}}class IV{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=UI(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;const r=Se.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){const n=new Map,r=new Aw(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Ps(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||ge()).add(o);n.set(s,a)}}return n}async complete(){const e=await JD(this.localStore,new Aw(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(const r of this.queries)await ZD(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function UI(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.key=e}}class qI{constructor(e){this.key=e}}class HI{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ge(),this.mutatedKeys=ge(),this.Ia=$T(e),this.Ta=new $s(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new Iw,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const p=i.get(h),w=vu(this.query,f)?f:null,A=!!p&&this.mutatedKeys.has(p.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let D=!1;p&&w?p.data.isEqual(w.data)?A!==C&&(r.track({type:3,doc:w}),D=!0):this.Ra(p,w)||(r.track({type:2,doc:w}),D=!0,(u&&this.Ia(w,u)>0||c&&this.Ia(w,c)<0)&&(a=!0)):!p&&w?(r.track({type:0,doc:w}),D=!0):p&&!w&&(r.track({type:1,doc:p}),D=!0,(u||c)&&(a=!0)),D&&(w?(s=s.add(w),o=C?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((h,f)=>function(w,A){const C=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return C(w)-C(A)}(h.type,f.type)||this.Ia(h.doc,f.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,s.length!==0||c?{snapshot:new sa(this.query,e.Ta,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Iw,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ge(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new qI(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new WI(r))}),n}pa(e){this.la=e.hs,this.Pa=ge();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return sa.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class bV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AV{constructor(e){this.key=e,this.wa=!1}}class CV{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Gi(a=>FT(a),yu),this.Da=new Map,this.Ca=new Set,this.va=new Ge(ee.comparator),this.Fa=new Map,this.Ma=new Ty,this.xa={},this.Oa=new Map,this.Na=$o.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function xV(t,e,n=!0){const r=pd(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await GI(r,e,n,!0),i}async function PV(t,e){const n=pd(t);await GI(n,e,!0,!1)}async function GI(t,e,n,r){const i=await ra(t.localStore,on(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await Ly(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&fd(t.remoteStore,i),a}async function Ly(t,e,n,r,i){t.Ba=(f,p,w)=>async function(C,D,S,g){let _=D.view.da(S);_.Xi&&(_=await Dh(C.localStore,D.query,!1).then(({documents:v})=>D.view.da(v,_)));const x=g&&g.targetChanges.get(D.targetId),N=g&&g.targetMismatches.get(D.targetId)!=null,M=D.view.applyChanges(_,C.isPrimaryClient,x,N);return Im(C,D.targetId,M.fa),M.snapshot}(t,f,p,w);const o=await Dh(t.localStore,e,!0),s=new HI(e,o.hs),a=s.da(o.documents),u=Eu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,u);Im(t,n,c.fa);const h=new bV(e,n,s);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function RV(t,e,n){const r=te(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!yu(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ia(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&oa(r.remoteStore,i.targetId),aa(r,i.targetId)}).catch(qi)):(aa(r,i.targetId),await ia(r.localStore,i.targetId,!0))}async function kV(t,e){const n=te(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),oa(n.remoteStore,r.targetId))}async function DV(t,e,n){const r=jy(t);try{const i=await function(s,a){const u=te(s),c=nt.now(),h=a.reduce((w,A)=>w.add(A.key),ge());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=mn(),C=ge();return u.os.getEntries(w,h).next(D=>{A=D,A.forEach((S,g)=>{g.isValidDocument()||(C=C.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,A)).next(D=>{f=D;const S=[];for(const g of a){const _=iD(g,f.get(g.key).overlayedDocument);_!=null&&S.push(new Xr(g.key,_,PT(_.value.mapValue),tt.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,S,a)}).next(D=>{p=D;const S=D.applyToLocalDocumentSet(f,C);return u.documentOverlayCache.saveOverlays(w,D.batchId,S)})}).then(()=>({batchId:p.batchId,changes:zT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.xa[s.currentUser.toKey()];c||(c=new Ge(me)),c=c.insert(a,u),s.xa[s.currentUser.toKey()]=c}(r,i.batchId,n),await Yr(r,i.changes),await Sa(r.remoteStore)}catch(i){const o=Ia(i,"Failed to persist write");n.reject(o)}}async function KI(t,e){const n=te(t);try{const r=await XD(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?ue(s.wa):i.removedDocuments.size>0&&(ue(s.wa),s.wa=!1))}),await Yr(n,r,e)}catch(r){await qi(r)}}function Cw(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=te(s);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const p of f.U_)p.j_(a)&&(c=!0)}),c&&Oy(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VV(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Ge(ee.comparator);s=s.insert(o,Xe.newNoDocument(o,ce.min()));const a=ge().add(o),u=new wu(ce.min(),new Map,new Ge(me),s,a);await KI(r,u),r.va=r.va.remove(o),r.Fa.delete(e),$y(r)}else await ia(r.localStore,e,!1).then(()=>aa(r,e,n)).catch(qi)}async function NV(t,e){const n=te(t),r=e.batch.batchId;try{const i=await QD(n.localStore,e);By(n,r,null),Fy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yr(n,i)}catch(i){await qi(i)}}async function OV(t,e,n){const r=te(t);try{const i=await function(s,a){const u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(ue(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);By(r,e,n),Fy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yr(r,i)}catch(i){await qi(i)}}async function MV(t,e){const n=te(t);Ki(n.remoteStore)||G("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const a=te(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){const i=Ia(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Fy(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function By(t,e,n){const r=te(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function aa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||QI(t,r)})}function QI(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(oa(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),$y(t))}function Im(t,e,n){for(const r of n)r instanceof WI?(t.Ma.addReference(r.key,e),LV(t,r)):r instanceof qI?(G("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||QI(t,r.key)):ie()}function LV(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(G("SyncEngine","New document in limbo: "+n),t.Ca.add(r),$y(t))}function $y(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ee(Se.fromString(e)),r=t.Na.next();t.Fa.set(r,new AV(n)),t.va=t.va.insert(n,r),fd(t.remoteStore,new Lr(on(va(n.path)),r,"TargetPurposeLimboResolution",fn.oe))}}async function Yr(t,e,n){const r=te(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{s.push(r.Ba(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient){const h=c&&!c.fromCache;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Ay.Ki(u.targetId,c);o.push(h)}}))}),await Promise.all(s),r.Sa.h_(i),await async function(u,c){const h=te(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(c,p=>B.forEach(p.qi,w=>h.persistence.referenceDelegate.addReference(f,p.targetId,w)).next(()=>B.forEach(p.Qi,w=>h.persistence.referenceDelegate.removeReference(f,p.targetId,w)))))}catch(f){if(!Hi(f))throw f;G("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const w=h.ns.get(p),A=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(A);h.ns=h.ns.insert(p,C)}}}(r.localStore,o))}async function FV(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await PI(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(u=>{u.reject(new H(j.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yr(n,r.us)}}function BV(t,e){const n=te(t),r=n.Fa.get(e);if(r&&r.wa)return ge().add(r.key);{let i=ge();const o=n.Da.get(e);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}async function $V(t,e){const n=te(t),r=await Dh(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&Im(n,e.targetId,i.fa),i}async function jV(t,e){const n=te(t);return VI(n.localStore,e).then(r=>Yr(n,r))}async function zV(t,e,n,r){const i=te(t),o=await function(a,u){const c=te(a),h=te(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",f=>h.vn(f,u).next(p=>p?c.localDocuments.getDocuments(f,p):B.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?await Sa(i.remoteStore):n==="acknowledged"||n==="rejected"?(By(i,e,r||null),Fy(i,e),function(a,u){te(te(a).mutationQueue).Mn(u)}(i.localStore,e)):ie(),await Yr(i,o)):G("SyncEngine","Cannot apply mutation batch with id: "+e)}async function UV(t,e){const n=te(t);if(pd(n),jy(n),e===!0&&n.La!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await xw(n,r.toArray());n.La=!0,await Sm(n.remoteStore,!0);for(const o of i)fd(n.remoteStore,o)}else if(e===!1&&n.La!==!1){const r=[];let i=Promise.resolve();n.Da.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(aa(n,s),ia(n.localStore,s,!0))),oa(n.remoteStore,s)}),await i,await xw(n,r),function(s){const a=te(s);a.Fa.forEach((u,c)=>{oa(a.remoteStore,c)}),a.Ma.mr(),a.Fa=new Map,a.va=new Ge(ee.comparator)}(n),n.La=!1,await Sm(n.remoteStore,!1)}}async function xw(t,e,n){const r=te(t),i=[],o=[];for(const s of e){let a;const u=r.Da.get(s);if(u&&u.length!==0){a=await ra(r.localStore,on(u[0]));for(const c of u){const h=r.ba.get(c),f=await $V(r,h);f.snapshot&&o.push(f.snapshot)}}else{const c=await DI(r.localStore,s);a=await ra(r.localStore,c),await Ly(r,XI(c),s,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(o),i}function XI(t){return LT(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function WV(t){return function(n){return te(te(n).persistence).Bi()}(te(t).localStore)}async function qV(t,e,n,r){const i=te(t);if(i.La)return void G("SyncEngine","Ignoring unexpected query state notification.");const o=i.Da.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=await VI(i.localStore,BT(o[0])),a=wu.createSynthesizedRemoteEventForCurrentChange(e,n==="current",bt.EMPTY_BYTE_STRING);await Yr(i,s,a);break}case"rejected":await ia(i.localStore,e,!0),aa(i,e,r);break;default:ie()}}async function HV(t,e,n){const r=pd(t);if(r.La){for(const i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){G("SyncEngine","Adding an already active target "+i);continue}const o=await DI(r.localStore,i),s=await ra(r.localStore,o);await Ly(r,XI(o),s.targetId,!1,s.resumeToken),fd(r.remoteStore,s)}for(const i of n)r.Da.has(i)&&await ia(r.localStore,i,!1).then(()=>{oa(r.remoteStore,i),aa(r,i)}).catch(qi)}}function pd(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VV.bind(null,e),e.Sa.h_=EV.bind(null,e.eventManager),e.Sa.ka=SV.bind(null,e.eventManager),e}function jy(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OV.bind(null,e),e}function GV(t,e,n){const r=te(t);(async function(o,s,a){try{const u=await s.getMetadata();if(await function(w,A){const C=te(w),D=vt(A.createTime);return C.persistence.runTransaction("hasNewerBundle","readonly",S=>C.$r.getBundleMetadata(S,A.id)).then(S=>!!S&&S.createTime.compareTo(D)>=0)}(o.localStore,u))return await s.close(),a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(u)),Promise.resolve(new Set);a._updateProgress(UI(u));const c=new IV(u,o.localStore,s.serializer);let h=await s.qa();for(;h;){const p=await c._a(h);p&&a._updateProgress(p),h=await s.qa()}const f=await c.complete();return await Yr(o,f.ca,void 0),await function(w,A){const C=te(w);return C.persistence.runTransaction("Save bundle","readwrite",D=>C.$r.saveBundleMetadata(D,A))}(o.localStore,u),a._completeWith(f.progress),Promise.resolve(f.ua)}catch(u){return fr("SyncEngine",`Loading bundle failed with ${u}`),a._failWith(u),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class bm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Su(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return xI(this.persistence,new CI,e.initialUser,this.serializer)}createPersistence(e){return new AI(dd.Hr,this.serializer)}createSharedClientState(e){return new OI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class YI extends bm{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await jy(this.Qa.syncEngine),await Sa(this.Qa.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return xI(this.persistence,new CI,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new DD(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new mk(n,this.persistence);return new pk(e.asyncQueue,r)}createPersistence(e){const n=by(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new Iy(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,MI(),jc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new OI}}class KV extends YI{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Qa.syncEngine;this.sharedClientState instanceof zf&&(this.sharedClientState.syncEngine={Zs:zV.bind(null,n),Xs:qV.bind(null,n),eo:HV.bind(null,n),Bi:WV.bind(null,n),Ys:jV.bind(null,n)},await this.sharedClientState.start()),await this.persistence.fi(async r=>{await UV(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=MI();if(!zf.D(n))throw new H(j.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=by(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zf(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class zy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FV.bind(null,this.syncEngine),await Sm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wV}()}createDatastore(e){const n=Su(e.databaseInfo.databaseId),r=function(o){return new rV(o)}(e.databaseInfo);return function(o,s,a,u){return new sV(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new lV(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Cw(this.syncEngine,n,0),function(){return Sw.D()?new Sw:new eV}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,h){const f=new CV(i,o,s,a,u,c);return h&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=te(r);G("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Ea(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):yt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new kt,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(e===null)return null;const n=this.Wa.decode(e),r=Number(n);isNaN(r)&&this.ja(`length string (${n}) is not valid number`);const i=await this.Ha(r);return new TV(JSON.parse(i),e.length+r)}Ja(){return this.buffer.findIndex(e=>e===123)}async za(){for(;this.Ja()<0&&!await this.Ya(););if(this.buffer.length===0)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ya(){const e=await this.Ua.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new H(j.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,o){const s=te(i),a={documents:o.map(f=>Jl(s.serializer,f))},u=await s.xo("BatchGetDocuments",s.serializer.databaseId,Se.emptyPath(),a,o.length),c=new Map;u.forEach(f=>{const p=fD(s.serializer,f);c.set(p.key.toString(),p)});const h=[];return o.forEach(f=>{const p=c.get(f.toString());ue(!!p),h.push(p)}),h}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new wa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ee.fromPath(r);this.mutations.push(new py(i,this.precondition(i)))}),await async function(r,i){const o=te(r),s={writes:i.map(a=>Zl(o.serializer,a))};await o.Co("Commit",o.serializer.databaseId,Se.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ie();n=ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new H(j.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ce.min())?tt.exists(!1):tt.updateTime(n):tt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ce.min()))throw new H(j.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tt.updateTime(n)}return tt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Za=r.maxAttempts,this.Yo=new xy(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(async()=>{const e=new XV(this.datastore),n=this.tu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.nu(i)}))}).catch(r=>{this.nu(r)})})}tu(e){try{const n=this.updateFunction(e);return!mu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!ZT(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=fT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ia(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zc(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Am(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Uy(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Tw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Tw(e.remoteStore,i)),t._onlineComponents=e}function JI(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Uy(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await zc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!JI(n))throw n;fr("Error using user provided cache. Falling back to memory cache: "+n),await zc(t,new bm)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await zc(t,new bm);return t._offlineComponents}async function gd(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await Am(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await Am(t,new zy))),t._onlineComponents}function ZI(t){return Uy(t).then(e=>e.persistence)}function Wy(t){return Uy(t).then(e=>e.localStore)}function eb(t){return gd(t).then(e=>e.remoteStore)}function qy(t){return gd(t).then(e=>e.syncEngine)}function ZV(t){return gd(t).then(e=>e.datastore)}async function la(t){const e=await gd(t),n=e.eventManager;return n.onListen=xV.bind(null,e.syncEngine),n.onUnlisten=RV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kV.bind(null,e.syncEngine),n}function eN(t){return t.asyncQueue.enqueue(async()=>{const e=await ZI(t),n=await eb(t);return e.setNetworkEnabled(!0),function(i){const o=te(i);return o.M_.delete(0),Tu(o)}(n)})}function tN(t){return t.asyncQueue.enqueue(async()=>{const e=await ZI(t),n=await eb(t);return e.setNetworkEnabled(!1),async function(i){const o=te(i);o.M_.add(0),await Ea(o),o.N_.set("Offline")}(n)})}function nN(t,e){const n=new kt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,o,s){try{const a=await function(c,h){const f=te(c);return f.persistence.runTransaction("read document","readonly",p=>f.localDocuments.getDocument(p,h))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new H(j.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const u=Ia(a,`Failed to get document '${o} from cache`);s.reject(u)}}(await Wy(t),e,n)),n.promise}function tb(t,e,n={}){const r=new kt;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,c){const h=new md({next:p=>{s.enqueueAndForget(()=>Ny(o,f));const w=p.docs.has(a);!w&&p.fromCache?c.reject(new H(j.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&p.fromCache&&u&&u.source==="server"?c.reject(new H(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new My(va(a.path),h,{includeMetadataChanges:!0,ra:!0});return Vy(o,f)}(await la(t),t.asyncQueue,e,n,r)),r.promise}function rN(t,e){const n=new kt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,o,s){try{const a=await Dh(i,o,!0),u=new HI(o,a.hs),c=u.da(a.documents),h=u.applyChanges(c,!1);s.resolve(h.snapshot)}catch(a){const u=Ia(a,`Failed to execute query '${o} against cache`);s.reject(u)}}(await Wy(t),e,n)),n.promise}function nb(t,e,n={}){const r=new kt;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,c){const h=new md({next:p=>{s.enqueueAndForget(()=>Ny(o,f)),p.fromCache&&u.source==="server"?c.reject(new H(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new My(a,h,{includeMetadataChanges:!0,ra:!0});return Vy(o,f)}(await la(t),t.asyncQueue,e,n,r)),r.promise}function iN(t,e){const n=new md(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,o){te(i).z_.add(o),o.next()}(await la(t),n)),()=>{n.$a(),t.asyncQueue.enqueueAndForget(async()=>function(i,o){te(i).z_.delete(o)}(await la(t),n))}}function oN(t,e,n,r){const i=function(s,a){let u;return u=typeof s=="string"?tI().encode(s):s,function(h,f){return new QV(h,f)}(function(h,f){if(h instanceof Uint8Array)return Pw(h,f);if(h instanceof ArrayBuffer)return Pw(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),a)}(n,Su(e));t.asyncQueue.enqueueAndForget(async()=>{GV(await qy(t),i,r)})}function sN(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const o=te(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,i))}(await Wy(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t,e,n){if(!n)throw new H(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ib(t,e,n,r){if(e===!0&&r===!0)throw new H(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kw(t){if(!ee.isDocumentKey(t))throw new H(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dw(t){if(ee.isDocumentKey(t))throw new H(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function Re(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yd(t);throw new H(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ob(t,e){if(e<=0)throw new H(j.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ib("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Iu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rk;switch(r.type){case"firstParty":return new ak(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Rw.get(n);r&&(G("ComponentProvider","Removing Datastore"),Rw.delete(n),r.terminate())}(this),Promise.resolve()}}function aN(t,e,n,r={}){var i;const o=(t=Re(t,Iu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Pt.MOCK_USER;else{a=bR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new H(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Pt(c)}t._authCredentials=new ik(new dT(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sn=class sb{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sb(this.firestore,e,this._query)}},lt=class ab{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ab(this.firestore,e,this._key)}},xi=class lb extends sn{constructor(e,n,r){super(e,n,va(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new ee(e))}withConverter(e){return new lb(this.firestore,e,this._path)}};function ub(t,e,...n){if(t=St(t),Hy("collection","path",e),t instanceof Iu){const r=Se.fromString(e,...n);return Dw(r),new xi(t,null,r)}{if(!(t instanceof lt||t instanceof xi))throw new H(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return Dw(r),new xi(t.firestore,null,r)}}function lN(t,e){if(t=Re(t,Iu),Hy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new H(j.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new sn(t,null,function(r){return new Qr(Se.emptyPath(),r)}(e))}function Mh(t,e,...n){if(t=St(t),arguments.length===1&&(e=fT.newId()),Hy("doc","path",e),t instanceof Iu){const r=Se.fromString(e,...n);return kw(r),new lt(t,null,new ee(r))}{if(!(t instanceof lt||t instanceof xi))throw new H(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return kw(r),new lt(t.firestore,t instanceof xi?t.converter:null,new ee(r))}}function cb(t,e){return t=St(t),e=St(e),(t instanceof lt||t instanceof xi)&&(e instanceof lt||e instanceof xi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function hb(t,e){return t=St(t),e=St(e),t instanceof sn&&e instanceof sn&&t.firestore===e.firestore&&yu(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new xy(this,"async_queue_retry"),this.hu=()=>{const n=jc();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=jc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=jc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new kt;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Hi(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw yt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Dy.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&ie()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function Cm(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class cN{constructor(){this._progressObserver={},this._taskCompletionResolver=new kt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=-1;let mt=class extends Iu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new uN}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||db(this),this._firestoreClient.terminate()}};function Vt(t){return t._firestoreClient||db(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function db(t){var e,n,r;const i=t._freezeSettings(),o=function(a,u,c,h){return new Mk(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,rb(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new JV(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function dN(t,e){pb(t=Re(t,mt));const n=Vt(t);if(n._uninitializedComponentsProvider)throw new H(j.FAILED_PRECONDITION,"SDK cache is already specified.");fr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new zy;return fb(n,i,new YI(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function fN(t){pb(t=Re(t,mt));const e=Vt(t);if(e._uninitializedComponentsProvider)throw new H(j.FAILED_PRECONDITION,"SDK cache is already specified.");fr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new zy;return fb(e,r,new KV(r,n.cacheSizeBytes))}function fb(t,e,n){const r=new kt;return t.asyncQueue.enqueue(async()=>{try{await zc(t,n),await Am(t,e),r.resolve()}catch(i){const o=i;if(!JI(o))throw o;fr("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}}).then(()=>r.promise)}function pN(t){if(t._initialized&&!t._terminated)throw new H(j.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new kt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Tr.D())return Promise.resolve();const i=r+"main";await Tr.delete(i)}(by(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function mN(t){return function(n){const r=new kt;return n.asyncQueue.enqueueAndForget(async()=>MV(await qy(n),r)),r.promise}(Vt(t=Re(t,mt)))}function gN(t){return eN(Vt(t=Re(t,mt)))}function yN(t){return tN(Vt(t=Re(t,mt)))}function vN(t,e){const n=Vt(t=Re(t,mt)),r=new cN;return oN(n,t._databaseId,e,r),r}function _N(t,e){return sN(Vt(t=Re(t,mt)),e).then(n=>n?new sn(t,null,n.query):null)}function pb(t){if(t._initialized||t._terminated)throw new H(j.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ar(bt.fromBase64String(e))}catch(n){throw new H(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ar(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bi=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=/^__.*__$/;class EN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new _a(e,this.data,n,this.fieldTransforms)}}class mb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class _d{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new _d(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Lh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(gb(this.fu)&&wN.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class SN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Su(e)}Fu(e,n,r,i=!1){return new _d({fu:e,methodName:n,vu:r,path:et.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xo(t){const e=t._freezeSettings(),n=Su(t._databaseId);return new SN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wd(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);Zy("Data must be an object, but it was:",s,r);const a=_b(r,s);let u,c;if(o.merge)u=new pn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const p=xm(e,f,n);if(!s.contains(p))throw new H(j.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Eb(h,p)||h.push(p)}u=new pn(h),c=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=s.fieldTransforms;return new EN(new Bt(a),u,c)}class bu extends Qo{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bu}}function yb(t,e,n){return new _d({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Gy extends Qo{_toFieldTransform(e){return new _u(e.path,new ea)}isEqual(e){return e instanceof Gy}}class Ky extends Qo{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=yb(this,e,!0),r=this.Mu.map(o=>Yo(o,n)),i=new Mo(r);return new _u(e.path,i)}isEqual(e){return e instanceof Ky&&zl(this.Mu,e.Mu)}}class Qy extends Qo{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=yb(this,e,!0),r=this.Mu.map(o=>Yo(o,n)),i=new Lo(r);return new _u(e.path,i)}isEqual(e){return e instanceof Qy&&zl(this.Mu,e.Mu)}}class Xy extends Qo{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){const n=new ta(e.serializer,HT(e.serializer,this.xu));return new _u(e.path,n)}isEqual(e){return e instanceof Xy&&this.xu===e.xu}}function Yy(t,e,n,r){const i=t.Fu(1,e,n);Zy("Data must be an object, but it was:",i,r);const o=[],s=Bt.empty();Ko(r,(u,c)=>{const h=ev(e,u,n);c=St(c);const f=i.Su(h);if(c instanceof bu)o.push(h);else{const p=Yo(c,f);p!=null&&(o.push(h),s.set(h,p))}});const a=new pn(o);return new mb(s,a,i.fieldTransforms)}function Jy(t,e,n,r,i,o){const s=t.Fu(1,e,n),a=[xm(e,r,n)],u=[i];if(o.length%2!=0)throw new H(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(xm(e,o[p])),u.push(o[p+1]);const c=[],h=Bt.empty();for(let p=a.length-1;p>=0;--p)if(!Eb(c,a[p])){const w=a[p];let A=u[p];A=St(A);const C=s.Su(w);if(A instanceof bu)c.push(w);else{const D=Yo(A,C);D!=null&&(c.push(w),h.set(w,D))}}const f=new pn(c);return new mb(h,f,s.fieldTransforms)}function vb(t,e,n,r=!1){return Yo(n,t.Fu(r?4:3,e))}function Yo(t,e){if(wb(t=St(t)))return Zy("Unsupported field value:",e,t),_b(t,e);if(t instanceof Qo)return function(r,i){if(!gb(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=Yo(a,i.bu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HT(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=nt.fromDate(r);return{timestampValue:na(i.serializer,o)}}if(r instanceof nt){const o=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:na(i.serializer,o)}}if(r instanceof vd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ar)return{bytesValue:iI(i.serializer,r._byteString)};if(r instanceof lt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_y(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${yd(r)}`)}(t,e)}function _b(t,e){const n={};return AT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(t,(r,i)=>{const o=Yo(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function wb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof vd||t instanceof Ar||t instanceof lt||t instanceof Qo)}function Zy(t,e,n){if(!wb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=yd(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function xm(t,e,n){if((e=St(e))instanceof Bi)return e._internalPath;if(typeof e=="string")return ev(t,e);throw Lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const TN=new RegExp("[~\\*/\\[\\]]");function ev(t,e,n){if(e.search(TN)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bi(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lh(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(j.INVALID_ARGUMENT,a+t+u)}function Eb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ed("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IN extends eu{data(){return super.data()}}function Ed(t,e){return typeof e=="string"?ev(t,e):e instanceof Bi?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tv{}class Au extends tv{}function si(t,e,...n){let r=[];e instanceof tv&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof nv).length,a=o.filter(u=>u instanceof Sd).length;if(s>1||s>0&&a>0)throw new H(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Sd extends Au{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sd(e,n,r)}_apply(e){const n=this._parse(e);return Ib(e._query,n),new sn(e.firestore,e.converter,fm(e._query,n))}_parse(e){const n=Xo(e.firestore);return function(o,s,a,u,c,h,f){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Ow(f,h);const w=[];for(const A of f)w.push(Nw(u,o,A));p={arrayValue:{values:w}}}else p=Nw(u,o,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Ow(f,h),p=vb(a,s,f,h==="in"||h==="not-in");return Te.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function bN(t,e,n){const r=e,i=Ed("where",t);return Sd._create(i,r,n)}class nv extends tv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Le.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)Ib(s,u),s=fm(s,u)}(e._query,n),new sn(e.firestore,e.converter,fm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rv extends Au{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rv(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new H(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yl(o,s)}(e._query,this._field,this._direction);return new sn(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Qr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function AN(t,e="asc"){const n=e,r=Ed("orderBy",t);return rv._create(r,n)}class Td extends Au{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Td(e,n,r)}_apply(e){return new sn(e.firestore,e.converter,xh(e._query,this._limit,this._limitType))}}function CN(t){return ob("limit",t),Td._create("limit",t,"F")}function xN(t){return ob("limitToLast",t),Td._create("limitToLast",t,"L")}class Id extends Au{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Id(e,n,r)}_apply(e){const n=Tb(e,this.type,this._docOrFields,this._inclusive);return new sn(e.firestore,e.converter,function(i,o){return new Qr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function PN(...t){return Id._create("startAt",t,!0)}function RN(...t){return Id._create("startAfter",t,!1)}class bd extends Au{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new bd(e,n,r)}_apply(e){const n=Tb(e,this.type,this._docOrFields,this._inclusive);return new sn(e.firestore,e.converter,function(i,o){return new Qr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,n))}}function kN(...t){return bd._create("endBefore",t,!1)}function DN(...t){return bd._create("endAt",t,!0)}function Tb(t,e,n,r){if(n[0]=St(n[0]),n[0]instanceof eu)return function(o,s,a,u,c){if(!u)throw new H(j.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const f of Bs(o))if(f.field.isKeyField())h.push(No(s,u.key));else{const p=u.data.field(f.field);if(ad(p))throw new H(j.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const w=f.field.canonicalString();throw new H(j.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}h.push(p)}return new Li(h,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Xo(t.firestore);return function(s,a,u,c,h,f){const p=s.explicitOrderBy;if(h.length>p.length)throw new H(j.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let A=0;A<h.length;A++){const C=h[A];if(p[A].field.isKeyField()){if(typeof C!="string")throw new H(j.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof C}`);if(!dy(s)&&C.indexOf("/")!==-1)throw new H(j.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${C}' contains a slash.`);const D=s.path.child(Se.fromString(C));if(!ee.isDocumentKey(D))throw new H(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const S=new ee(D);w.push(No(a,S))}else{const D=vb(u,c,C);w.push(D)}}return new Li(w,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Nw(t,e,n){if(typeof(n=St(n))=="string"){if(n==="")throw new H(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dy(e)&&n.indexOf("/")!==-1)throw new H(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!ee.isDocumentKey(r))throw new H(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return No(t,new ee(r))}if(n instanceof lt)return No(t,n._key);throw new H(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yd(n)}.`)}function Ow(t,e){if(!Array.isArray(t)||t.length===0)throw new H(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ib(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iv{convertValue(e,n="none"){switch(Vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ko(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new vd(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const n=Wr(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);ue(mI(r));const i=new Oi(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||yt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class VN extends iv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ar(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let qr=class extends eu{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new El(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ed("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},El=class extends qr{data(e={}){return super.data(e)}},$i=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new El(this._firestore,this._userDataWriter,r.key,r,new yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new El(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new El(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:NN(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function NN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}function bb(t,e){return t instanceof qr&&e instanceof qr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof $i&&e instanceof $i&&t._firestore===e._firestore&&hb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t){t=Re(t,lt);const e=Re(t.firestore,mt);return tb(Vt(e),t._key).then(n=>ov(e,t,n))}class Jo extends iv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ar(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}}function MN(t){t=Re(t,lt);const e=Re(t.firestore,mt),n=Vt(e),r=new Jo(e);return nN(n,t._key).then(i=>new qr(e,r,t._key,i,new yo(i!==null&&i.hasLocalMutations,!0),t.converter))}function LN(t){t=Re(t,lt);const e=Re(t.firestore,mt);return tb(Vt(e),t._key,{source:"server"}).then(n=>ov(e,t,n))}function FN(t){t=Re(t,sn);const e=Re(t.firestore,mt),n=Vt(e),r=new Jo(e);return Sb(t._query),nb(n,t._query).then(i=>new $i(e,r,t,i))}function BN(t){t=Re(t,sn);const e=Re(t.firestore,mt),n=Vt(e),r=new Jo(e);return rN(n,t._query).then(i=>new $i(e,r,t,i))}function $N(t){t=Re(t,sn);const e=Re(t.firestore,mt),n=Vt(e),r=new Jo(e);return nb(n,t._query,{source:"server"}).then(i=>new $i(e,r,t,i))}function Mw(t,e,n){t=Re(t,lt);const r=Re(t.firestore,mt),i=Ad(t.converter,e,n);return Cu(r,[wd(Xo(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,tt.none())])}function Lw(t,e,n,...r){t=Re(t,lt);const i=Re(t.firestore,mt),o=Xo(i);let s;return s=typeof(e=St(e))=="string"||e instanceof Bi?Jy(o,"updateDoc",t._key,e,n,r):Yy(o,"updateDoc",t._key,e),Cu(i,[s.toMutation(t._key,tt.exists(!0))])}function jN(t){return Cu(Re(t.firestore,mt),[new wa(t._key,tt.none())])}function zN(t,e){const n=Re(t.firestore,mt),r=Mh(t),i=Ad(t.converter,e);return Cu(n,[wd(Xo(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,tt.exists(!1))]).then(()=>r)}function Ab(t,...e){var n,r,i;t=St(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Cm(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Cm(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,c,h;if(t instanceof lt)c=Re(t.firestore,mt),h=va(t._key.path),u={next:f=>{e[s]&&e[s](ov(c,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Re(t,sn);c=Re(f.firestore,mt),h=f._query;const p=new Jo(c);u={next:w=>{e[s]&&e[s](new $i(c,p,f,w))},error:e[s+1],complete:e[s+2]},Sb(t._query)}return function(p,w,A,C){const D=new md(C),S=new My(w,D,A);return p.asyncQueue.enqueueAndForget(async()=>Vy(await la(p),S)),()=>{D.$a(),p.asyncQueue.enqueueAndForget(async()=>Ny(await la(p),S))}}(Vt(c),h,a,u)}function UN(t,e){return iN(Vt(t=Re(t,mt)),Cm(e)?e:{next:e})}function Cu(t,e){return function(r,i){const o=new kt;return r.asyncQueue.enqueueAndForget(async()=>DV(await qy(r),i,o)),o.promise}(Vt(t),e)}function ov(t,e,n){const r=n.docs.get(e._key),i=new Jo(t);return new qr(t,i,e._key,r,new yo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qN=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xo(e)}set(e,n,r){this._verifyNotCommitted();const i=fi(e,this._firestore),o=Ad(i.converter,n,r),s=wd(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,tt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=fi(e,this._firestore);let s;return s=typeof(n=St(n))=="string"||n instanceof Bi?Jy(this._dataReader,"WriteBatch.update",o._key,n,r,i):Yy(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,tt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=fi(e,this._firestore);return this._mutations=this._mutations.concat(new wa(n._key,tt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new H(j.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function fi(t,e){if((t=St(t)).firestore!==e)throw new H(j.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HN=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Xo(n)}get(n){const r=fi(n,this._firestore),i=new VN(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return ie();const s=o[0];if(s.isFoundDocument())return new eu(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new eu(this._firestore,i,r._key,null,r.converter);throw ie()})}set(n,r,i){const o=fi(n,this._firestore),s=Ad(o.converter,r,i),a=wd(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=fi(n,this._firestore);let a;return a=typeof(r=St(r))=="string"||r instanceof Bi?Jy(this._dataReader,"Transaction.update",s._key,r,i,o):Yy(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=fi(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=fi(e,this._firestore),r=new Jo(this._firestore);return super.get(e).then(i=>new qr(this._firestore,r,n._key,i._document,new yo(!1,!1),n.converter))}};function GN(t,e,n){t=Re(t,mt);const r=Object.assign(Object.assign({},WN),n);return function(o){if(o.maxAttempts<1)throw new H(j.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const u=new kt;return o.asyncQueue.enqueueAndForget(async()=>{const c=await ZV(o);new YV(o.asyncQueue,c,a,s,u).Xa()}),u.promise}(Vt(t),i=>e(new HN(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(){return new bu("deleteField")}function QN(){return new Gy("serverTimestamp")}function XN(...t){return new Ky("arrayUnion",t)}function YN(...t){return new Qy("arrayRemove",t)}function JN(t){return new Xy("increment",t)}(function(e,n=!0){(function(i){ya=i})(iy),Xs(new ko("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new mt(new ok(r.getProvider("auth-internal")),new uk(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oi(c.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Br(R0,"4.6.3",e),Br(R0,"4.6.3","esm2017")})();const ZN="@firebase/firestore-compat",eO="0.3.32";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new H("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){if(typeof Uint8Array>"u")throw new H("unimplemented","Uint8Arrays are not available in this environment.")}function Bw(){if(!Nk())throw new H("unimplemented","Blobs are unavailable in Firestore in this environment.")}let Cb=class Pm{constructor(e){this._delegate=e}static fromBase64String(e){return Bw(),new Pm(Ar.fromBase64String(e))}static fromUint8Array(e){return Fw(),new Pm(Ar.fromUint8Array(e))}toBase64(){return Bw(),this._delegate.toBase64()}toUint8Array(){return Fw(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t){return tO(t,["next","error","complete"])}function tO(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{enableIndexedDbPersistence(e,n){return dN(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return fN(e._delegate)}clearIndexedDbPersistence(e){return pN(e._delegate)}}class xb{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Oi||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&fr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){aN(this._delegate,e,n,r)}enableNetwork(){return gN(this._delegate)}disableNetwork(){return yN(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ib("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return mN(this._delegate)}onSnapshotsInSync(e){return UN(this._delegate,e)}get app(){if(!this._appCompat)throw new H("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ua(this,ub(this._delegate,e))}catch(n){throw tn(n,"collection()","Firestore.collection()")}}doc(e){try{return new qn(this,Mh(this._delegate,e))}catch(n){throw tn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new en(this,lN(this._delegate,e))}catch(n){throw tn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return GN(this._delegate,n=>e(new Pb(this,n)))}batch(){return Vt(this._delegate),new Rb(new qN(this._delegate,e=>Cu(this._delegate,e)))}loadBundle(e){return vN(this._delegate,e)}namedQuery(e){return _N(this._delegate,e).then(n=>n?new en(this,n):null)}}class Cd extends iv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cb(new Ar(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return qn.forKey(n,this.firestore,null)}}function rO(t){tk(t)}class Pb{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Cd(e)}get(e){const n=vo(e);return this._delegate.get(n).then(r=>new tu(this._firestore,new qr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=vo(e);return r?(sv("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=vo(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=vo(e);return this._delegate.delete(n),this}}class Rb{constructor(e){this._delegate=e}set(e,n,r){const i=vo(e);return r?(sv("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=vo(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=vo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class jo{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new El(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new nu(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=jo.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new jo(e,new Cd(e),n),i.set(n,o)),o}}jo.INSTANCES=new WeakMap;class qn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Cd(e)}static forPath(e,n,r){if(e.length%2!==0)throw new H("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new qn(n,new lt(n._delegate,r,new ee(e)))}static forKey(e,n,r){return new qn(n,new lt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ua(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ua(this.firestore,ub(this._delegate,e))}catch(n){throw tn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=St(e),e instanceof lt?cb(this._delegate,e):!1}set(e,n){n=sv("DocumentReference.set",n);try{return n?Mw(this._delegate,e,n):Mw(this._delegate,e)}catch(r){throw tn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?Lw(this._delegate,e):Lw(this._delegate,e,n,...r)}catch(i){throw tn(i,"updateDoc()","DocumentReference.update()")}}delete(){return jN(this._delegate)}onSnapshot(...e){const n=kb(e),r=Db(e,i=>new tu(this.firestore,new qr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Ab(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=MN(this._delegate):(e==null?void 0:e.source)==="server"?n=LN(this._delegate):n=ON(this._delegate),n.then(r=>new tu(this.firestore,new qr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new qn(this.firestore,e?this._delegate.withConverter(jo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function tn(t,e,n){return t.message=t.message.replace(e,n),t}function kb(t){for(const e of t)if(typeof e=="object"&&!Rm(e))return e;return{}}function Db(t,e){var n,r;let i;return Rm(t[0])?i=t[0]:Rm(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class tu{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new qn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return bb(this._delegate,e._delegate)}}class nu extends tu{data(e){const n=this._delegate.data(e);return this._delegate._converter||nk(n!==void 0),n}}class en{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Cd(e)}where(e,n,r){try{return new en(this.firestore,si(this._delegate,bN(e,n,r)))}catch(i){throw tn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new en(this.firestore,si(this._delegate,AN(e,n)))}catch(r){throw tn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new en(this.firestore,si(this._delegate,CN(e)))}catch(n){throw tn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new en(this.firestore,si(this._delegate,xN(e)))}catch(n){throw tn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new en(this.firestore,si(this._delegate,PN(...e)))}catch(n){throw tn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new en(this.firestore,si(this._delegate,RN(...e)))}catch(n){throw tn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new en(this.firestore,si(this._delegate,kN(...e)))}catch(n){throw tn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new en(this.firestore,si(this._delegate,DN(...e)))}catch(n){throw tn(n,"endAt()","Query.endAt()")}}isEqual(e){return hb(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=BN(this._delegate):(e==null?void 0:e.source)==="server"?n=$N(this._delegate):n=FN(this._delegate),n.then(r=>new km(this.firestore,new $i(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=kb(e),r=Db(e,i=>new km(this.firestore,new $i(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Ab(this._delegate,n,r)}withConverter(e){return new en(this.firestore,e?this._delegate.withConverter(jo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class iO{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new nu(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class km{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new en(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new nu(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new iO(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new nu(this._firestore,r))})}isEqual(e){return bb(this._delegate,e._delegate)}}class ua extends en{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new qn(this.firestore,e):null}doc(e){try{return e===void 0?new qn(this.firestore,Mh(this._delegate)):new qn(this.firestore,Mh(this._delegate,e))}catch(n){throw tn(n,"doc()","CollectionReference.doc()")}}add(e){return zN(this._delegate,e).then(n=>new qn(this.firestore,n))}isEqual(e){return cb(this._delegate,e._delegate)}withConverter(e){return new ua(this.firestore,e?this._delegate.withConverter(jo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function vo(t){return Re(t,lt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(...e){this._delegate=new Bi(...e)}static documentId(){return new av(et.keyField().canonicalString())}isEqual(e){return e=St(e),e instanceof Bi?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._delegate=e}static serverTimestamp(){const e=QN();return e._methodName="FieldValue.serverTimestamp",new ho(e)}static delete(){const e=KN();return e._methodName="FieldValue.delete",new ho(e)}static arrayUnion(...e){const n=XN(...e);return n._methodName="FieldValue.arrayUnion",new ho(n)}static arrayRemove(...e){const n=YN(...e);return n._methodName="FieldValue.arrayRemove",new ho(n)}static increment(e){const n=JN(e);return n._methodName="FieldValue.increment",new ho(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO={Firestore:xb,GeoPoint:vd,Timestamp:nt,Blob:Cb,Transaction:Pb,WriteBatch:Rb,DocumentReference:qn,DocumentSnapshot:tu,Query:en,QueryDocumentSnapshot:nu,QuerySnapshot:km,CollectionReference:ua,FieldPath:av,FieldValue:ho,setLogLevel:rO,CACHE_SIZE_UNLIMITED:hN};function sO(t,e){t.INTERNAL.registerComponent(new ko("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},oO)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){sO(t,(e,n)=>new xb(e,n,new nO)),t.registerVersion(ZN,eO)}aO(od);const lO={apiKey:"AIzaSyCMLGWveKi0Ui5w465NPrONF9-MlC5H8os",authDomain:"schoolapp-808ca.firebaseapp.com",projectId:"schoolapp-808ca",storageBucket:"schoolapp-808ca.appspot.com",messagingSenderId:"892349125700",appId:"1:892349125700:web:9c2e13957f05dbcb6ad811"},uO=od.initializeApp(lO),xd=od.firestore(uO),cO=async t=>{await xd.collection("users").doc(t.userid).set({coins:t.coins})},hO=async(t,e)=>{await xd.collection("users").doc(t).update({coins:e})},dO=async t=>(await xd.collection("users").doc(t).get()).data(),fO=async()=>(await xd.collection("users").get()).docs.map(e=>({userid:e.id,coins:e.data().coins})),pO="_leaderboard_vqjb9_1",mO={leaderboard:pO},gO=()=>{const[t,e]=$.useState([]),[n,r]=$.useState(!1);return $.useEffect(()=>{(async()=>{if(!n){const o=await fO();o.sort((s,a)=>a.coins-s.coins),e(o),r(!0)}})()},[n]),Je.jsxs("div",{className:mO.leaderboard,children:[Je.jsx("h2",{className:"leaders",children:" "}),Je.jsx("ul",{children:t.map((i,o)=>Je.jsxs("li",{children:[o+1,". ",i.userid,": ",i.coins," "]},i.userid))})]})};var lv=$.createContext({});function Hr(){return Hr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hr.apply(null,arguments)}function Vb(t){if(Array.isArray(t))return t}function yO(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(h){c=!0,i=h}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Dm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function uv(t,e){if(t){if(typeof t=="string")return Dm(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dm(t,e):void 0}}function Nb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ce(t,e){return Vb(t)||yO(t,e)||uv(t,e)||Nb()}function rt(t){"@babel/helpers - typeof";return rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(t)}function vO(t,e){if(rt(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ob(t){var e=vO(t,"string");return rt(e)=="symbol"?e:e+""}function xe(t,e,n){return(e=Ob(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _O(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ru(t,e){if(t==null)return{};var n,r,i=_O(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Mb={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Mb);var wO=Mb.exports;const ur=ig(wO);function jt(t,e){EO(t)&&(t="100%");var n=SO(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function dc(t){return Math.min(1,Math.max(0,t))}function EO(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function SO(t){return typeof t=="string"&&t.indexOf("%")!==-1}function Lb(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function fc(t){return t<=1?"".concat(Number(t)*100,"%"):t}function _o(t){return t.length===1?"0"+t:String(t)}function TO(t,e,n){return{r:jt(t,255)*255,g:jt(e,255)*255,b:jt(n,255)*255}}function $w(t,e,n){t=jt(t,255),e=jt(e,255),n=jt(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=0,a=(r+i)/2;if(r===i)s=0,o=0;else{var u=r-i;switch(s=a>.5?u/(2-r-i):u/(r+i),r){case t:o=(e-n)/u+(e<n?6:0);break;case e:o=(n-t)/u+2;break;case n:o=(t-e)/u+4;break}o/=6}return{h:o,s,l:a}}function Wf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function IO(t,e,n){var r,i,o;if(t=jt(t,360),e=jt(e,100),n=jt(n,100),e===0)i=n,o=n,r=n;else{var s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;r=Wf(a,s,t+1/3),i=Wf(a,s,t),o=Wf(a,s,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function Vm(t,e,n){t=jt(t,255),e=jt(e,255),n=jt(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=r,a=r-i,u=r===0?0:a/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4;break}o/=6}return{h:o,s:u,v:s}}function bO(t,e,n){t=jt(t,360)*6,e=jt(e,100),n=jt(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),u=r%6,c=[n,s,o,o,a,n][u],h=[a,n,n,s,o,o][u],f=[o,o,a,n,n,s][u];return{r:c*255,g:h*255,b:f*255}}function Nm(t,e,n,r){var i=[_o(Math.round(t).toString(16)),_o(Math.round(e).toString(16)),_o(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function AO(t,e,n,r,i){var o=[_o(Math.round(t).toString(16)),_o(Math.round(e).toString(16)),_o(Math.round(n).toString(16)),_o(CO(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function CO(t){return Math.round(parseFloat(t)*255).toString(16)}function jw(t){return An(t)/255}function An(t){return parseInt(t,16)}function xO(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var Om={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function vs(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=kO(t)),typeof t=="object"&&(Rr(t.r)&&Rr(t.g)&&Rr(t.b)?(e=TO(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Rr(t.h)&&Rr(t.s)&&Rr(t.v)?(r=fc(t.s),i=fc(t.v),e=bO(t.h,r,i),s=!0,a="hsv"):Rr(t.h)&&Rr(t.s)&&Rr(t.l)&&(r=fc(t.s),o=fc(t.l),e=IO(t.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=Lb(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var PO="[-\\+]?\\d+%?",RO="[-\\+]?\\d*\\.\\d+%?",yi="(?:".concat(RO,")|(?:").concat(PO,")"),qf="[\\s|\\(]+(".concat(yi,")[,|\\s]+(").concat(yi,")[,|\\s]+(").concat(yi,")\\s*\\)?"),Hf="[\\s|\\(]+(".concat(yi,")[,|\\s]+(").concat(yi,")[,|\\s]+(").concat(yi,")[,|\\s]+(").concat(yi,")\\s*\\)?"),nr={CSS_UNIT:new RegExp(yi),rgb:new RegExp("rgb"+qf),rgba:new RegExp("rgba"+Hf),hsl:new RegExp("hsl"+qf),hsla:new RegExp("hsla"+Hf),hsv:new RegExp("hsv"+qf),hsva:new RegExp("hsva"+Hf),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function kO(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(Om[t])t=Om[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=nr.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=nr.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=nr.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=nr.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=nr.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=nr.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=nr.hex8.exec(t),n?{r:An(n[1]),g:An(n[2]),b:An(n[3]),a:jw(n[4]),format:e?"name":"hex8"}:(n=nr.hex6.exec(t),n?{r:An(n[1]),g:An(n[2]),b:An(n[3]),format:e?"name":"hex"}:(n=nr.hex4.exec(t),n?{r:An(n[1]+n[1]),g:An(n[2]+n[2]),b:An(n[3]+n[3]),a:jw(n[4]+n[4]),format:e?"name":"hex8"}:(n=nr.hex3.exec(t),n?{r:An(n[1]+n[1]),g:An(n[2]+n[2]),b:An(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Rr(t){return!!nr.CSS_UNIT.exec(String(t))}var Pn=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=xO(e)),this.originalInput=e;var i=vs(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,o=e.r/255,s=e.g/255,a=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=Lb(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=Vm(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=Vm(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=$w(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=$w(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),Nm(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),AO(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(jt(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(jt(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+Nm(this.r,this.g,this.b,!1),n=0,r=Object.entries(Om);n<r.length;n++){var i=r[n],o=i[0],s=i[1];if(e===s)return o}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=dc(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=dc(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=dc(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=dc(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new t(s)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(new t({h:r,s:i,v:o})),o=(o+a)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,s=1;s<e;s++)i.push(new t({h:(r+s*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),pc=2,zw=.16,DO=.05,VO=.05,NO=.15,Fb=5,Bb=4,OO=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Uw(t){var e=t.r,n=t.g,r=t.b,i=Vm(e,n,r);return{h:i.h*360,s:i.s,v:i.v}}function mc(t){var e=t.r,n=t.g,r=t.b;return"#".concat(Nm(e,n,r,!1))}function MO(t,e,n){var r=n/100,i={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return i}function Ww(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-pc*e:Math.round(t.h)+pc*e:r=n?Math.round(t.h)+pc*e:Math.round(t.h)-pc*e,r<0?r+=360:r>=360&&(r-=360),r}function qw(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-zw*e:e===Bb?r=t.s+zw:r=t.s+DO*e,r>1&&(r=1),n&&e===Fb&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function Hw(t,e,n){var r;return n?r=t.v+VO*e:r=t.v-NO*e,r>1&&(r=1),Number(r.toFixed(2))}function zo(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=vs(t),i=Fb;i>0;i-=1){var o=Uw(r),s=mc(vs({h:Ww(o,i,!0),s:qw(o,i,!0),v:Hw(o,i,!0)}));n.push(s)}n.push(mc(r));for(var a=1;a<=Bb;a+=1){var u=Uw(r),c=mc(vs({h:Ww(u,a),s:qw(u,a),v:Hw(u,a)}));n.push(c)}return e.theme==="dark"?OO.map(function(h){var f=h.index,p=h.opacity,w=mc(MO(vs(e.backgroundColor||"#141414"),vs(n[f]),p*100));return w}):n}var Gf={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Uc={},Kf={};Object.keys(Gf).forEach(function(t){Uc[t]=zo(Gf[t]),Uc[t].primary=Uc[t][5],Kf[t]=zo(Gf[t],{theme:"dark",backgroundColor:"#141414"}),Kf[t].primary=Kf[t][5]});var LO=Uc.blue;function Gw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gw(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jr(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function FO(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var Kw="data-rc-order",Qw="data-rc-priority",BO="rc-util-key",Mm=new Map;function $b(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):BO}function Pd(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function $O(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function cv(t){return Array.from((Mm.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function jb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Jr())return null;var n=e.csp,r=e.prepend,i=e.priority,o=i===void 0?0:i,s=$O(r),a=s==="prependQueue",u=document.createElement("style");u.setAttribute(Kw,s),a&&o&&u.setAttribute(Qw,"".concat(o)),n!=null&&n.nonce&&(u.nonce=n==null?void 0:n.nonce),u.innerHTML=t;var c=Pd(e),h=c.firstChild;if(r){if(a){var f=(e.styles||cv(c)).filter(function(p){if(!["prepend","prependQueue"].includes(p.getAttribute(Kw)))return!1;var w=Number(p.getAttribute(Qw)||0);return o>=w});if(f.length)return c.insertBefore(u,f[f.length-1].nextSibling),u}c.insertBefore(u,h)}else c.appendChild(u);return u}function zb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Pd(e);return(e.styles||cv(n)).find(function(r){return r.getAttribute($b(e))===t})}function Ub(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=zb(t,e);if(n){var r=Pd(e);r.removeChild(n)}}function jO(t,e){var n=Mm.get(t);if(!n||!FO(document,n)){var r=jb("",e),i=r.parentNode;Mm.set(t,i),t.removeChild(r)}}function To(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Pd(n),i=cv(r),o=fe(fe({},n),{},{styles:i});jO(r,o);var s=zb(e,o);if(s){var a,u;if((a=o.csp)!==null&&a!==void 0&&a.nonce&&s.nonce!==((u=o.csp)===null||u===void 0?void 0:u.nonce)){var c;s.nonce=(c=o.csp)===null||c===void 0?void 0:c.nonce}return s.innerHTML!==t&&(s.innerHTML=t),s}var h=jb(t,o);return h.setAttribute($b(o),e),h}function Wb(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function zO(t){return Wb(t)instanceof ShadowRoot}function UO(t){return zO(t)?Wb(t):null}var Lm={},WO=function(e){};function qO(t,e){}function HO(t,e){}function GO(){Lm={}}function qb(t,e,n){!e&&!Lm[n]&&(t(!1,n),Lm[n]=!0)}function xu(t,e){qb(qO,t,e)}function KO(t,e){qb(HO,t,e)}xu.preMessage=WO;xu.resetWarned=GO;xu.noteOnce=KO;function QO(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function XO(t,e){xu(t,"[@ant-design/icons] ".concat(e))}function Xw(t){return rt(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(rt(t.icon)==="object"||typeof t.icon=="function")}function Yw(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[QO(n)]=r}return e},{})}function Fm(t,e,n){return n?ve.createElement(t.tag,fe(fe({key:e},Yw(t.attrs)),n),(t.children||[]).map(function(r,i){return Fm(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):ve.createElement(t.tag,fe({key:e},Yw(t.attrs)),(t.children||[]).map(function(r,i){return Fm(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function Hb(t){return zo(t)[0]}function Gb(t){return t?Array.isArray(t)?t:[t]:[]}var YO=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,JO=function(e){var n=$.useContext(lv),r=n.csp,i=n.prefixCls,o=YO;i&&(o=o.replace(/anticon/g,i)),$.useEffect(function(){var s=e.current,a=UO(s);To(o,"@ant-design-icons",{prepend:!0,csp:r,attachTo:a})},[])},ZO=["icon","className","onClick","style","primaryColor","secondaryColor"],Sl={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function eM(t){var e=t.primaryColor,n=t.secondaryColor;Sl.primaryColor=e,Sl.secondaryColor=n||Hb(e),Sl.calculated=!!n}function tM(){return fe({},Sl)}var ba=function(e){var n=e.icon,r=e.className,i=e.onClick,o=e.style,s=e.primaryColor,a=e.secondaryColor,u=ru(e,ZO),c=$.useRef(),h=Sl;if(s&&(h={primaryColor:s,secondaryColor:a||Hb(s)}),JO(c),XO(Xw(n),"icon should be icon definiton, but got ".concat(n)),!Xw(n))return null;var f=n;return f&&typeof f.icon=="function"&&(f=fe(fe({},f),{},{icon:f.icon(h.primaryColor,h.secondaryColor)})),Fm(f.icon,"svg-".concat(f.name),fe(fe({className:r,onClick:i,style:o,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:c}))};ba.displayName="IconReact";ba.getTwoToneColors=tM;ba.setTwoToneColors=eM;function Kb(t){var e=Gb(t),n=Ce(e,2),r=n[0],i=n[1];return ba.setTwoToneColors({primaryColor:r,secondaryColor:i})}function nM(){var t=ba.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var rM=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Kb(LO.primary);var Zo=$.forwardRef(function(t,e){var n=t.className,r=t.icon,i=t.spin,o=t.rotate,s=t.tabIndex,a=t.onClick,u=t.twoToneColor,c=ru(t,rM),h=$.useContext(lv),f=h.prefixCls,p=f===void 0?"anticon":f,w=h.rootClassName,A=ur(w,p,xe(xe({},"".concat(p,"-").concat(r.name),!!r.name),"".concat(p,"-spin"),!!i||r.name==="loading"),n),C=s;C===void 0&&a&&(C=-1);var D=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,S=Gb(u),g=Ce(S,2),_=g[0],x=g[1];return $.createElement("span",Hr({role:"img","aria-label":r.name},c,{ref:e,tabIndex:C,onClick:a,className:A}),$.createElement(ba,{icon:r,primaryColor:_,secondaryColor:x,style:D}))});Zo.displayName="AntdIcon";Zo.getTwoToneColor=nM;Zo.setTwoToneColor=Kb;var iM={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},oM=function(e,n){return $.createElement(Zo,Hr({},e,{ref:n,icon:iM}))},sM=$.forwardRef(oM),aM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},lM=function(e,n){return $.createElement(Zo,Hr({},e,{ref:n,icon:aM}))},uM=$.forwardRef(lM),cM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 00-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 00-44-44zM184 352V232h64v207.6a91.99 91.99 0 01-64-87.6zm520 128c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z"}}]},name:"trophy",theme:"outlined"},hM=function(e,n){return $.createElement(Zo,Hr({},e,{ref:n,icon:cM}))},dM=$.forwardRef(hM),fM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},pM=function(e,n){return $.createElement(Zo,Hr({},e,{ref:n,icon:fM}))},mM=$.forwardRef(pM),Qb={exports:{}},Be={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv=Symbol.for("react.element"),dv=Symbol.for("react.portal"),Rd=Symbol.for("react.fragment"),kd=Symbol.for("react.strict_mode"),Dd=Symbol.for("react.profiler"),Vd=Symbol.for("react.provider"),Nd=Symbol.for("react.context"),gM=Symbol.for("react.server_context"),Od=Symbol.for("react.forward_ref"),Md=Symbol.for("react.suspense"),Ld=Symbol.for("react.suspense_list"),Fd=Symbol.for("react.memo"),Bd=Symbol.for("react.lazy"),yM=Symbol.for("react.offscreen"),Xb;Xb=Symbol.for("react.module.reference");function Yn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case hv:switch(t=t.type,t){case Rd:case Dd:case kd:case Md:case Ld:return t;default:switch(t=t&&t.$$typeof,t){case gM:case Nd:case Od:case Bd:case Fd:case Vd:return t;default:return e}}case dv:return e}}}Be.ContextConsumer=Nd;Be.ContextProvider=Vd;Be.Element=hv;Be.ForwardRef=Od;Be.Fragment=Rd;Be.Lazy=Bd;Be.Memo=Fd;Be.Portal=dv;Be.Profiler=Dd;Be.StrictMode=kd;Be.Suspense=Md;Be.SuspenseList=Ld;Be.isAsyncMode=function(){return!1};Be.isConcurrentMode=function(){return!1};Be.isContextConsumer=function(t){return Yn(t)===Nd};Be.isContextProvider=function(t){return Yn(t)===Vd};Be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===hv};Be.isForwardRef=function(t){return Yn(t)===Od};Be.isFragment=function(t){return Yn(t)===Rd};Be.isLazy=function(t){return Yn(t)===Bd};Be.isMemo=function(t){return Yn(t)===Fd};Be.isPortal=function(t){return Yn(t)===dv};Be.isProfiler=function(t){return Yn(t)===Dd};Be.isStrictMode=function(t){return Yn(t)===kd};Be.isSuspense=function(t){return Yn(t)===Md};Be.isSuspenseList=function(t){return Yn(t)===Ld};Be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Rd||t===Dd||t===kd||t===Md||t===Ld||t===yM||typeof t=="object"&&t!==null&&(t.$$typeof===Bd||t.$$typeof===Fd||t.$$typeof===Vd||t.$$typeof===Nd||t.$$typeof===Od||t.$$typeof===Xb||t.getModuleId!==void 0)};Be.typeOf=Yn;Qb.exports=Be;var Qf=Qb.exports;function Yb(t,e,n){var r=$.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}var Jb=function(e,n){typeof e=="function"?e(n):rt(e)==="object"&&e&&"current"in e&&(e.current=n)},fv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);return i.length<=1?i[0]:function(o){n.forEach(function(s){Jb(s,o)})}},Zb=function(e){var n,r,i=Qf.isMemo(e)?e.type.type:e.type;return!(typeof i=="function"&&!((n=i.prototype)!==null&&n!==void 0&&n.render)&&i.$$typeof!==Qf.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==Qf.ForwardRef)};function Jw(t){return t instanceof HTMLElement||t instanceof SVGElement}function vM(t){return t&&rt(t)==="object"&&Jw(t.nativeElement)?t.nativeElement:Jw(t)?t:null}function _M(t){var e=vM(t);if(e)return e;if(t instanceof ve.Component){var n;return(n=tm.findDOMNode)===null||n===void 0?void 0:n.call(tm,t)}return null}function Qi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ob(r.key),r)}}function Xi(t,e,n){return e&&Zw(t.prototype,e),n&&Zw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bm(t,e){return Bm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Bm(t,e)}function $d(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bm(t,e)}function ca(t){return ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ca(t)}function pv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pv=function(){return!!t})()}function $m(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eA(t,e){if(e&&(rt(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $m(t)}function tA(t){var e=pv();return function(){var n,r=ca(t);if(e){var i=ca(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return eA(this,n)}}function wM(t,e){var n=fe({},t);return Array.isArray(e)&&e.forEach(function(r){delete n[r]}),n}function EM(t){if(Array.isArray(t))return Dm(t)}function nA(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yi(t){return EM(t)||nA(t)||uv(t)||SM()}var rA=function(e){return+setTimeout(e,16)},iA=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(rA=function(e){return window.requestAnimationFrame(e)},iA=function(e){return window.cancelAnimationFrame(e)});var eE=0,mv=new Map;function oA(t){mv.delete(t)}var Uo=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;eE+=1;var r=eE;function i(o){if(o===0)oA(r),e();else{var s=rA(function(){i(o-1)});mv.set(r,s)}}return i(n),r};Uo.cancel=function(t){var e=mv.get(t);return oA(t),iA(e)};function iu(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function TM(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(o,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=r.has(o);if(xu(!u,"Warning: There may be circular references"),u)return!1;if(o===s)return!0;if(n&&a>1)return!1;r.add(o);var c=a+1;if(Array.isArray(o)){if(!Array.isArray(s)||o.length!==s.length)return!1;for(var h=0;h<o.length;h++)if(!i(o[h],s[h],c))return!1;return!0}if(o&&s&&rt(o)==="object"&&rt(s)==="object"){var f=Object.keys(o);return f.length!==Object.keys(s).length?!1:f.every(function(p){return i(o[p],s[p],c)})}return!1}return i(t,e)}var IM="%";function jm(t){return t.join(IM)}var bM=function(){function t(e){Qi(this,t),xe(this,"instanceId",void 0),xe(this,"cache",new Map),this.instanceId=e}return Xi(t,[{key:"get",value:function(n){return this.opGet(jm(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(jm(n),r)}},{key:"opUpdate",value:function(n,r){var i=this.cache.get(n),o=r(i);o===null?this.cache.delete(n):this.cache.set(n,o)}}]),t}(),ha="data-token-hash",cr="data-css-hash",vi="__cssinjs_instance__";function AM(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(cr,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(i){i[vi]=i[vi]||t,i[vi]===t&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(cr,"]"))).forEach(function(i){var o=i.getAttribute(cr);if(r[o]){if(i[vi]===t){var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)}}else r[o]=!0})}return new bM(t)}var CM=$.createContext({hashPriority:"low",cache:AM(),defaultCache:!0});const jd=CM;function xM(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var gv=function(){function t(){Qi(this,t),xe(this,"cache",void 0),xe(this,"keys",void 0),xe(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Xi(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return n.forEach(function(a){if(!s)s=void 0;else{var u;s=(u=s)===null||u===void 0||(u=u.map)===null||u===void 0?void 0:u.get(a)}}),(r=s)!==null&&r!==void 0&&r.value&&o&&(s.value[1]=this.cacheCallTimes++),(i=s)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(c,h){var f=Ce(c,2),p=f[1];return i.internalGet(h)[1]<p?[h,i.internalGet(h)[1]]:c},[this.keys[0],this.cacheCallTimes]),s=Ce(o,1),a=s[0];this.delete(a)}this.keys.push(n)}var u=this.cache;n.forEach(function(c,h){if(h===n.length-1)u.set(c,{value:[r,i.cacheCallTimes++]});else{var f=u.get(c);f?f.map||(f.map=new Map):u.set(c,{map:new Map}),u=u.get(c).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var o;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(o=i.value)===null||o===void 0?void 0:o[0]}var s=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),s}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!xM(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();xe(gv,"MAX_CACHE_SIZE",20);xe(gv,"MAX_CACHE_OFFSET",5);var tE=0,sA=function(){function t(e){Qi(this,t),xe(this,"derivatives",void 0),xe(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=tE,e.length===0&&(e.length>0,void 0),tE+=1}return Xi(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),t}(),Xf=new gv;function zm(t){var e=Array.isArray(t)?t:[t];return Xf.has(e)||Xf.set(e,new sA(e)),Xf.get(e)}var PM=new WeakMap,Yf={};function RM(t,e){for(var n=PM,r=0;r<e.length;r+=1){var i=e[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(Yf)||n.set(Yf,t()),n.get(Yf)}var nE=new WeakMap;function Tl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=nE.get(t)||"";return n||(Object.keys(t).forEach(function(r){var i=t[r];n+=r,i instanceof sA?n+=i.id:i&&rt(i)==="object"?n+=Tl(i,e):n+=i}),e&&(n=iu(n)),nE.set(t,n)),n}function rE(t,e){return iu("".concat(e,"_").concat(Tl(t,!0)))}var Um=Jr();function ji(t){return typeof t=="number"?"".concat(t,"px"):t}function Fh(t,e,n){var r,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(o)return t;var s=fe(fe({},i),{},(r={},xe(r,ha,e),xe(r,cr,n),r)),a=Object.keys(s).map(function(u){var c=s[u];return c?"".concat(u,'="').concat(c,'"'):null}).filter(function(u){return u}).join(" ");return"<style ".concat(a,">").concat(t,"</style>")}var aA=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},kM=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(i){var o=Ce(i,2),s=o[0],a=o[1];return"".concat(s,":").concat(a,";")}).join(""),"}"):""},lA=function(e,n,r){var i={},o={};return Object.entries(e).forEach(function(s){var a,u,c=Ce(s,2),h=c[0],f=c[1];if(r!=null&&(a=r.preserve)!==null&&a!==void 0&&a[h])o[h]=f;else if((typeof f=="string"||typeof f=="number")&&!(r!=null&&(u=r.ignore)!==null&&u!==void 0&&u[h])){var p,w=aA(h,r==null?void 0:r.prefix);i[w]=typeof f=="number"&&!(r!=null&&(p=r.unitless)!==null&&p!==void 0&&p[h])?"".concat(f,"px"):String(f),o[h]="var(".concat(w,")")}}),[o,kM(i,n,{scope:r==null?void 0:r.scope})]},iE=Jr()?$.useLayoutEffect:$.useEffect,DM=function(e,n){var r=$.useRef(!0);iE(function(){return e(r.current)},n),iE(function(){return r.current=!1,function(){r.current=!0}},[])},VM=fe({},ug),oE=VM.useInsertionEffect,NM=function(e,n,r){$.useMemo(e,r),DM(function(){return n(!0)},r)},OM=oE?function(t,e,n){return oE(function(){return t(),e()},n)}:NM;const MM=OM;var LM=fe({},ug),FM=LM.useInsertionEffect,BM=function(e){var n=[],r=!1;function i(o){r||n.push(o)}return $.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(o){return o()})}},e),i},$M=function(){return function(e){e()}},jM=typeof FM<"u"?BM:$M;const zM=jM;function yv(t,e,n,r,i){var o=$.useContext(jd),s=o.cache,a=[t].concat(Yi(e)),u=jm(a),c=zM([u]),h=function(A){s.opUpdate(u,function(C){var D=C||[void 0,void 0],S=Ce(D,2),g=S[0],_=g===void 0?0:g,x=S[1],N=x,M=N||n(),v=[_,M];return A?A(v):v})};$.useMemo(function(){h()},[u]);var f=s.opGet(u),p=f[1];return MM(function(){i==null||i(p)},function(w){return h(function(A){var C=Ce(A,2),D=C[0],S=C[1];return w&&D===0&&(i==null||i(p)),[D+1,S]}),function(){s.opUpdate(u,function(A){var C=A||[],D=Ce(C,2),S=D[0],g=S===void 0?0:S,_=D[1],x=g-1;return x===0?(c(function(){(w||!s.opGet(u))&&(r==null||r(_,!1))}),null):[g-1,_]})}},[u]),p}var UM={},WM="css",fo=new Map;function qM(t){fo.set(t,(fo.get(t)||0)+1)}function HM(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(ha,'="').concat(t,'"]'));n.forEach(function(r){if(r[vi]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var GM=0;function KM(t,e){fo.set(t,(fo.get(t)||0)-1);var n=Array.from(fo.keys()),r=n.filter(function(i){var o=fo.get(i)||0;return o<=0});n.length-r.length>GM&&r.forEach(function(i){HM(i,e),fo.delete(i)})}var QM=function(e,n,r,i){var o=r.getDerivativeToken(e),s=fe(fe({},o),n);return i&&(s=i(s)),s},uA="token";function XM(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=$.useContext(jd),i=r.cache.instanceId,o=r.container,s=n.salt,a=s===void 0?"":s,u=n.override,c=u===void 0?UM:u,h=n.formatToken,f=n.getComputedToken,p=n.cssVar,w=RM(function(){return Object.assign.apply(Object,[{}].concat(Yi(e)))},e),A=Tl(w),C=Tl(c),D=p?Tl(p):"",S=yv(uA,[a,t.id,A,C,D],function(){var g,_=f?f(w,c,t):QM(w,c,t,h),x=fe({},_),N="";if(p){var M=lA(_,p.key,{prefix:p.prefix,ignore:p.ignore,unitless:p.unitless,preserve:p.preserve}),v=Ce(M,2);_=v[0],N=v[1]}var y=rE(_,a);_._tokenKey=y,x._tokenKey=rE(x,a);var I=(g=p==null?void 0:p.key)!==null&&g!==void 0?g:y;_._themeKey=I,qM(I);var b="".concat(WM,"-").concat(iu(y));return _._hashId=b,[_,b,x,N,(p==null?void 0:p.key)||""]},function(g){KM(g[0]._themeKey,i)},function(g){var _=Ce(g,4),x=_[0],N=_[3];if(p&&N){var M=To(N,iu("css-variables-".concat(x._themeKey)),{mark:cr,prepend:"queue",attachTo:o,priority:-999});M[vi]=i,M.setAttribute(ha,x._themeKey)}});return S}var YM=function(e,n,r){var i=Ce(e,5),o=i[2],s=i[3],a=i[4],u=r||{},c=u.plain;if(!s)return null;var h=o._tokenKey,f=-999,p={"data-rc-order":"prependQueue","data-rc-priority":"".concat(f)},w=Fh(s,a,h,p,c);return[f,h,w]},JM={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cA="comm",hA="rule",dA="decl",ZM="@import",e4="@keyframes",t4="@layer",fA=Math.abs,vv=String.fromCharCode;function pA(t){return t.trim()}function Wc(t,e,n){return t.replace(e,n)}function n4(t,e,n){return t.indexOf(e,n)}function ou(t,e){return t.charCodeAt(e)|0}function su(t,e,n){return t.slice(e,n)}function Nr(t){return t.length}function r4(t){return t.length}function gc(t,e){return e.push(t),t}var zd=1,da=1,mA=0,Xn=0,wt=0,Aa="";function _v(t,e,n,r,i,o,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:zd,column:da,length:s,return:"",siblings:a}}function i4(){return wt}function o4(){return wt=Xn>0?ou(Aa,--Xn):0,da--,wt===10&&(da=1,zd--),wt}function hr(){return wt=Xn<mA?ou(Aa,Xn++):0,da++,wt===10&&(da=1,zd++),wt}function Io(){return ou(Aa,Xn)}function qc(){return Xn}function Ud(t,e){return su(Aa,t,e)}function Wm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function s4(t){return zd=da=1,mA=Nr(Aa=t),Xn=0,[]}function a4(t){return Aa="",t}function Jf(t){return pA(Ud(Xn-1,qm(t===91?t+2:t===40?t+1:t)))}function l4(t){for(;(wt=Io())&&wt<33;)hr();return Wm(t)>2||Wm(wt)>3?"":" "}function u4(t,e){for(;--e&&hr()&&!(wt<48||wt>102||wt>57&&wt<65||wt>70&&wt<97););return Ud(t,qc()+(e<6&&Io()==32&&hr()==32))}function qm(t){for(;hr();)switch(wt){case t:return Xn;case 34:case 39:t!==34&&t!==39&&qm(wt);break;case 40:t===41&&qm(t);break;case 92:hr();break}return Xn}function c4(t,e){for(;hr()&&t+wt!==57;)if(t+wt===84&&Io()===47)break;return"/*"+Ud(e,Xn-1)+"*"+vv(t===47?t:hr())}function h4(t){for(;!Wm(Io());)hr();return Ud(t,Xn)}function d4(t){return a4(Hc("",null,null,null,[""],t=s4(t),0,[0],t))}function Hc(t,e,n,r,i,o,s,a,u){for(var c=0,h=0,f=s,p=0,w=0,A=0,C=1,D=1,S=1,g=0,_="",x=i,N=o,M=r,v=_;D;)switch(A=g,g=hr()){case 40:if(A!=108&&ou(v,f-1)==58){n4(v+=Wc(Jf(g),"&","&\f"),"&\f",fA(c?a[c-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:v+=Jf(g);break;case 9:case 10:case 13:case 32:v+=l4(A);break;case 92:v+=u4(qc()-1,7);continue;case 47:switch(Io()){case 42:case 47:gc(f4(c4(hr(),qc()),e,n,u),u);break;default:v+="/"}break;case 123*C:a[c++]=Nr(v)*S;case 125*C:case 59:case 0:switch(g){case 0:case 125:D=0;case 59+h:S==-1&&(v=Wc(v,/\f/g,"")),w>0&&Nr(v)-f&&gc(w>32?aE(v+";",r,n,f-1,u):aE(Wc(v," ","")+";",r,n,f-2,u),u);break;case 59:v+=";";default:if(gc(M=sE(v,e,n,c,h,i,a,_,x=[],N=[],f,o),o),g===123)if(h===0)Hc(v,e,M,M,x,o,f,a,N);else switch(p===99&&ou(v,3)===110?100:p){case 100:case 108:case 109:case 115:Hc(t,M,M,r&&gc(sE(t,M,M,0,0,i,a,_,i,x=[],f,N),N),i,N,f,a,r?x:N);break;default:Hc(v,M,M,M,[""],N,0,a,N)}}c=h=w=0,C=S=1,_=v="",f=s;break;case 58:f=1+Nr(v),w=A;default:if(C<1){if(g==123)--C;else if(g==125&&C++==0&&o4()==125)continue}switch(v+=vv(g),g*C){case 38:S=h>0?1:(v+="\f",-1);break;case 44:a[c++]=(Nr(v)-1)*S,S=1;break;case 64:Io()===45&&(v+=Jf(hr())),p=Io(),h=f=Nr(_=v+=h4(qc())),g++;break;case 45:A===45&&Nr(v)==2&&(C=0)}}return o}function sE(t,e,n,r,i,o,s,a,u,c,h,f){for(var p=i-1,w=i===0?o:[""],A=r4(w),C=0,D=0,S=0;C<r;++C)for(var g=0,_=su(t,p+1,p=fA(D=s[C])),x=t;g<A;++g)(x=pA(D>0?w[g]+" "+_:Wc(_,/&\f/g,w[g])))&&(u[S++]=x);return _v(t,e,n,i===0?hA:a,u,c,h,f)}function f4(t,e,n,r){return _v(t,e,n,cA,vv(i4()),su(t,2,-2),0,r)}function aE(t,e,n,r,i){return _v(t,e,n,dA,su(t,0,r),su(t,r+1,-1),r,i)}function Hm(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function p4(t,e,n,r){switch(t.type){case t4:if(t.children.length)break;case ZM:case dA:return t.return=t.return||t.value;case cA:return"";case e4:return t.return=t.value+"{"+Hm(t.children,r)+"}";case hA:if(!Nr(t.value=t.props.join(",")))return""}return Nr(n=Hm(t.children,r))?t.return=t.value+"{"+n+"}":""}var lE="data-ant-cssinjs-cache-path",gA="_FILE_STYLE__",bo,yA=!0;function m4(){if(!bo&&(bo={},Jr())){var t=document.createElement("div");t.className=lE,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var o=i.split(":"),s=Ce(o,2),a=s[0],u=s[1];bo[a]=u});var n=document.querySelector("style[".concat(lE,"]"));if(n){var r;yA=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function g4(t){return m4(),!!bo[t]}function y4(t){var e=bo[t],n=null;if(e&&Jr())if(yA)n=gA;else{var r=document.querySelector("style[".concat(cr,'="').concat(bo[t],'"]'));r?n=r.innerHTML:delete bo[t]}return[n,e]}var v4="_skip_check_",vA="_multi_value_";function Gc(t){var e=Hm(d4(t),p4);return e.replace(/\{%%%\:[^;];}/g,";")}function _4(t){return rt(t)==="object"&&t&&(v4 in t||vA in t)}function w4(t,e,n){if(!e)return t;var r=".".concat(e),i=n==="low"?":where(".concat(r,")"):r,o=t.split(",").map(function(s){var a,u=s.trim().split(/\s+/),c=u[0]||"",h=((a=c.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return c="".concat(h).concat(i).concat(c.slice(h.length)),[c].concat(Yi(u.slice(1))).join(" ")});return o.join(",")}var E4=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,s=r.parentSelectors,a=n.hashId,u=n.layer;n.path;var c=n.hashPriority,h=n.transformers,f=h===void 0?[]:h;n.linters;var p="",w={};function A(S){var g=S.getName(a);if(!w[g]){var _=t(S.style,n,{root:!1,parentSelectors:s}),x=Ce(_,1),N=x[0];w[g]="@keyframes ".concat(S.getName(a)).concat(N)}}function C(S){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return S.forEach(function(_){Array.isArray(_)?C(_,g):_&&g.push(_)}),g}var D=C(Array.isArray(e)?e:[e]);return D.forEach(function(S){var g=typeof S=="string"&&!i?{}:S;if(typeof g=="string")p+="".concat(g,`
`);else if(g._keyframe)A(g);else{var _=f.reduce(function(x,N){var M;return(N==null||(M=N.visit)===null||M===void 0?void 0:M.call(N,x))||x},g);Object.keys(_).forEach(function(x){var N=_[x];if(rt(N)==="object"&&N&&(x!=="animationName"||!N._keyframe)&&!_4(N)){var M=!1,v=x.trim(),y=!1;(i||o)&&a?v.startsWith("@")?M=!0:v=w4(x,a,c):i&&!a&&(v==="&"||v==="")&&(v="",y=!0);var I=t(N,n,{root:y,injectHash:M,parentSelectors:[].concat(Yi(s),[v])}),b=Ce(I,2),P=b[0],R=b[1];w=fe(fe({},w),R),p+="".concat(v).concat(P)}else{let he=function(q,W){var O=q.replace(/[A-Z]/g,function(Q){return"-".concat(Q.toLowerCase())}),U=W;!JM[q]&&typeof U=="number"&&U!==0&&(U="".concat(U,"px")),q==="animationName"&&W!==null&&W!==void 0&&W._keyframe&&(A(W),U=W.getName(a)),p+="".concat(O,":").concat(U,";")};var T,re=(T=N==null?void 0:N.value)!==null&&T!==void 0?T:N;rt(N)==="object"&&N!==null&&N!==void 0&&N[vA]&&Array.isArray(re)?re.forEach(function(q){he(x,q)}):he(x,re)}})}}),i?u&&(p="@layer ".concat(u.name," {").concat(p,"}"),u.dependencies&&(w["@layer ".concat(u.name)]=u.dependencies.map(function(S){return"@layer ".concat(S,", ").concat(u.name,";")}).join(`
`))):p="{".concat(p,"}"),[p,w]};function _A(t,e){return iu("".concat(t.join("%")).concat(e))}function S4(){return null}var wA="style";function Gm(t,e){var n=t.token,r=t.path,i=t.hashId,o=t.layer,s=t.nonce,a=t.clientOnly,u=t.order,c=u===void 0?0:u,h=$.useContext(jd),f=h.autoClear;h.mock;var p=h.defaultCache,w=h.hashPriority,A=h.container,C=h.ssrInline,D=h.transformers,S=h.linters,g=h.cache,_=h.layer,x=n._tokenKey,N=[x];_&&N.push("layer"),N.push.apply(N,Yi(r));var M=Um,v=yv(wA,N,function(){var R=N.join("|");if(g4(R)){var T=y4(R),re=Ce(T,2),he=re[0],q=re[1];if(he)return[he,x,q,{},a,c]}var W=e(),O=E4(W,{hashId:i,hashPriority:w,layer:_?o:void 0,path:r.join("-"),transformers:D,linters:S}),U=Ce(O,2),Q=U[0],Y=U[1],Z=Gc(Q),de=_A(N,Z);return[Z,x,de,Y,a,c]},function(R,T){var re=Ce(R,3),he=re[2];(T||f)&&Um&&Ub(he,{mark:cr})},function(R){var T=Ce(R,4),re=T[0];T[1];var he=T[2],q=T[3];if(M&&re!==gA){var W={mark:cr,prepend:_?!1:"queue",attachTo:A,priority:c},O=typeof s=="function"?s():s;O&&(W.csp={nonce:O});var U=[],Q=[];Object.keys(q).forEach(function(Z){Z.startsWith("@layer")?U.push(Z):Q.push(Z)}),U.forEach(function(Z){To(Gc(q[Z]),"_layer-".concat(Z),fe(fe({},W),{},{prepend:!0}))});var Y=To(re,he,W);Y[vi]=g.instanceId,Y.setAttribute(ha,x),Q.forEach(function(Z){To(Gc(q[Z]),"_effect-".concat(Z),W)})}}),y=Ce(v,3),I=y[0],b=y[1],P=y[2];return function(R){var T;if(!C||M||!p)T=$.createElement(S4,null);else{var re;T=$.createElement("style",Hr({},(re={},xe(re,ha,b),xe(re,cr,P),re),{dangerouslySetInnerHTML:{__html:I}}))}return $.createElement($.Fragment,null,T,R)}}var T4=function(e,n,r){var i=Ce(e,6),o=i[0],s=i[1],a=i[2],u=i[3],c=i[4],h=i[5],f=r||{},p=f.plain;if(c)return null;var w=o,A={"data-rc-order":"prependQueue","data-rc-priority":"".concat(h)};return w=Fh(o,s,a,A,p),u&&Object.keys(u).forEach(function(C){if(!n[C]){n[C]=!0;var D=Gc(u[C]),S=Fh(D,s,"_effect-".concat(C),A,p);C.startsWith("@layer")?w=S+w:w+=S}}),[h,a,w]},EA="cssVar",I4=function(e,n){var r=e.key,i=e.prefix,o=e.unitless,s=e.ignore,a=e.token,u=e.scope,c=u===void 0?"":u,h=$.useContext(jd),f=h.cache.instanceId,p=h.container,w=a._tokenKey,A=[].concat(Yi(e.path),[r,c,w]),C=yv(EA,A,function(){var D=n(),S=lA(D,r,{prefix:i,unitless:o,ignore:s,scope:c}),g=Ce(S,2),_=g[0],x=g[1],N=_A(A,x);return[_,x,N,r]},function(D){var S=Ce(D,3),g=S[2];Um&&Ub(g,{mark:cr})},function(D){var S=Ce(D,3),g=S[1],_=S[2];if(g){var x=To(g,_,{mark:cr,prepend:"queue",attachTo:p,priority:-999});x[vi]=f,x.setAttribute(ha,r)}});return C},b4=function(e,n,r){var i=Ce(e,4),o=i[1],s=i[2],a=i[3],u=r||{},c=u.plain;if(!o)return null;var h=-999,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(h)},p=Fh(o,a,s,f,c);return[h,s,p]},Ya;Ya={},xe(Ya,wA,T4),xe(Ya,uA,YM),xe(Ya,EA,b4);function ds(t){return t.notSplit=!0,t}ds(["borderTop","borderBottom"]),ds(["borderTop"]),ds(["borderBottom"]),ds(["borderLeft","borderRight"]),ds(["borderLeft"]),ds(["borderRight"]);function A4(t){return Vb(t)||nA(t)||uv(t)||Nb()}function Km(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function SA(t,e,n,r){if(!e.length)return n;var i=A4(e),o=i[0],s=i.slice(1),a;return!t&&typeof o=="number"?a=[]:Array.isArray(t)?a=Yi(t):a=fe({},t),r&&n===void 0&&s.length===1?delete a[o][s[0]]:a[o]=SA(a[o],s,n,r),a}function Zf(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!Km(t,e.slice(0,-1))?t:SA(t,e,n,r)}function C4(t){return rt(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function uE(t){return Array.isArray(t)?[]:{}}var x4=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function P4(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=uE(e[0]);return e.forEach(function(i){function o(s,a){var u=new Set(a),c=Km(i,s),h=Array.isArray(c);if(h||C4(c)){if(!u.has(c)){u.add(c);var f=Km(r,s);h?r=Zf(r,s,[]):(!f||rt(f)!=="object")&&(r=Zf(r,s,uE(c))),x4(c).forEach(function(p){o([].concat(Yi(s),[p]),u)})}}else r=Zf(r,s,c)}o([])}),r}const R4=$.createContext({}),k4=$.createContext(void 0);var D4={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},V4={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const TA={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},cE={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},V4),timePickerLocale:Object.assign({},TA)},bn="${label} is not a valid ${type}",Wd={locale:"en",Pagination:D4,DatePicker:cE,TimePicker:TA,Calendar:cE,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:bn,method:bn,array:bn,object:bn,number:bn,date:bn,boolean:bn,integer:bn,float:bn,regexp:bn,email:bn,url:bn,hex:bn},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty"}};Object.assign({},Wd.Modal);let Kc=[];const hE=()=>Kc.reduce((t,e)=>Object.assign(Object.assign({},t),e),Wd.Modal);function N4(t){if(t){const e=Object.assign({},t);return Kc.push(e),hE(),()=>{Kc=Kc.filter(n=>n!==e),hE()}}Object.assign({},Wd.Modal)}const IA=$.createContext(void 0),O4="internalMark",M4=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;$.useEffect(()=>N4(e&&e.Modal),[e]);const i=$.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return $.createElement(IA.Provider,{value:i},n)},bA={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},au=Object.assign(Object.assign({},bA),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function L4(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:u,colorBgBase:c,colorTextBase:h}=t,f=n(u),p=n(i),w=n(o),A=n(s),C=n(a),D=r(c,h),S=t.colorLink||t.colorInfo,g=n(S);return Object.assign(Object.assign({},D),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:p[1],colorSuccessBgHover:p[2],colorSuccessBorder:p[3],colorSuccessBorderHover:p[4],colorSuccessHover:p[4],colorSuccess:p[6],colorSuccessActive:p[7],colorSuccessTextHover:p[8],colorSuccessText:p[9],colorSuccessTextActive:p[10],colorErrorBg:A[1],colorErrorBgHover:A[2],colorErrorBgActive:A[3],colorErrorBorder:A[3],colorErrorBorderHover:A[4],colorErrorHover:A[5],colorError:A[6],colorErrorActive:A[7],colorErrorTextHover:A[8],colorErrorText:A[9],colorErrorTextActive:A[10],colorWarningBg:w[1],colorWarningBgHover:w[2],colorWarningBorder:w[3],colorWarningBorderHover:w[4],colorWarningHover:w[4],colorWarning:w[6],colorWarningActive:w[7],colorWarningTextHover:w[8],colorWarningText:w[9],colorWarningTextActive:w[10],colorInfoBg:C[1],colorInfoBgHover:C[2],colorInfoBorder:C[3],colorInfoBorderHover:C[4],colorInfoHover:C[4],colorInfo:C[6],colorInfoActive:C[7],colorInfoTextHover:C[8],colorInfoText:C[9],colorInfoTextActive:C[10],colorLinkHover:g[4],colorLink:g[6],colorLinkActive:g[7],colorBgMask:new Pn("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const F4=t=>{let e=t,n=t,r=t,i=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?i=4:t>=8&&(i=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:i}};function B4(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:i}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:i+1},F4(r))}const $4=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function Qc(t){return(t+8)/t}function j4(t){const e=new Array(10).fill(null).map((n,r)=>{const i=r-1,o=t*Math.pow(2.71828,i/5),s=r>1?Math.floor(o):Math.ceil(o);return Math.floor(s/2)*2});return e[1]=t,e.map(n=>({size:n,lineHeight:Qc(n)}))}const z4=t=>{const e=j4(t),n=e.map(h=>h.size),r=e.map(h=>h.lineHeight),i=n[1],o=n[0],s=n[2],a=r[1],u=r[0],c=r[2];return{fontSizeSM:o,fontSize:i,fontSizeLG:s,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:a,lineHeightLG:c,lineHeightSM:u,fontHeight:Math.round(a*i),fontHeightLG:Math.round(c*s),fontHeightSM:Math.round(u*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function U4(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const kr=(t,e)=>new Pn(t).setAlpha(e).toRgbString(),Ja=(t,e)=>new Pn(t).darken(e).toHexString(),W4=t=>{const e=zo(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},q4=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:kr(r,.88),colorTextSecondary:kr(r,.65),colorTextTertiary:kr(r,.45),colorTextQuaternary:kr(r,.25),colorFill:kr(r,.15),colorFillSecondary:kr(r,.06),colorFillTertiary:kr(r,.04),colorFillQuaternary:kr(r,.02),colorBgLayout:Ja(n,4),colorBgContainer:Ja(n,0),colorBgElevated:Ja(n,0),colorBgSpotlight:kr(r,.85),colorBgBlur:"transparent",colorBorder:Ja(n,15),colorBorderSecondary:Ja(n,6)}};function H4(t){const e=Object.keys(bA).map(n=>{const r=zo(t[n]);return new Array(10).fill(1).reduce((i,o,s)=>(i[`${n}-${s+1}`]=r[s],i[`${n}${s+1}`]=r[s],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),L4(t,{generateColorPalettes:W4,generateNeutralColorPalettes:q4})),z4(t.fontSize)),U4(t)),$4(t)),B4(t))}const AA=zm(H4),Qm={token:au,override:{override:au},hashed:!0},CA=ve.createContext(Qm),xA="anticon",G4=(t,e)=>e||(t?`ant-${t}`:"ant"),Ji=$.createContext({getPrefixCls:G4,iconPrefixCls:xA}),K4=`-ant-${Date.now()}-${Math.random()}`;function Q4(t,e){const n={},r=(s,a)=>{let u=s.clone();return u=(a==null?void 0:a(u))||u,u.toRgbString()},i=(s,a)=>{const u=new Pn(s),c=zo(u.toRgbString());n[`${a}-color`]=r(u),n[`${a}-color-disabled`]=c[1],n[`${a}-color-hover`]=c[4],n[`${a}-color-active`]=c[6],n[`${a}-color-outline`]=u.clone().setAlpha(.2).toRgbString(),n[`${a}-color-deprecated-bg`]=c[0],n[`${a}-color-deprecated-border`]=c[2]};if(e.primaryColor){i(e.primaryColor,"primary");const s=new Pn(e.primaryColor),a=zo(s.toRgbString());a.forEach((c,h)=>{n[`primary-${h+1}`]=c}),n["primary-color-deprecated-l-35"]=r(s,c=>c.lighten(35)),n["primary-color-deprecated-l-20"]=r(s,c=>c.lighten(20)),n["primary-color-deprecated-t-20"]=r(s,c=>c.tint(20)),n["primary-color-deprecated-t-50"]=r(s,c=>c.tint(50)),n["primary-color-deprecated-f-12"]=r(s,c=>c.setAlpha(c.getAlpha()*.12));const u=new Pn(a[0]);n["primary-color-active-deprecated-f-30"]=r(u,c=>c.setAlpha(c.getAlpha()*.3)),n["primary-color-active-deprecated-d-02"]=r(u,c=>c.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(s=>`--${t}-${s}: ${n[s]};`).join(`
`)}
  }
  `.trim()}function X4(t,e){const n=Q4(t,e);Jr()&&To(n,`${K4}-dynamic-theme`)}const Bh=$.createContext(!1),Y4=t=>{let{children:e,disabled:n}=t;const r=$.useContext(Bh);return $.createElement(Bh.Provider,{value:n??r},e)},fa=$.createContext(void 0),J4=t=>{let{children:e,size:n}=t;const r=$.useContext(fa);return $.createElement(fa.Provider,{value:n||r},e)};function Z4(){const t=$.useContext(Bh),e=$.useContext(fa);return{componentDisabled:t,componentSize:e}}const eL="5.17.4";function ep(t){return t>=0&&t<=255}function yc(t,e){const{r:n,g:r,b:i,a:o}=new Pn(t).toRgb();if(o<1)return t;const{r:s,g:a,b:u}=new Pn(e).toRgb();for(let c=.01;c<=1;c+=.01){const h=Math.round((n-s*(1-c))/c),f=Math.round((r-a*(1-c))/c),p=Math.round((i-u*(1-c))/c);if(ep(h)&&ep(f)&&ep(p))return new Pn({r:h,g:f,b:p,a:Math.round(c*100)/100}).toRgbString()}return new Pn({r:n,g:r,b:i,a:1}).toRgbString()}var tL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function PA(t){const{override:e}=t,n=tL(t,["override"]),r=Object.assign({},e);Object.keys(au).forEach(p=>{delete r[p]});const i=Object.assign(Object.assign({},n),r),o=480,s=576,a=768,u=992,c=1200,h=1600;if(i.motion===!1){const p="0s";i.motionDurationFast=p,i.motionDurationMid=p,i.motionDurationSlow=p}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:yc(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:yc(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:yc(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*4,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:yc(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:u-1,screenLG:u,screenLGMin:u,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:h-1,screenXXL:h,screenXXLMin:h,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new Pn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Pn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Pn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var dE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const RA={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},kA={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},nL={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},DA=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:i}=e,o=dE(e,["override"]);let s=Object.assign(Object.assign({},r),{override:i});return s=PA(s),o&&Object.entries(o).forEach(a=>{let[u,c]=a;const{theme:h}=c,f=dE(c,["theme"]);let p=f;h&&(p=DA(Object.assign(Object.assign({},s),f),{override:f},h)),s[u]=p}),s};function Wo(){const{token:t,hashed:e,theme:n,override:r,cssVar:i}=ve.useContext(CA),o=`${eL}-${e||""}`,s=n||AA,[a,u,c]=XM(s,[au,t],{salt:o,override:r,getComputedToken:DA,formatToken:PA,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:RA,ignore:kA,preserve:nL}});return[s,c,e?u:"",a,i]}function VA(t,e,n){return e=ca(e),eA(t,pv()?Reflect.construct(e,[],ca(t).constructor):e.apply(t,n))}let NA=Xi(function t(){Qi(this,t)});const OA="CALC_UNIT",rL=new RegExp(OA,"g");function tp(t){return typeof t=="number"?`${t}${OA}`:t}let iL=function(t){function e(n){var r;return Qi(this,e),r=VA(this,e),r.result="",n instanceof e?r.result=`(${n.result})`:typeof n=="number"?r.result=tp(n):typeof n=="string"&&(r.result=n),r}return $d(e,t),Xi(e,[{key:"add",value:function(r){return r instanceof e?this.result=`${this.result} + ${r.getResult()}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} + ${tp(r)}`),this.lowPriority=!0,this}},{key:"sub",value:function(r){return r instanceof e?this.result=`${this.result} - ${r.getResult()}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} - ${tp(r)}`),this.lowPriority=!0,this}},{key:"mul",value:function(r){return this.lowPriority&&(this.result=`(${this.result})`),r instanceof e?this.result=`${this.result} * ${r.getResult(!0)}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} * ${r}`),this.lowPriority=!1,this}},{key:"div",value:function(r){return this.lowPriority&&(this.result=`(${this.result})`),r instanceof e?this.result=`${this.result} / ${r.getResult(!0)}`:(typeof r=="number"||typeof r=="string")&&(this.result=`${this.result} / ${r}`),this.lowPriority=!1,this}},{key:"getResult",value:function(r){return this.lowPriority||r?`(${this.result})`:this.result}},{key:"equal",value:function(r){const{unit:i=!0}=r||{};return this.result=this.result.replace(rL,i?"px":""),typeof this.lowPriority<"u"?`calc(${this.result})`:this.result}}])}(NA),oL=function(t){function e(n){var r;return Qi(this,e),r=VA(this,e),r.result=0,n instanceof e?r.result=n.result:typeof n=="number"&&(r.result=n),r}return $d(e,t),Xi(e,[{key:"add",value:function(r){return r instanceof e?this.result+=r.result:typeof r=="number"&&(this.result+=r),this}},{key:"sub",value:function(r){return r instanceof e?this.result-=r.result:typeof r=="number"&&(this.result-=r),this}},{key:"mul",value:function(r){return r instanceof e?this.result*=r.result:typeof r=="number"&&(this.result*=r),this}},{key:"div",value:function(r){return r instanceof e?this.result/=r.result:typeof r=="number"&&(this.result/=r),this}},{key:"equal",value:function(){return this.result}}])}(NA);const sL=t=>{const e=t==="css"?iL:oL;return n=>new e(n)};function MA(t){var e=$.useRef();e.current=t;var n=$.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return n}function Xc(t){var e=$.useRef(!1),n=$.useState(t),r=Ce(n,2),i=r[0],o=r[1];$.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function s(a,u){u&&e.current||o(a)}return[i,s]}const aL=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),lL=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active,\n  &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),uL=(t,e,n,r)=>{const i=`[class^="${e}"], [class*=" ${e}"]`,o=n?`.${n}`:i,s={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let a={};return r!==!1&&(a={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},a),s),{[i]:s})}},cL=t=>({outline:`${ji(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),hL=t=>({"&:focus-visible":Object.assign({},cL(t))});function dL(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return`max(${n.map(i=>ji(i)).join(",")})`},min:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return`min(${n.map(i=>ji(i)).join(",")})`}}}const LA=typeof CSSINJS_STATISTIC<"u";let Xm=!0;function Ca(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!LA)return Object.assign.apply(Object,[{}].concat(e));Xm=!1;const r={};return e.forEach(i=>{Object.keys(i).forEach(s=>{Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:()=>i[s]})})}),Xm=!0,r}const fE={};function fL(){}const pL=t=>{let e,n=t,r=fL;return LA&&typeof Proxy<"u"&&(e=new Set,n=new Proxy(t,{get(i,o){return Xm&&e.add(o),i[o]}}),r=(i,o)=>{var s;fE[i]={global:Array.from(e),component:Object.assign(Object.assign({},(s=fE[i])===null||s===void 0?void 0:s.component),o)}}),{token:n,keys:e,flush:r}},FA=(t,e)=>{const[n,r]=Wo();return Gm({theme:n,token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[{[`.${t}`]:Object.assign(Object.assign({},aL()),{[`.${t} .${t}-icon`]:{display:"block"}})}])},BA=(t,e,n)=>{var r;return typeof n=="function"?n(Ca(e,(r=e[t])!==null&&r!==void 0?r:{})):n??{}},$A=(t,e,n,r)=>{const i=Object.assign({},e[t]);if(r!=null&&r.deprecatedTokens){const{deprecatedTokens:s}=r;s.forEach(a=>{let[u,c]=a;var h;(i!=null&&i[u]||i!=null&&i[c])&&((h=i[c])!==null&&h!==void 0||(i[c]=i==null?void 0:i[u]))})}const o=Object.assign(Object.assign({},n),i);return Object.keys(o).forEach(s=>{o[s]===e[s]&&delete o[s]}),o},mL=(t,e)=>`${[e,t.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")}`;function wv(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=Array.isArray(t)?t:[t,t],[o]=i,s=i.join("-");return function(a){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a;const[c,h,f,p,w]=Wo(),{getPrefixCls:A,iconPrefixCls:C,csp:D}=$.useContext(Ji),S=A(),g=w?"css":"js",_=sL(g),{max:x,min:N}=dL(g),M={theme:c,token:p,hashId:f,nonce:()=>D==null?void 0:D.nonce,clientOnly:r.clientOnly,layer:{name:"antd"},order:r.order||-999};return Gm(Object.assign(Object.assign({},M),{clientOnly:!1,path:["Shared",S]}),()=>[{"&":lL(p)}]),FA(C,D),[Gm(Object.assign(Object.assign({},M),{path:[s,a,C]}),()=>{if(r.injectStyle===!1)return[];const{token:y,flush:I}=pL(p),b=BA(o,h,n),P=`.${a}`,R=$A(o,h,b,{deprecatedTokens:r.deprecatedTokens});w&&Object.keys(b).forEach(he=>{b[he]=`var(${aA(he,mL(o,w.prefix))})`});const T=Ca(y,{componentCls:P,prefixCls:a,iconCls:`.${C}`,antCls:`.${S}`,calc:_,max:x,min:N},w?b:R),re=e(T,{hashId:f,prefixCls:a,rootPrefixCls:S,iconPrefixCls:C});return I(o,R),[r.resetStyle===!1?null:uL(T,a,u,r.resetFont),re]}),f]}}const gL=(t,e,n,r)=>{const i=wv(t,e,n,Object.assign({resetStyle:!1,order:-998},r));return s=>{let{prefixCls:a,rootCls:u=a}=s;return i(a,u),null}},yL=(t,e,n)=>{function r(c){return`${t}${c.slice(0,1).toUpperCase()}${c.slice(1)}`}const{unitless:i={},injectStyle:o=!0}=n??{},s={[r("zIndexPopup")]:!0};Object.keys(i).forEach(c=>{s[r(c)]=i[c]});const a=c=>{let{rootCls:h,cssVar:f}=c;const[,p]=Wo();return I4({path:[t],prefix:f.prefix,key:f==null?void 0:f.key,unitless:Object.assign(Object.assign({},RA),s),ignore:kA,token:p,scope:h},()=>{const w=BA(t,p,e),A=$A(t,p,w,{deprecatedTokens:n==null?void 0:n.deprecatedTokens});return Object.keys(w).forEach(C=>{A[r(C)]=A[C],delete A[C]}),A}),null};return c=>{const[,,,,h]=Wo();return[f=>o&&h?ve.createElement(ve.Fragment,null,ve.createElement(a,{rootCls:c,cssVar:h,component:t}),f):f,h==null?void 0:h.key]}},vL=(t,e,n,r)=>{const i=wv(t,e,n,r),o=yL(Array.isArray(t)?t[0]:t,n,r);return function(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;const[,u]=i(s,a),[c,h]=o(a);return[c,u,h]}},_L=Object.assign({},ug),{useId:pE}=_L,wL=()=>"",EL=typeof pE>"u"?wL:pE;function SL(t,e,n){var r;const i=t||{},o=i.inherit===!1||!e?Object.assign(Object.assign({},Qm),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:Qm.hashed,cssVar:e==null?void 0:e.cssVar}):e,s=EL();return Yb(()=>{var a,u;if(!t)return e;const c=Object.assign({},o.components);Object.keys(t.components||{}).forEach(p=>{c[p]=Object.assign(Object.assign({},c[p]),t.components[p])});const h=`css-var-${s.replace(/:/g,"")}`,f=((a=i.cssVar)!==null&&a!==void 0?a:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof o.cssVar=="object"?o.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((u=i.cssVar)===null||u===void 0?void 0:u.key)||h});return Object.assign(Object.assign(Object.assign({},o),i),{token:Object.assign(Object.assign({},o.token),i.token),components:c,cssVar:f})},[i,o],(a,u)=>a.some((c,h)=>{const f=u[h];return!TM(c,f,!0)}))}var TL=["children"],jA=$.createContext({});function IL(t){var e=t.children,n=ru(t,TL);return $.createElement(jA.Provider,{value:n},e)}var bL=function(t){$d(n,t);var e=tA(n);function n(){return Qi(this,n),e.apply(this,arguments)}return Xi(n,[{key:"render",value:function(){return this.props.children}}]),n}($.Component),ai="none",vc="appear",_c="enter",wc="leave",mE="none",or="prepare",ks="start",Ds="active",Ev="end",zA="prepared";function gE(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function AL(t,e){var n={animationend:gE("Animation","AnimationEnd"),transitionend:gE("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var CL=AL(Jr(),typeof window<"u"?window:{}),UA={};if(Jr()){var xL=document.createElement("div");UA=xL.style}var Ec={};function WA(t){if(Ec[t])return Ec[t];var e=CL[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in UA)return Ec[t]=e[o],Ec[t]}return""}var qA=WA("animationend"),HA=WA("transitionend"),GA=!!(qA&&HA),yE=qA||"animationend",vE=HA||"transitionend";function _E(t,e){if(!t)return null;if(rt(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const PL=function(t){var e=$.useRef();function n(i){i&&(i.removeEventListener(vE,t),i.removeEventListener(yE,t))}function r(i){e.current&&e.current!==i&&n(e.current),i&&i!==e.current&&(i.addEventListener(vE,t),i.addEventListener(yE,t),e.current=i)}return $.useEffect(function(){return function(){n(e.current)}},[]),[r,n]};var KA=Jr()?$.useLayoutEffect:$.useEffect;const RL=function(){var t=$.useRef(null);function e(){Uo.cancel(t.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=Uo(function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)});t.current=o}return $.useEffect(function(){return function(){e()}},[]),[n,e]};var kL=[or,ks,Ds,Ev],DL=[or,zA],QA=!1,VL=!0;function XA(t){return t===Ds||t===Ev}const NL=function(t,e,n){var r=Xc(mE),i=Ce(r,2),o=i[0],s=i[1],a=RL(),u=Ce(a,2),c=u[0],h=u[1];function f(){s(or,!0)}var p=e?DL:kL;return KA(function(){if(o!==mE&&o!==Ev){var w=p.indexOf(o),A=p[w+1],C=n(o);C===QA?s(A,!0):A&&c(function(D){function S(){D.isCanceled()||s(A,!0)}C===!0?S():Promise.resolve(C).then(S)})}},[t,o]),$.useEffect(function(){return function(){h()}},[]),[f,o]};function OL(t,e,n,r){var i=r.motionEnter,o=i===void 0?!0:i,s=r.motionAppear,a=s===void 0?!0:s,u=r.motionLeave,c=u===void 0?!0:u,h=r.motionDeadline,f=r.motionLeaveImmediately,p=r.onAppearPrepare,w=r.onEnterPrepare,A=r.onLeavePrepare,C=r.onAppearStart,D=r.onEnterStart,S=r.onLeaveStart,g=r.onAppearActive,_=r.onEnterActive,x=r.onLeaveActive,N=r.onAppearEnd,M=r.onEnterEnd,v=r.onLeaveEnd,y=r.onVisibleChanged,I=Xc(),b=Ce(I,2),P=b[0],R=b[1],T=Xc(ai),re=Ce(T,2),he=re[0],q=re[1],W=Xc(null),O=Ce(W,2),U=O[0],Q=O[1],Y=$.useRef(!1),Z=$.useRef(null);function de(){return n()}var we=$.useRef(!1);function Ne(){q(ai,!0),Q(null,!0)}var ze=MA(function(it){if(he!==ai){var qe=de();if(!(it&&!it.deadline&&it.target!==qe)){var ot=we.current,wn;he===vc&&ot?wn=N==null?void 0:N(qe,it):he===_c&&ot?wn=M==null?void 0:M(qe,it):he===wc&&ot&&(wn=v==null?void 0:v(qe,it)),ot&&wn!==!1&&Ne()}}}),Oe=PL(ze),Jn=Ce(Oe,1),On=Jn[0],Nt=function(qe){switch(qe){case vc:return xe(xe(xe({},or,p),ks,C),Ds,g);case _c:return xe(xe(xe({},or,w),ks,D),Ds,_);case wc:return xe(xe(xe({},or,A),ks,S),Ds,x);default:return{}}},Ot=$.useMemo(function(){return Nt(he)},[he]),Zn=NL(he,!t,function(it){if(it===or){var qe=Ot[or];return qe?qe(de()):QA}if(At in Ot){var ot;Q(((ot=Ot[At])===null||ot===void 0?void 0:ot.call(Ot,de(),null))||null)}return At===Ds&&he!==ai&&(On(de()),h>0&&(clearTimeout(Z.current),Z.current=setTimeout(function(){ze({deadline:!0})},h))),At===zA&&Ne(),VL}),Ie=Ce(Zn,2),Mn=Ie[0],At=Ie[1],ct=XA(At);we.current=ct,KA(function(){R(e);var it=Y.current;Y.current=!0;var qe;!it&&e&&a&&(qe=vc),it&&e&&o&&(qe=_c),(it&&!e&&c||!it&&f&&!e&&c)&&(qe=wc);var ot=Nt(qe);qe&&(t||ot[or])?(q(qe),Mn()):q(ai)},[e]),$.useEffect(function(){(he===vc&&!a||he===_c&&!o||he===wc&&!c)&&q(ai)},[a,o,c]),$.useEffect(function(){return function(){Y.current=!1,clearTimeout(Z.current)}},[]);var Ln=$.useRef(!1);$.useEffect(function(){P&&(Ln.current=!0),P!==void 0&&he===ai&&((Ln.current||P)&&(y==null||y(P)),Ln.current=!0)},[P,he]);var _n=U;return Ot[or]&&At===ks&&(_n=fe({transition:"none"},_n)),[he,At,_n,P??e]}function ML(t){var e=t;rt(t)==="object"&&(e=t.transitionSupport);function n(i,o){return!!(i.motionName&&e&&o!==!1)}var r=$.forwardRef(function(i,o){var s=i.visible,a=s===void 0?!0:s,u=i.removeOnLeave,c=u===void 0?!0:u,h=i.forceRender,f=i.children,p=i.motionName,w=i.leavedClassName,A=i.eventProps,C=$.useContext(jA),D=C.motion,S=n(i,D),g=$.useRef(),_=$.useRef();function x(){try{return g.current instanceof HTMLElement?g.current:_M(_.current)}catch{return null}}var N=OL(S,a,x,i),M=Ce(N,4),v=M[0],y=M[1],I=M[2],b=M[3],P=$.useRef(b);b&&(P.current=!0);var R=$.useCallback(function(U){g.current=U,Jb(o,U)},[o]),T,re=fe(fe({},A),{},{visible:a});if(!f)T=null;else if(v===ai)b?T=f(fe({},re),R):!c&&P.current&&w?T=f(fe(fe({},re),{},{className:w}),R):h||!c&&!w?T=f(fe(fe({},re),{},{style:{display:"none"}}),R):T=null;else{var he;y===or?he="prepare":XA(y)?he="active":y===ks&&(he="start");var q=_E(p,"".concat(v,"-").concat(he));T=f(fe(fe({},re),{},{className:ur(_E(p,v),xe(xe({},q,q&&he),p,typeof p=="string")),style:I}),R)}if($.isValidElement(T)&&Zb(T)){var W=T,O=W.ref;O||(T=$.cloneElement(T,{ref:R}))}return $.createElement(bL,{ref:_},T)});return r.displayName="CSSMotion",r}const Sv=ML(GA);var Ym="add",Jm="keep",Zm="remove",np="removed";function LL(t){var e;return t&&rt(t)==="object"&&"key"in t?e=t:e={key:t},fe(fe({},e),{},{key:String(e.key)})}function eg(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(LL)}function FL(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=e.length,o=eg(t),s=eg(e);o.forEach(function(c){for(var h=!1,f=r;f<i;f+=1){var p=s[f];if(p.key===c.key){r<f&&(n=n.concat(s.slice(r,f).map(function(w){return fe(fe({},w),{},{status:Ym})})),r=f),n.push(fe(fe({},p),{},{status:Jm})),r+=1,h=!0;break}}h||n.push(fe(fe({},c),{},{status:Zm}))}),r<i&&(n=n.concat(s.slice(r).map(function(c){return fe(fe({},c),{},{status:Ym})})));var a={};n.forEach(function(c){var h=c.key;a[h]=(a[h]||0)+1});var u=Object.keys(a).filter(function(c){return a[c]>1});return u.forEach(function(c){n=n.filter(function(h){var f=h.key,p=h.status;return f!==c||p!==Zm}),n.forEach(function(h){h.key===c&&(h.status=Jm)})}),n}var BL=["component","children","onVisibleChanged","onAllRemoved"],$L=["status"],jL=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function zL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sv,n=function(r){$d(o,r);var i=tA(o);function o(){var s;Qi(this,o);for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return s=i.call.apply(i,[this].concat(u)),xe($m(s),"state",{keyEntities:[]}),xe($m(s),"removeKey",function(h){var f=s.state.keyEntities,p=f.map(function(w){return w.key!==h?w:fe(fe({},w),{},{status:np})});return s.setState({keyEntities:p}),p.filter(function(w){var A=w.status;return A!==np}).length}),s}return Xi(o,[{key:"render",value:function(){var a=this,u=this.state.keyEntities,c=this.props,h=c.component,f=c.children,p=c.onVisibleChanged,w=c.onAllRemoved,A=ru(c,BL),C=h||$.Fragment,D={};return jL.forEach(function(S){D[S]=A[S],delete A[S]}),delete A.keys,$.createElement(C,A,u.map(function(S,g){var _=S.status,x=ru(S,$L),N=_===Ym||_===Jm;return $.createElement(e,Hr({},D,{key:x.key,visible:N,eventProps:x,onVisibleChanged:function(v){if(p==null||p(v,{key:x.key}),!v){var y=a.removeKey(x.key);y===0&&w&&w()}}}),function(M,v){return f(fe(fe({},M),{},{index:g}),v)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,u){var c=a.keys,h=u.keyEntities,f=eg(c),p=FL(h,f);return{keyEntities:p.filter(function(w){var A=h.find(function(C){var D=C.key;return w.key===D});return!(A&&A.status===np&&w.status===Zm)})}}}]),o}($.Component);return xe(n,"defaultProps",{component:"div"}),n}zL(GA);function UL(t){const{children:e}=t,[,n]=Wo(),{motion:r}=n,i=$.useRef(!1);return i.current=i.current||r===!1,i.current?$.createElement(IL,{motion:r},e):e}const WL=()=>null;var qL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const HL=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"],GL="ant";let YA;function KL(){return YA||GL}function QL(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const XL=t=>{const{prefixCls:e,iconPrefixCls:n,theme:r,holderRender:i}=t;e!==void 0&&(YA=e),r&&QL(r)&&X4(KL(),r)},YL=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:o,form:s,locale:a,componentSize:u,direction:c,space:h,virtual:f,dropdownMatchSelectWidth:p,popupMatchSelectWidth:w,popupOverflow:A,legacyLocale:C,parentContext:D,iconPrefixCls:S,theme:g,componentDisabled:_,segmented:x,statistic:N,spin:M,calendar:v,carousel:y,cascader:I,collapse:b,typography:P,checkbox:R,descriptions:T,divider:re,drawer:he,skeleton:q,steps:W,image:O,layout:U,list:Q,mentions:Y,modal:Z,progress:de,result:we,slider:Ne,breadcrumb:ze,menu:Oe,pagination:Jn,input:On,textArea:Nt,empty:Ot,badge:Zn,radio:Ie,rate:Mn,switch:At,transfer:ct,avatar:Ln,message:_n,tag:it,table:qe,card:ot,tabs:wn,timeline:un,timePicker:pr,upload:Ut,notification:Ee,tree:ke,colorPicker:Fn,datePicker:mr,rangePicker:es,flex:xa,wave:En,dropdown:ts,warning:ns,tour:Cr,floatButtonGroup:k}=t,V=$.useCallback(($e,ht)=>{const{prefixCls:Me}=t;if(ht)return ht;const Yt=Me||D.getPrefixCls("");return $e?`${Yt}-${$e}`:Yt},[D.getPrefixCls,t.prefixCls]),F=S||D.iconPrefixCls||xA,K=n||D.csp;FA(F,K);const ne=SL(g,D.theme,{prefixCls:V("")}),pe={csp:K,autoInsertSpaceInButton:r,alert:i,anchor:o,locale:a||C,direction:c,space:h,virtual:f,popupMatchSelectWidth:w??p,popupOverflow:A,getPrefixCls:V,iconPrefixCls:F,theme:ne,segmented:x,statistic:N,spin:M,calendar:v,carousel:y,cascader:I,collapse:b,typography:P,checkbox:R,descriptions:T,divider:re,drawer:he,skeleton:q,steps:W,image:O,input:On,textArea:Nt,layout:U,list:Q,mentions:Y,modal:Z,progress:de,result:we,slider:Ne,breadcrumb:ze,menu:Oe,pagination:Jn,empty:Ot,badge:Zn,radio:Ie,rate:Mn,switch:At,transfer:ct,avatar:Ln,message:_n,tag:it,table:qe,card:ot,tabs:wn,timeline:un,timePicker:pr,upload:Ut,notification:Ee,tree:ke,colorPicker:Fn,datePicker:mr,rangePicker:es,flex:xa,wave:En,dropdown:ts,warning:ns,tour:Cr,floatButtonGroup:k},ae=Object.assign({},D);Object.keys(pe).forEach($e=>{pe[$e]!==void 0&&(ae[$e]=pe[$e])}),HL.forEach($e=>{const ht=t[$e];ht&&(ae[$e]=ht)}),typeof r<"u"&&(ae.button=Object.assign({autoInsertSpace:r},ae.button));const Ve=Yb(()=>ae,ae,($e,ht)=>{const Me=Object.keys($e),Yt=Object.keys(ht);return Me.length!==Yt.length||Me.some(Bn=>$e[Bn]!==ht[Bn])}),ye=$.useMemo(()=>({prefixCls:F,csp:K}),[F,K]);let le=$.createElement($.Fragment,null,$.createElement(WL,{dropdownMatchSelectWidth:p}),e);const Ue=$.useMemo(()=>{var $e,ht,Me,Yt;return P4((($e=Wd.Form)===null||$e===void 0?void 0:$e.defaultValidateMessages)||{},((Me=(ht=Ve.locale)===null||ht===void 0?void 0:ht.Form)===null||Me===void 0?void 0:Me.defaultValidateMessages)||{},((Yt=Ve.form)===null||Yt===void 0?void 0:Yt.validateMessages)||{},(s==null?void 0:s.validateMessages)||{})},[Ve,s==null?void 0:s.validateMessages]);Object.keys(Ue).length>0&&(le=$.createElement(k4.Provider,{value:Ue},le)),a&&(le=$.createElement(M4,{locale:a,_ANT_MARK__:O4},le)),(F||K)&&(le=$.createElement(lv.Provider,{value:ye},le)),u&&(le=$.createElement(J4,{size:u},le)),le=$.createElement(UL,null,le);const Sn=$.useMemo(()=>{const $e=ne||{},{algorithm:ht,token:Me,components:Yt,cssVar:Bn}=$e,se=qL($e,["algorithm","token","components","cssVar"]),Jt=ht&&(!Array.isArray(ht)||ht.length>0)?zm(ht):AA,Zr={};Object.entries(Yt||{}).forEach(Gd=>{let[Kd,rs]=Gd;const jn=Object.assign({},rs);"algorithm"in jn&&(jn.algorithm===!0?jn.theme=Jt:(Array.isArray(jn.algorithm)||typeof jn.algorithm=="function")&&(jn.theme=zm(jn.algorithm)),delete jn.algorithm),Zr[Kd]=jn});const $n=Object.assign(Object.assign({},au),Me);return Object.assign(Object.assign({},se),{theme:Jt,token:$n,components:Zr,override:Object.assign({override:$n},Zr),cssVar:Bn})},[ne]);return g&&(le=$.createElement(CA.Provider,{value:Sn},le)),Ve.warning&&(le=$.createElement(R4.Provider,{value:Ve.warning},le)),_!==void 0&&(le=$.createElement(Y4,{disabled:_},le)),$.createElement(Ji.Provider,{value:Ve},le)},Pu=t=>{const e=$.useContext(Ji),n=$.useContext(IA);return $.createElement(YL,Object.assign({parentContext:e,legacyLocale:n},t))};Pu.ConfigContext=Ji;Pu.SizeContext=fa;Pu.config=XL;Pu.useConfig=Z4;Object.defineProperty(Pu,"SizeContext",{get:()=>fa});function JL(t){return t&&ve.isValidElement(t)&&t.type===ve.Fragment}const ZL=(t,e,n)=>ve.isValidElement(t)?ve.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e;function JA(t,e){return ZL(t,t,e)}function lu(){lu=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(q,W,O){q[W]=O.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(q,W,O){return Object.defineProperty(q,W,{value:O,enumerable:!0,configurable:!0,writable:!0}),q[W]}try{c({},"")}catch{c=function(O,U,Q){return O[U]=Q}}function h(q,W,O,U){var Q=W&&W.prototype instanceof S?W:S,Y=Object.create(Q.prototype),Z=new re(U||[]);return i(Y,"_invoke",{value:b(q,O,Z)}),Y}function f(q,W,O){try{return{type:"normal",arg:q.call(W,O)}}catch(U){return{type:"throw",arg:U}}}e.wrap=h;var p="suspendedStart",w="suspendedYield",A="executing",C="completed",D={};function S(){}function g(){}function _(){}var x={};c(x,s,function(){return this});var N=Object.getPrototypeOf,M=N&&N(N(he([])));M&&M!==n&&r.call(M,s)&&(x=M);var v=_.prototype=S.prototype=Object.create(x);function y(q){["next","throw","return"].forEach(function(W){c(q,W,function(O){return this._invoke(W,O)})})}function I(q,W){function O(Q,Y,Z,de){var we=f(q[Q],q,Y);if(we.type!=="throw"){var Ne=we.arg,ze=Ne.value;return ze&&rt(ze)=="object"&&r.call(ze,"__await")?W.resolve(ze.__await).then(function(Oe){O("next",Oe,Z,de)},function(Oe){O("throw",Oe,Z,de)}):W.resolve(ze).then(function(Oe){Ne.value=Oe,Z(Ne)},function(Oe){return O("throw",Oe,Z,de)})}de(we.arg)}var U;i(this,"_invoke",{value:function(Y,Z){function de(){return new W(function(we,Ne){O(Y,Z,we,Ne)})}return U=U?U.then(de,de):de()}})}function b(q,W,O){var U=p;return function(Q,Y){if(U===A)throw Error("Generator is already running");if(U===C){if(Q==="throw")throw Y;return{value:t,done:!0}}for(O.method=Q,O.arg=Y;;){var Z=O.delegate;if(Z){var de=P(Z,O);if(de){if(de===D)continue;return de}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(U===p)throw U=C,O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);U=A;var we=f(q,W,O);if(we.type==="normal"){if(U=O.done?C:w,we.arg===D)continue;return{value:we.arg,done:O.done}}we.type==="throw"&&(U=C,O.method="throw",O.arg=we.arg)}}}function P(q,W){var O=W.method,U=q.iterator[O];if(U===t)return W.delegate=null,O==="throw"&&q.iterator.return&&(W.method="return",W.arg=t,P(q,W),W.method==="throw")||O!=="return"&&(W.method="throw",W.arg=new TypeError("The iterator does not provide a '"+O+"' method")),D;var Q=f(U,q.iterator,W.arg);if(Q.type==="throw")return W.method="throw",W.arg=Q.arg,W.delegate=null,D;var Y=Q.arg;return Y?Y.done?(W[q.resultName]=Y.value,W.next=q.nextLoc,W.method!=="return"&&(W.method="next",W.arg=t),W.delegate=null,D):Y:(W.method="throw",W.arg=new TypeError("iterator result is not an object"),W.delegate=null,D)}function R(q){var W={tryLoc:q[0]};1 in q&&(W.catchLoc=q[1]),2 in q&&(W.finallyLoc=q[2],W.afterLoc=q[3]),this.tryEntries.push(W)}function T(q){var W=q.completion||{};W.type="normal",delete W.arg,q.completion=W}function re(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(R,this),this.reset(!0)}function he(q){if(q||q===""){var W=q[s];if(W)return W.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length)){var O=-1,U=function Q(){for(;++O<q.length;)if(r.call(q,O))return Q.value=q[O],Q.done=!1,Q;return Q.value=t,Q.done=!0,Q};return U.next=U}}throw new TypeError(rt(q)+" is not iterable")}return g.prototype=_,i(v,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:g,configurable:!0}),g.displayName=c(_,u,"GeneratorFunction"),e.isGeneratorFunction=function(q){var W=typeof q=="function"&&q.constructor;return!!W&&(W===g||(W.displayName||W.name)==="GeneratorFunction")},e.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,_):(q.__proto__=_,c(q,u,"GeneratorFunction")),q.prototype=Object.create(v),q},e.awrap=function(q){return{__await:q}},y(I.prototype),c(I.prototype,a,function(){return this}),e.AsyncIterator=I,e.async=function(q,W,O,U,Q){Q===void 0&&(Q=Promise);var Y=new I(h(q,W,O,U),Q);return e.isGeneratorFunction(W)?Y:Y.next().then(function(Z){return Z.done?Z.value:Y.next()})},y(v),c(v,u,"Generator"),c(v,s,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(q){var W=Object(q),O=[];for(var U in W)O.push(U);return O.reverse(),function Q(){for(;O.length;){var Y=O.pop();if(Y in W)return Q.value=Y,Q.done=!1,Q}return Q.done=!0,Q}},e.values=he,re.prototype={constructor:re,reset:function(W){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!W)for(var O in this)O.charAt(0)==="t"&&r.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=t)},stop:function(){this.done=!0;var W=this.tryEntries[0].completion;if(W.type==="throw")throw W.arg;return this.rval},dispatchException:function(W){if(this.done)throw W;var O=this;function U(Ne,ze){return Z.type="throw",Z.arg=W,O.next=Ne,ze&&(O.method="next",O.arg=t),!!ze}for(var Q=this.tryEntries.length-1;Q>=0;--Q){var Y=this.tryEntries[Q],Z=Y.completion;if(Y.tryLoc==="root")return U("end");if(Y.tryLoc<=this.prev){var de=r.call(Y,"catchLoc"),we=r.call(Y,"finallyLoc");if(de&&we){if(this.prev<Y.catchLoc)return U(Y.catchLoc,!0);if(this.prev<Y.finallyLoc)return U(Y.finallyLoc)}else if(de){if(this.prev<Y.catchLoc)return U(Y.catchLoc,!0)}else{if(!we)throw Error("try statement without catch or finally");if(this.prev<Y.finallyLoc)return U(Y.finallyLoc)}}}},abrupt:function(W,O){for(var U=this.tryEntries.length-1;U>=0;--U){var Q=this.tryEntries[U];if(Q.tryLoc<=this.prev&&r.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var Y=Q;break}}Y&&(W==="break"||W==="continue")&&Y.tryLoc<=O&&O<=Y.finallyLoc&&(Y=null);var Z=Y?Y.completion:{};return Z.type=W,Z.arg=O,Y?(this.method="next",this.next=Y.finallyLoc,D):this.complete(Z)},complete:function(W,O){if(W.type==="throw")throw W.arg;return W.type==="break"||W.type==="continue"?this.next=W.arg:W.type==="return"?(this.rval=this.arg=W.arg,this.method="return",this.next="end"):W.type==="normal"&&O&&(this.next=O),D},finish:function(W){for(var O=this.tryEntries.length-1;O>=0;--O){var U=this.tryEntries[O];if(U.finallyLoc===W)return this.complete(U.completion,U.afterLoc),T(U),D}},catch:function(W){for(var O=this.tryEntries.length-1;O>=0;--O){var U=this.tryEntries[O];if(U.tryLoc===W){var Q=U.completion;if(Q.type==="throw"){var Y=Q.arg;T(U)}return Y}}throw Error("illegal catch attempt")},delegateYield:function(W,O,U){return this.delegate={iterator:he(W),resultName:O,nextLoc:U},this.method==="next"&&(this.arg=t),D}},e}function wE(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function ZA(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){wE(o,r,i,s,a,"next",u)}function a(u){wE(o,r,i,s,a,"throw",u)}s(void 0)})}}var Ru=fe({},JP),e3=Ru.version,t3=Ru.render,n3=Ru.unmountComponentAtNode,qd;try{var r3=Number((e3||"").split(".")[0]);r3>=18&&(qd=Ru.createRoot)}catch{}function EE(t){var e=Ru.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&rt(e)==="object"&&(e.usingClientEntryPoint=t)}var $h="__rc_react_root__";function i3(t,e){EE(!0);var n=e[$h]||qd(e);EE(!1),n.render(t),e[$h]=n}function o3(t,e){t3(t,e)}function s3(t,e){if(qd){i3(t,e);return}o3(t,e)}function a3(t){return tg.apply(this,arguments)}function tg(){return tg=ZA(lu().mark(function t(e){return lu().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[$h])===null||i===void 0||i.unmount(),delete e[$h]}));case 1:case"end":return r.stop()}},t)})),tg.apply(this,arguments)}function l3(t){n3(t)}function u3(t){return ng.apply(this,arguments)}function ng(){return ng=ZA(lu().mark(function t(e){return lu().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(qd===void 0){r.next=2;break}return r.abrupt("return",a3(e));case 2:l3(e);case 3:case"end":return r.stop()}},t)})),ng.apply(this,arguments)}const c3=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=i.width,s=i.height;if(o||s)return!0}}return!1},h3=t=>{const{componentCls:e,colorPrimary:n}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${t.motionDurationSlow} ${t.motionEaseInOut}`,`opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`].join(",")}}}}},d3=wv("Wave",t=>[h3(t)]),eC="ant-wave-target";function f3(t){const e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function rp(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&f3(t)&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function p3(t){const{borderTopColor:e,borderColor:n,backgroundColor:r}=getComputedStyle(t);return rp(e)?e:rp(n)?n:rp(r)?r:null}function ip(t){return Number.isNaN(t)?0:t}const m3=t=>{const{className:e,target:n,component:r}=t,i=$.useRef(null),[o,s]=$.useState(null),[a,u]=$.useState([]),[c,h]=$.useState(0),[f,p]=$.useState(0),[w,A]=$.useState(0),[C,D]=$.useState(0),[S,g]=$.useState(!1),_={left:c,top:f,width:w,height:C,borderRadius:a.map(M=>`${M}px`).join(" ")};o&&(_["--wave-color"]=o);function x(){const M=getComputedStyle(n);s(p3(n));const v=M.position==="static",{borderLeftWidth:y,borderTopWidth:I}=M;h(v?n.offsetLeft:ip(-parseFloat(y))),p(v?n.offsetTop:ip(-parseFloat(I))),A(n.offsetWidth),D(n.offsetHeight);const{borderTopLeftRadius:b,borderTopRightRadius:P,borderBottomLeftRadius:R,borderBottomRightRadius:T}=M;u([b,P,T,R].map(re=>ip(parseFloat(re))))}if($.useEffect(()=>{if(n){const M=Uo(()=>{x(),g(!0)});let v;return typeof ResizeObserver<"u"&&(v=new ResizeObserver(x),v.observe(n)),()=>{Uo.cancel(M),v==null||v.disconnect()}}},[]),!S)return null;const N=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(eC));return $.createElement(Sv,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(M,v)=>{var y;if(v.deadline||v.propertyName==="opacity"){const I=(y=i.current)===null||y===void 0?void 0:y.parentElement;u3(I).then(()=>{I==null||I.remove()})}return!1}},(M,v)=>{let{className:y}=M;return $.createElement("div",{ref:fv(i,v),className:ur(e,{"wave-quick":N},y),style:_})})},g3=(t,e)=>{var n;const{component:r}=e;if(r==="Checkbox"&&!(!((n=t.querySelector("input"))===null||n===void 0)&&n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",t==null||t.insertBefore(i,t==null?void 0:t.firstChild),s3($.createElement(m3,Object.assign({},e,{target:t})),i)},y3=(t,e,n)=>{const{wave:r}=$.useContext(Ji),[,i,o]=Wo(),s=MA(c=>{const h=t.current;if(r!=null&&r.disabled||!h)return;const f=h.querySelector(`.${eC}`)||h,{showEffect:p}=r||{};(p||g3)(f,{className:e,token:i,component:n,event:c,hashId:o})}),a=$.useRef();return c=>{Uo.cancel(a.current),a.current=Uo(()=>{s(c)})}},v3=t=>{const{children:e,disabled:n,component:r}=t,{getPrefixCls:i}=$.useContext(Ji),o=$.useRef(null),s=i("wave"),[,a]=d3(s),u=y3(o,ur(s,a),r);if(ve.useEffect(()=>{const h=o.current;if(!h||h.nodeType!==1||n)return;const f=p=>{!c3(p.target)||!h.getAttribute||h.getAttribute("disabled")||h.disabled||h.className.includes("disabled")||h.className.includes("-leave")||u(p)};return h.addEventListener("click",f,!0),()=>{h.removeEventListener("click",f,!0)}},[n]),!ve.isValidElement(e))return e??null;const c=Zb(e)?fv(e.ref,o):o;return JA(e,{ref:c})},_3=t=>{const e=ve.useContext(fa);return ve.useMemo(()=>t?typeof t=="string"?t??e:t instanceof Function?t(e):e:e,[t,e])},w3=$.createContext(null),E3=(t,e)=>{const n=$.useContext(w3),r=$.useMemo(()=>{if(!n)return"";const{compactDirection:i,isFirstItem:o,isLastItem:s}=n,a=i==="vertical"?"-vertical-":"-";return ur(`${t}-compact${a}item`,{[`${t}-compact${a}first-item`]:o,[`${t}-compact${a}last-item`]:s,[`${t}-compact${a}item-rtl`]:e==="rtl"})},[t,e,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}};var S3=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const tC=$.createContext(void 0),T3=t=>{const{getPrefixCls:e,direction:n}=$.useContext(Ji),{prefixCls:r,size:i,className:o}=t,s=S3(t,["prefixCls","size","className"]),a=e("btn-group",r),[,,u]=Wo();let c="";switch(i){case"large":c="lg";break;case"small":c="sm";break}const h=ur(a,{[`${a}-${c}`]:c,[`${a}-rtl`]:n==="rtl"},o,u);return $.createElement(tC.Provider,{value:i},$.createElement("div",Object.assign({},s,{className:h})))},SE=/^[\u4e00-\u9fa5]{2}$/,rg=SE.test.bind(SE);function TE(t){return typeof t=="string"}function op(t){return t==="text"||t==="link"}function I3(t,e){if(t==null)return;const n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&TE(t.type)&&rg(t.props.children)?JA(t,{children:t.props.children.split("").join(n)}):TE(t)?rg(t)?ve.createElement("span",null,t.split("").join(n)):ve.createElement("span",null,t):JL(t)?ve.createElement("span",null,t):t}function b3(t,e){let n=!1;const r=[];return ve.Children.forEach(t,i=>{const o=typeof i,s=o==="string"||o==="number";if(n&&s){const a=r.length-1,u=r[a];r[a]=`${u}${i}`}else r.push(i);n=s}),ve.Children.map(r,i=>I3(i,e))}const nC=$.forwardRef((t,e)=>{const{className:n,style:r,children:i,prefixCls:o}=t,s=ur(`${o}-icon`,n);return ve.createElement("span",{ref:e,className:s,style:r},i)}),IE=$.forwardRef((t,e)=>{const{prefixCls:n,className:r,style:i,iconClassName:o,iconPosition:s="start"}=t,a=ur(r,{[`${n}-loading-icon-end`]:s==="end",[`${n}-loading-icon`]:s==="start"});return ve.createElement(nC,{prefixCls:n,className:a,style:i,ref:e},ve.createElement(sM,{className:o}))}),sp=()=>({width:0,opacity:0,transform:"scale(0)"}),ap=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),A3=t=>{const{prefixCls:e,loading:n,existIcon:r,className:i,style:o,iconPosition:s}=t,a=!!n;return r?ve.createElement(IE,{prefixCls:e,className:i,style:o,iconPosition:s}):ve.createElement(Sv,{visible:a,motionName:`${e}-loading-icon-motion`,motionLeave:a,removeOnLeave:!0,onAppearStart:sp,onAppearActive:ap,onEnterStart:sp,onEnterActive:ap,onLeaveStart:ap,onLeaveActive:sp},(u,c)=>{let{className:h,style:f}=u;return ve.createElement(IE,{prefixCls:e,className:i,style:Object.assign(Object.assign({},o),f),ref:c,iconClassName:h,iconPosition:s})})},bE=(t,e)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),C3=t=>{const{componentCls:e,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:o}=t;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:t.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:n}},bE(`${e}-primary`,i),bE(`${e}-danger`,o)]}},rC=t=>{const{paddingInline:e,onlyIconSize:n,paddingBlock:r}=t;return Ca(t,{buttonPaddingHorizontal:e,buttonPaddingVertical:r,buttonIconOnlyFontSize:n})},iC=t=>{var e,n,r,i,o,s;const a=(e=t.contentFontSize)!==null&&e!==void 0?e:t.fontSize,u=(n=t.contentFontSizeSM)!==null&&n!==void 0?n:t.fontSize,c=(r=t.contentFontSizeLG)!==null&&r!==void 0?r:t.fontSizeLG,h=(i=t.contentLineHeight)!==null&&i!==void 0?i:Qc(a),f=(o=t.contentLineHeightSM)!==null&&o!==void 0?o:Qc(u),p=(s=t.contentLineHeightLG)!==null&&s!==void 0?s:Qc(c);return{fontWeight:400,defaultShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`,primaryShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`,dangerShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`,primaryColor:t.colorTextLightSolid,dangerColor:t.colorTextLightSolid,borderColorDisabled:t.colorBorder,defaultGhostColor:t.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:t.colorBgContainer,paddingInline:t.paddingContentHorizontal-t.lineWidth,paddingInlineLG:t.paddingContentHorizontal-t.lineWidth,paddingInlineSM:8-t.lineWidth,onlyIconSize:t.fontSizeLG,onlyIconSizeSM:t.fontSizeLG-2,onlyIconSizeLG:t.fontSizeLG+2,groupBorderColor:t.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:t.colorBgTextHover,defaultColor:t.colorText,defaultBg:t.colorBgContainer,defaultBorderColor:t.colorBorder,defaultBorderColorDisabled:t.colorBorder,defaultHoverBg:t.colorBgContainer,defaultHoverColor:t.colorPrimaryHover,defaultHoverBorderColor:t.colorPrimaryHover,defaultActiveBg:t.colorBgContainer,defaultActiveColor:t.colorPrimaryActive,defaultActiveBorderColor:t.colorPrimaryActive,contentFontSize:a,contentFontSizeSM:u,contentFontSizeLG:c,contentLineHeight:h,contentLineHeightSM:f,contentLineHeightLG:p,paddingBlock:Math.max((t.controlHeight-a*h)/2-t.lineWidth,0),paddingBlockSM:Math.max((t.controlHeightSM-u*f)/2-t.lineWidth,0),paddingBlockLG:Math.max((t.controlHeightLG-c*p)/2-t.lineWidth,0)}},x3=t=>{const{componentCls:e,iconCls:n,fontWeight:r}=t;return{[e]:{outline:"none",position:"relative",display:"inline-block",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${ji(t.lineWidth)} ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:t.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:0,"&-end":{marginInlineStart:t.marginXS}},[`> ${n} + span, > span + ${n}`]:{marginInlineStart:t.marginXS},[`&:not(${e}-icon-only) > ${e}-icon`]:{[`&${e}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:t.marginXS},[`&${e}-loading-icon-end`]:{marginInlineStart:t.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},hL(t)),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&-icon-only${e}-compact-item`]:{flex:"none"}}}},Gr=(t,e,n)=>({[`&:not(:disabled):not(${t}-disabled)`]:{"&:hover":e,"&:active":n}}),P3=t=>({minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),R3=t=>({borderRadius:t.controlHeight,paddingInlineStart:t.calc(t.controlHeight).div(2).equal(),paddingInlineEnd:t.calc(t.controlHeight).div(2).equal()}),k3=t=>({cursor:"not-allowed",borderColor:t.borderColorDisabled,color:t.colorTextDisabled,background:t.colorBgContainerDisabled,boxShadow:"none"}),uu=(t,e,n,r,i,o,s,a)=>({[`&${t}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},Gr(t,Object.assign({background:e},s),Object.assign({background:e},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),Tv=t=>({[`&:disabled, &${t.componentCls}-disabled`]:Object.assign({},k3(t))}),oC=t=>Object.assign({},Tv(t)),jh=t=>({[`&:disabled, &${t.componentCls}-disabled`]:{cursor:"not-allowed",color:t.colorTextDisabled}}),sC=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},oC(t)),{background:t.defaultBg,borderColor:t.defaultBorderColor,color:t.defaultColor,boxShadow:t.defaultShadow}),Gr(t.componentCls,{color:t.defaultHoverColor,borderColor:t.defaultHoverBorderColor,background:t.defaultHoverBg},{color:t.defaultActiveColor,borderColor:t.defaultActiveBorderColor,background:t.defaultActiveBg})),uu(t.componentCls,t.ghostBg,t.defaultGhostColor,t.defaultGhostBorderColor,t.colorTextDisabled,t.colorBorder)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:t.colorError,borderColor:t.colorError},Gr(t.componentCls,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),uu(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder)),Tv(t))}),D3=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},oC(t)),{color:t.primaryColor,background:t.colorPrimary,boxShadow:t.primaryShadow}),Gr(t.componentCls,{color:t.colorTextLightSolid,background:t.colorPrimaryHover},{color:t.colorTextLightSolid,background:t.colorPrimaryActive})),uu(t.componentCls,t.ghostBg,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({background:t.colorError,boxShadow:t.dangerShadow,color:t.dangerColor},Gr(t.componentCls,{background:t.colorErrorHover},{background:t.colorErrorActive})),uu(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),Tv(t))}),V3=t=>Object.assign(Object.assign({},sC(t)),{borderStyle:"dashed"}),N3=t=>Object.assign(Object.assign(Object.assign({color:t.colorLink},Gr(t.componentCls,{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),jh(t)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign({color:t.colorError},Gr(t.componentCls,{color:t.colorErrorHover},{color:t.colorErrorActive})),jh(t))}),O3=t=>Object.assign(Object.assign(Object.assign({},Gr(t.componentCls,{color:t.colorText,background:t.textHoverBg},{color:t.colorText,background:t.colorBgTextActive})),jh(t)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign({color:t.colorError},jh(t)),Gr(t.componentCls,{color:t.colorErrorHover,background:t.colorErrorBg},{color:t.colorErrorHover,background:t.colorErrorBgActive}))}),M3=t=>{const{componentCls:e}=t;return{[`${e}-default`]:sC(t),[`${e}-primary`]:D3(t),[`${e}-dashed`]:V3(t),[`${e}-link`]:N3(t),[`${e}-text`]:O3(t),[`${e}-ghost`]:uu(t.componentCls,t.ghostBg,t.colorBgContainer,t.colorBgContainer,t.colorTextDisabled,t.colorBorder)}},Iv=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:i,lineHeight:o,borderRadius:s,buttonPaddingHorizontal:a,iconCls:u,buttonPaddingVertical:c}=t,h=`${n}-icon-only`;return[{[`${e}`]:{fontSize:i,lineHeight:o,height:r,padding:`${ji(c)} ${ji(a)}`,borderRadius:s,[`&${h}`]:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:r,paddingInlineStart:0,paddingInlineEnd:0,[`&${n}-round`]:{width:"auto"},[u]:{fontSize:t.buttonIconOnlyFontSize}},[`&${n}-loading`]:{opacity:t.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${t.motionDurationSlow} ${t.motionEaseInOut}, opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`}}},{[`${n}${n}-circle${e}`]:P3(t)},{[`${n}${n}-round${e}`]:R3(t)}]},L3=t=>{const e=Ca(t,{fontSize:t.contentFontSize,lineHeight:t.contentLineHeight});return Iv(e,t.componentCls)},F3=t=>{const e=Ca(t,{controlHeight:t.controlHeightSM,fontSize:t.contentFontSizeSM,lineHeight:t.contentLineHeightSM,padding:t.paddingXS,buttonPaddingHorizontal:t.paddingInlineSM,buttonPaddingVertical:t.paddingBlockSM,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.onlyIconSizeSM});return Iv(e,`${t.componentCls}-sm`)},B3=t=>{const e=Ca(t,{controlHeight:t.controlHeightLG,fontSize:t.contentFontSizeLG,lineHeight:t.contentLineHeightLG,buttonPaddingHorizontal:t.paddingInlineLG,buttonPaddingVertical:t.paddingBlockLG,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.onlyIconSizeLG});return Iv(e,`${t.componentCls}-lg`)},$3=t=>{const{componentCls:e}=t;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},j3=vL("Button",t=>{const e=rC(t);return[x3(e),L3(e),F3(e),B3(e),$3(e),M3(e),C3(e)]},iC,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function z3(t,e,n){const{focusElCls:r,focus:i,borderElCls:o}=n,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(u=>`&:${u} ${s}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function U3(t,e,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function W3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=t,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},z3(t,r,e)),U3(n,r,e))}}function q3(t,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:t.calc(t.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function H3(t,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function G3(t){const e=`${t.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},q3(t,e)),H3(t.componentCls,e))}}const K3=t=>{const{componentCls:e,calc:n}=t;return{[e]:{[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(t.lineWidth).mul(-1).equal(),insetInlineStart:n(t.lineWidth).mul(-1).equal(),display:"inline-block",width:t.lineWidth,height:`calc(100% + ${ji(t.lineWidth)} * 2)`,backgroundColor:t.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(t.lineWidth).mul(-1).equal(),insetInlineStart:n(t.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${ji(t.lineWidth)} * 2)`,height:t.lineWidth,backgroundColor:t.colorPrimaryHover,content:'""'}}}}}}},Q3=gL(["Button","compact"],t=>{const e=rC(t);return[W3(e),G3(e),K3(e)]},iC);var X3=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Y3(t){if(typeof t=="object"&&t){let e=t==null?void 0:t.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!t,delay:0}}const J3=ve.forwardRef((t,e)=>{var n,r,i;const{loading:o=!1,prefixCls:s,type:a,danger:u,shape:c="default",size:h,styles:f,disabled:p,className:w,rootClassName:A,children:C,icon:D,iconPosition:S="start",ghost:g=!1,block:_=!1,htmlType:x="button",classNames:N,style:M={},autoInsertSpace:v}=t,y=X3(t,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace"]),I=a||"default",{getPrefixCls:b,direction:P,button:R}=$.useContext(Ji),T=(n=v??(R==null?void 0:R.autoInsertSpace))!==null&&n!==void 0?n:!0,re=b("btn",s),[he,q,W]=j3(re),O=$.useContext(Bh),U=p??O,Q=$.useContext(tC),Y=$.useMemo(()=>Y3(o),[o]),[Z,de]=$.useState(Y.loading),[we,Ne]=$.useState(!1),Oe=fv(e,$.createRef()),Jn=$.Children.count(C)===1&&!D&&!op(I);$.useEffect(()=>{let Ee=null;Y.delay>0?Ee=setTimeout(()=>{Ee=null,de(!0)},Y.delay):de(Y.loading);function ke(){Ee&&(clearTimeout(Ee),Ee=null)}return ke},[Y]),$.useEffect(()=>{if(!Oe||!Oe.current||!T)return;const Ee=Oe.current.textContent;Jn&&rg(Ee)?we||Ne(!0):we&&Ne(!1)},[Oe]);const On=Ee=>{const{onClick:ke}=t;if(Z||U){Ee.preventDefault();return}ke==null||ke(Ee)},{compactSize:Nt,compactItemClassnames:Ot}=E3(re,P),Zn={large:"lg",small:"sm",middle:void 0},Ie=_3(Ee=>{var ke,Fn;return(Fn=(ke=h??Nt)!==null&&ke!==void 0?ke:Q)!==null&&Fn!==void 0?Fn:Ee}),Mn=Ie&&Zn[Ie]||"",At=Z?"loading":D,ct=wM(y,["navigate"]),Ln=ur(re,q,W,{[`${re}-${c}`]:c!=="default"&&c,[`${re}-${I}`]:I,[`${re}-${Mn}`]:Mn,[`${re}-icon-only`]:!C&&C!==0&&!!At,[`${re}-background-ghost`]:g&&!op(I),[`${re}-loading`]:Z,[`${re}-two-chinese-chars`]:we&&T&&!Z,[`${re}-block`]:_,[`${re}-dangerous`]:!!u,[`${re}-rtl`]:P==="rtl"},Ot,w,A,R==null?void 0:R.className),_n=Object.assign(Object.assign({},R==null?void 0:R.style),M),it=S==="end"&&C&&C!==0&&At,qe=ur(N==null?void 0:N.icon,(r=R==null?void 0:R.classNames)===null||r===void 0?void 0:r.icon,{[`${re}-icon-end`]:it}),ot=Object.assign(Object.assign({},(f==null?void 0:f.icon)||{}),((i=R==null?void 0:R.styles)===null||i===void 0?void 0:i.icon)||{}),wn=D&&!Z?ve.createElement(nC,{prefixCls:re,className:qe,style:ot},D):ve.createElement(A3,{existIcon:!!D,prefixCls:re,loading:!!Z,iconPosition:S}),un=C||C===0?b3(C,Jn&&T):null,pr=(Ee,ke)=>S==="start"?ve.createElement(ve.Fragment,null,Ee,ke):ve.createElement(ve.Fragment,null,ke,Ee);if(ct.href!==void 0)return he(ve.createElement("a",Object.assign({},ct,{className:ur(Ln,{[`${re}-disabled`]:U}),href:U?void 0:ct.href,style:_n,onClick:On,ref:Oe,tabIndex:U?-1:0}),pr(wn,un)));let Ut=ve.createElement("button",Object.assign({},y,{type:x,className:Ln,style:_n,onClick:On,disabled:U,ref:Oe}),pr(wn,un),!!Ot&&ve.createElement(Q3,{key:"compact",prefixCls:re}));return op(I)||(Ut=ve.createElement(v3,{component:"Button",disabled:!!Z},Ut)),he(Ut)}),Il=J3;Il.Group=T3;Il.__ANT_BUTTON=!0;const Z3="/bablo/assets/button-CXeuYNeT.png",eF="/bablo/assets/money-Dp3nuPUH.png",tF="/bablo/assets/logo-BK3-dzVF.png";function nF(){const[t,e]=$.useState(0),[n,r]=$.useState(""),[i,o]=$.useState("coin");$.useEffect(()=>{(async()=>{const c=localStorage.getItem("userId");if(n&&await cO({userid:n,coins:0}),c){r(c);const h=await dO(c);h&&e(h.coins)}})()},[]);const s=async()=>{const u=t+1;e(u),n&&await hO(n,u)},a=()=>i==="coin"?Je.jsxs("div",{children:[Je.jsxs("div",{className:In.score,children:[Je.jsx("img",{src:eF,alt:"",className:In.scoreImg}),Je.jsx("h1",{children:t})]}),Je.jsx("img",{src:Z3,alt:" ",className:In.clickButton,onClick:s})]}):i==="leaderboard"?Je.jsx(gO,{}):i==="settings"?Je.jsx("h1",{children:" "}):null;return Je.jsxs("div",{className:In.app,children:[Je.jsx("div",{className:In.topbar,children:Je.jsx("a",{children:Je.jsx("img",{className:In.logos,src:tF})})}),a(),Je.jsxs("div",{className:In.menu,children:[Je.jsx(Il,{ghost:!0,className:In.btn,onClick:()=>o("coin"),shape:"default",icon:Je.jsx(mM,{className:In.icon})}),Je.jsx(Il,{ghost:!0,className:In.btn,onClick:()=>o("leaderboard"),shape:"default",icon:Je.jsx(dM,{className:In.icon})}),Je.jsx(Il,{ghost:!0,className:In.btn,onClick:()=>o("settings"),shape:"default",icon:Je.jsx(uM,{className:In.icon})})]})]})}var aC={},Hd={};(function(){var t={},e="";try{e=location.hash.toString()}catch{}var n=u(e),r=S("initParams");if(r)for(var i in r)typeof n[i]>"u"&&(n[i]=r[i]);D("initParams",n);var o=!1,s;try{if(o=window.parent!=null&&window!=window.parent,o){window.addEventListener("message",function(g){if(g.source===window.parent){try{var _=JSON.parse(g.data)}catch{return}if(!(!_||!_.eventType))if(_.eventType=="set_custom_style")g.origin==="https://web.telegram.org"&&(s.innerHTML=_.eventData);else if(_.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else p(_.eventType,_.eventData)}}),s=document.createElement("style"),document.head.appendChild(s);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function a(g){try{return g=g.replace(/\+/g,"%20"),decodeURIComponent(g)}catch{return g}}function u(g){g=g.replace(/^#/,"");var _={};if(!g.length)return _;if(g.indexOf("=")<0&&g.indexOf("?")<0)return _._path=a(g),_;var x=g.indexOf("?");if(x>=0){var N=g.substr(0,x);_._path=a(N),g=g.substr(x+1)}var M=c(g);for(var v in M)_[v]=M[v];return _}function c(g){var _={};if(!g.length)return _;var x=g.split("&"),N,M,v,y;for(N=0;N<x.length;N++)M=x[N].split("="),v=a(M[0]),y=M[1]==null?null:a(M[1]),_[v]=y;return _}function h(g,_){var x=g.indexOf("#");if(x<0)return g+"#"+_;var N=g.substr(x+1);return N.indexOf("=")>=0||N.indexOf("?")>=0?g+"&"+_:N.length>0?g+"?"+_:g+_}function f(g,_,x){if(_||(_=function(){}),x===void 0&&(x=""),console.log("[Telegram.WebView] > postEvent",g,x),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(g,JSON.stringify(x)),_();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:g,eventData:x})),_();else if(o)try{var N="https://web.telegram.org";N="*",window.parent.postMessage(JSON.stringify({eventType:g,eventData:x}),N),_()}catch(M){_(M)}else _({notAvailable:!0})}function p(g,_){console.log("[Telegram.WebView] < receiveEvent",g,_),w(g,function(x){x(g,_)})}function w(g,_){var x=t[g];if(!(x===void 0||!x.length))for(var N=0;N<x.length;N++)try{_(x[N])}catch{}}function A(g,_){t[g]===void 0&&(t[g]=[]);var x=t[g].indexOf(_);x===-1&&t[g].push(_)}function C(g,_){if(t[g]!==void 0){var x=t[g].indexOf(_);x!==-1&&t[g].splice(x,1)}}function D(g,_){try{return window.sessionStorage.setItem("__telegram__"+g,JSON.stringify(_)),!0}catch{}return!1}function S(g){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+g))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:n,isIframe:o,onEvent:A,offEvent:C,postEvent:f,receiveEvent:p,callEventCallbacks:w},window.Telegram.Utils={urlSafeDecode:a,urlParseQueryString:c,urlParseHashParams:u,urlAppendHashParams:h,sessionStorageSet:D,sessionStorageGet:S},window.TelegramGameProxy_receiveEvent=p,window.TelegramGameProxy={receiveEvent:p}})();(function(){var t=window.Telegram.Utils,e=window.Telegram.WebView,n=e.initParams,r=e.isIframe,i={},o="",s={},a={},u="light",c="6.0",h="unknown";if(n.tgWebAppData&&n.tgWebAppData.length){o=n.tgWebAppData,s=t.urlParseQueryString(o);for(var f in s){var p=s[f];try{(p.substr(0,1)=="{"&&p.substr(-1)=="}"||p.substr(0,1)=="["&&p.substr(-1)=="]")&&(s[f]=JSON.parse(p))}catch{}}}if(n.tgWebAppThemeParams&&n.tgWebAppThemeParams.length){var w=n.tgWebAppThemeParams;try{var A=JSON.parse(w);A&&I(A)}catch{}}var A=t.sessionStorageGet("themeParams");A&&I(A),n.tgWebAppVersion&&(c=n.tgWebAppVersion),n.tgWebAppPlatform&&(h=n.tgWebAppPlatform);function C(k,V){V.theme_params&&(I(V.theme_params),window.Telegram.WebApp.MainButton.setParams({}),On(),N("themeChanged"))}var D=window.innerHeight;function S(k,V){V.height&&(window.removeEventListener("resize",g),he(V))}function g(k){D!=window.innerHeight&&(D=window.innerHeight,N("viewportChanged",{isStateStable:!0}))}function _(k){if(!(k.metaKey||k.ctrlKey)){for(var V=k.target;V.tagName!="A"&&V.parentNode;)V=V.parentNode;V.tagName=="A"&&V.target!="_blank"&&(V.protocol=="http:"||V.protocol=="https:")&&V.hostname=="t.me"&&(i.openTgLink(V.href),k.preventDefault())}}function x(k){return k.toString().replace(/^\s+|\s+$/g,"")}function N(k){var V=Array.prototype.slice.call(arguments);k=V.shift(),e.callEventCallbacks("webview:"+k,function(F){F.apply(i,V)})}function M(k,V){e.onEvent("webview:"+k,V)}function v(k,V){e.offEvent("webview:"+k,V)}function y(k,V){var F=document.documentElement;F&&F.style&&F.style.setProperty&&F.style.setProperty("--tg-"+k,V)}function I(k){k.bg_color=="#1c1c1d"&&k.bg_color==k.secondary_bg_color&&(k.secondary_bg_color="#2c2c2e");var V;for(var F in k)(V=Nt(k[F]))&&(a[F]=V,F=="bg_color"&&(u=Ot(V)?"dark":"light",y("color-scheme",u)),F="theme-"+F.split("_").join("-"),y(F,V));t.sessionStorageSet("themeParams",a)}var b={};function P(k){for(var V=100;--V;){for(var F="",K="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",ne=K.length,pe=0;pe<k;pe++)F+=K[Math.floor(Math.random()*ne)];if(!b[F])return b[F]={},F}throw Error("WebAppCallbackIdGenerateFailed")}var R=!1,T=!1,re=!0;function he(k){typeof k<"u"&&(re=!!k.is_expanded,R=k.height,k.is_state_stable&&(T=k.height),N("viewportChanged",{isStateStable:!!k.is_state_stable}));var V,F;R!==!1?V=R-ct+"px":V=ct?"calc(100vh - "+ct+"px)":"100vh",T!==!1?F=T-ct+"px":F=ct?"calc(100vh - "+ct+"px)":"100vh",y("viewport-height",V),y("viewport-stable-height",F)}var q=!1;function W(k){if(!Ie("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+c);return}q=!!k,e.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:q})}var O="bg_color",U=null;function Q(){return O=="secondary_bg_color"?a.secondary_bg_color:O=="bg_color"?a.bg_color:U}function Y(k){if(!Ie("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+c);return}Ie("6.9")||(a.bg_color&&a.bg_color==k?k="bg_color":a.secondary_bg_color&&a.secondary_bg_color==k&&(k="secondary_bg_color"));var V=null,F=null;if(k=="bg_color"||k=="secondary_bg_color")F=k;else if(Ie("6.9")&&(V=Nt(k),!V))throw console.error("[Telegram.WebApp] Header color format is invalid",k),Error("WebAppHeaderColorInvalid");if(!Ie("6.9")&&F!="bg_color"&&F!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",k),Error("WebAppHeaderColorKeyInvalid");O=F,U=V,we()}var Z=null,de=null;function we(){(Z!=O||de!=U)&&(Z=O,de=U,de?e.postEvent("web_app_set_header_color",!1,{color:U}):e.postEvent("web_app_set_header_color",!1,{color_key:O}))}var Ne="bg_color";function ze(){return Ne=="secondary_bg_color"?a.secondary_bg_color:Ne=="bg_color"?a.bg_color:Ne}function Oe(k){if(!Ie("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+c);return}var V;if(k=="bg_color"||k=="secondary_bg_color")V=k;else if(V=Nt(k),!V)throw console.error("[Telegram.WebApp] Background color format is invalid",k),Error("WebAppBackgroundColorInvalid");Ne=V,On()}var Jn=null;function On(){var k=ze();Jn!=k&&(Jn=k,e.postEvent("web_app_set_background_color",!1,{color:k}))}function Nt(k){k+="";var V;if(V=/^\s*#([0-9a-f]{6})\s*$/i.exec(k))return"#"+V[1].toLowerCase();if(V=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(k))return("#"+V[1]+V[1]+V[2]+V[2]+V[3]+V[3]).toLowerCase();if(V=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(k)){var F=parseInt(V[1]),K=parseInt(V[2]),ne=parseInt(V[3]);return F=(F<16?"0":"")+F.toString(16),K=(K<16?"0":"")+K.toString(16),ne=(ne<16?"0":"")+ne.toString(16),"#"+F+K+ne}return!1}function Ot(k){k=k.replace(/[\s#]/g,""),k.length==3&&(k=k[0]+k[0]+k[1]+k[1]+k[2]+k[2]);var V=parseInt(k.substr(0,2),16),F=parseInt(k.substr(2,2),16),K=parseInt(k.substr(4,2),16),ne=Math.sqrt(.299*(V*V)+.587*(F*F)+.114*(K*K));return ne<120}function Zn(k,V){typeof k!="string"&&(k=""),typeof V!="string"&&(V=""),k=k.replace(/^\s+|\s+$/g,"").split("."),V=V.replace(/^\s+|\s+$/g,"").split(".");var F=Math.max(k.length,V.length),K,ne,pe;for(K=0;K<F;K++)if(ne=parseInt(k[K])||0,pe=parseInt(V[K])||0,ne!=pe)return ne>pe?1:-1;return 0}function Ie(k){return Zn(c,k)>=0}function Mn(k){if(window.Blob)try{return new Blob([k]).size}catch{}for(var V=k.length,F=k.length-1;F>=0;F--){var K=k.charCodeAt(F);K>127&&K<=2047?V++:K>2047&&K<=65535&&(V+=2),K>=56320&&K<=57343&&F--}return V}var At=function(){var k=!1,V={};Object.defineProperty(V,"isVisible",{set:function(le){ye({is_visible:le})},get:function(){return k},enumerable:!0});var F=null;e.onEvent("back_button_pressed",K);function K(){N("backButtonClicked")}function ne(){return{is_visible:k}}function pe(le){return typeof le>"u"&&(le=ne()),JSON.stringify(le)}function ae(){return Ie("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+c),!1)}function Ve(){var le=ne(),Ue=pe(le);F!==Ue&&(F=Ue,e.postEvent("web_app_setup_back_button",!1,le))}function ye(le){return ae()&&(typeof le.is_visible<"u"&&(k=!!le.is_visible),Ve()),V}return V.onClick=function(le){return ae()&&M("backButtonClicked",le),V},V.offClick=function(le){return ae()&&v("backButtonClicked",le),V},V.show=function(){return ye({is_visible:!0})},V.hide=function(){return ye({is_visible:!1})},V}(),ct=0,Ln=function(){var k=!1,V=!0,F=!1,K="CONTINUE",ne=!1,pe=!1,ae={};Object.defineProperty(ae,"text",{set:function(se){ae.setParams({text:se})},get:function(){return K},enumerable:!0}),Object.defineProperty(ae,"color",{set:function(se){ae.setParams({color:se})},get:function(){return ne||a.button_color||"#2481cc"},enumerable:!0}),Object.defineProperty(ae,"textColor",{set:function(se){ae.setParams({text_color:se})},get:function(){return pe||a.button_text_color||"#ffffff"},enumerable:!0}),Object.defineProperty(ae,"isVisible",{set:function(se){ae.setParams({is_visible:se})},get:function(){return k},enumerable:!0}),Object.defineProperty(ae,"isProgressVisible",{get:function(){return F},enumerable:!0}),Object.defineProperty(ae,"isActive",{set:function(se){ae.setParams({is_active:se})},get:function(){return V},enumerable:!0});var Ve=null;e.onEvent("main_button_pressed",Sn);var ye=null,le={};if(n.tgWebAppDebug){ye=document.createElement("tg-main-button"),le={font:"600 14px/18px sans-serif",display:"none",width:"100%",height:"48px",borderRadius:"0",background:"no-repeat right center",position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"15px 20px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var Ue in le)ye.style[Ue]=le[Ue];document.addEventListener("DOMContentLoaded",function se(Jt){document.removeEventListener("DOMContentLoaded",se),document.body.appendChild(ye),ye.addEventListener("click",Sn,!1)})}function Sn(){V&&N("mainButtonClicked")}function $e(){var se=ae.color,Jt=ae.textColor;return k?{is_visible:!0,is_active:V,is_progress_visible:F,text:K,color:se,text_color:Jt}:{is_visible:!1}}function ht(se){return typeof se>"u"&&(se=$e()),JSON.stringify(se)}function Me(){var se=$e(),Jt=ht(se);Ve!==Jt&&(Ve=Jt,e.postEvent("web_app_setup_main_button",!1,se),n.tgWebAppDebug&&Yt(se))}function Yt(se){se.is_visible?(ye.style.display="block",ct=48,ye.style.opacity=se.is_active?"1":"0.8",ye.style.cursor=se.is_active?"pointer":"auto",ye.disabled=!se.is_active,ye.innerText=se.text,ye.style.backgroundImage=se.is_progress_visible?"url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewport%3D%220%200%2048%2048%22%20width%3D%2248px%22%20height%3D%2248px%22%3E%3Ccircle%20cx%3D%2250%25%22%20cy%3D%2250%25%22%20stroke%3D%22%23fff%22%20stroke-width%3D%222.25%22%20stroke-linecap%3D%22round%22%20fill%3D%22none%22%20stroke-dashoffset%3D%22106%22%20r%3D%229%22%20stroke-dasharray%3D%2256.52%22%20rotate%3D%22-90%22%3E%3Canimate%20attributeName%3D%22stroke-dashoffset%22%20attributeType%3D%22XML%22%20dur%3D%22360s%22%20from%3D%220%22%20to%3D%2212500%22%20repeatCount%3D%22indefinite%22%3E%3C%2Fanimate%3E%3CanimateTransform%20attributeName%3D%22transform%22%20attributeType%3D%22XML%22%20type%3D%22rotate%22%20dur%3D%221s%22%20from%3D%22-90%2024%2024%22%20to%3D%22630%2024%2024%22%20repeatCount%3D%22indefinite%22%3E%3C%2FanimateTransform%3E%3C%2Fcircle%3E%3C%2Fsvg%3E')":"none",ye.style.backgroundColor=se.color,ye.style.color=se.text_color):(ye.style.display="none",ct=0),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=ct+"px"),he()}function Bn(se){if(typeof se.text<"u"){var Jt=x(se.text);if(!Jt.length)throw console.error("[Telegram.WebApp] Main button text is required",se.text),Error("WebAppMainButtonParamInvalid");if(Jt.length>64)throw console.error("[Telegram.WebApp] Main button text is too long",Jt),Error("WebAppMainButtonParamInvalid");K=Jt}if(typeof se.color<"u")if(se.color===!1||se.color===null)ne=!1;else{var Zr=Nt(se.color);if(!Zr)throw console.error("[Telegram.WebApp] Main button color format is invalid",se.color),Error("WebAppMainButtonParamInvalid");ne=Zr}if(typeof se.text_color<"u")if(se.text_color===!1||se.text_color===null)pe=!1;else{var $n=Nt(se.text_color);if(!$n)throw console.error("[Telegram.WebApp] Main button text color format is invalid",se.text_color),Error("WebAppMainButtonParamInvalid");pe=$n}if(typeof se.is_visible<"u"){if(se.is_visible&&!ae.text.length)throw console.error("[Telegram.WebApp] Main button text is required"),Error("WebAppMainButtonParamInvalid");k=!!se.is_visible}return typeof se.is_active<"u"&&(V=!!se.is_active),Me(),ae}return ae.setText=function(se){return ae.setParams({text:se})},ae.onClick=function(se){return M("mainButtonClicked",se),ae},ae.offClick=function(se){return v("mainButtonClicked",se),ae},ae.show=function(){return ae.setParams({is_visible:!0})},ae.hide=function(){return ae.setParams({is_visible:!1})},ae.enable=function(){return ae.setParams({is_active:!0})},ae.disable=function(){return ae.setParams({is_active:!1})},ae.showProgress=function(se){return V=!!se,F=!0,Me(),ae},ae.hideProgress=function(){return ae.isActive||(V=!0),F=!1,Me(),ae},ae.setParams=Bn,ae}(),_n=function(){var k=!1,V={};Object.defineProperty(V,"isVisible",{set:function(le){ye({is_visible:le})},get:function(){return k},enumerable:!0});var F=null;e.onEvent("settings_button_pressed",K);function K(){N("settingsButtonClicked")}function ne(){return{is_visible:k}}function pe(le){return typeof le>"u"&&(le=ne()),JSON.stringify(le)}function ae(){return Ie("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+c),!1)}function Ve(){var le=ne(),Ue=pe(le);F!==Ue&&(F=Ue,e.postEvent("web_app_setup_settings_button",!1,le))}function ye(le){return ae()&&(typeof le.is_visible<"u"&&(k=!!le.is_visible),Ve()),V}return V.onClick=function(le){return ae()&&M("settingsButtonClicked",le),V},V.offClick=function(le){return ae()&&v("settingsButtonClicked",le),V},V.show=function(){return ye({is_visible:!0})},V.hide=function(){return ye({is_visible:!1})},V}(),it=function(){var k={};function V(F){if(!Ie("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+c),k;if(F.type=="impact"){if(F.impact_style!="light"&&F.impact_style!="medium"&&F.impact_style!="heavy"&&F.impact_style!="rigid"&&F.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",F.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(F.type=="notification"){if(F.notification_type!="error"&&F.notification_type!="success"&&F.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",F.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(F.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",F.type),Error("WebAppHapticFeedbackTypeInvalid");return e.postEvent("web_app_trigger_haptic_feedback",!1,F),k}return k.impactOccurred=function(F){return V({type:"impact",impact_style:F})},k.notificationOccurred=function(F){return V({type:"notification",notification_type:F})},k.selectionChanged=function(){return V({type:"selection_change"})},k}(),qe=function(){var k={};function V(F,K,ne){if(!Ie("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+c),Error("WebAppMethodUnsupported");return Cr(F,K,ne),k}return k.setItem=function(F,K,ne){return V("saveStorageValue",{key:F,value:K},ne)},k.getItem=function(F,K){return k.getItems([F],K?function(ne,pe){ne?K(ne):K(null,pe[F])}:null)},k.getItems=function(F,K){return V("getStorageValues",{keys:F},K)},k.removeItem=function(F,K){return k.removeItems([F],K)},k.removeItems=function(F,K){return V("deleteStorageValues",{keys:F},K)},k.getKeys=function(F){return V("getStorageKeys",{},F)},k}(),ot={};function wn(k,V){if(V.slug&&ot[V.slug]){var F=ot[V.slug];delete ot[V.slug],F.callback&&F.callback(V.status),N("invoiceClosed",{url:F.url,status:V.status})}}var un=!1;function pr(k,V){if(un){var F=un;un=!1;var K=null;typeof V.button_id<"u"&&(K=V.button_id),F.callback&&F.callback(K),N("popupClosed",{button_id:K})}}var Ut=!1;function Ee(k,V){if(Ut){var F=Ut,K=null;typeof V.data<"u"&&(K=V.data),F.callback&&F.callback(K)&&(Ut=!1,e.postEvent("web_app_close_scan_qr_popup",!1)),N("qrTextReceived",{data:K})}}function ke(k,V){Ut=!1}function Fn(k,V){if(V.req_id&&b[V.req_id]){var F=b[V.req_id];delete b[V.req_id];var K=null;typeof V.data<"u"&&(K=V.data),F.callback&&F.callback(K),N("clipboardTextReceived",{data:K})}}var mr=!1;function es(k,V){if(mr){var F=mr;mr=!1,F.callback&&F.callback(V.status=="allowed"),N("writeAccessRequested",{status:V.status})}}function xa(k,V){var F,K,ne=0,pe=function(){Cr("getRequestedContact",{},function(Ve,ye){ye&&ye.length?(clearTimeout(K),k(ye)):(ne+=50,F=setTimeout(pe,ne))})},ae=function(){clearTimeout(F),k("")};K=setTimeout(ae,V),pe()}var En=!1;function ts(k,V){if(En){var F=En;En=!1;var K=V.status=="sent",ne={status:V.status};K?xa(function(pe){if(pe&&pe.length){ne.response=pe,ne.responseUnsafe=t.urlParseQueryString(pe);for(var ae in ne.responseUnsafe){var Ve=ne.responseUnsafe[ae];try{(Ve.substr(0,1)=="{"&&Ve.substr(-1)=="}"||Ve.substr(0,1)=="["&&Ve.substr(-1)=="]")&&(ne.responseUnsafe[ae]=JSON.parse(Ve))}catch{}}}F.callback&&F.callback(K,ne),N("contactRequested",ne)},3e3):(F.callback&&F.callback(K,ne),N("contactRequested",ne))}}function ns(k,V){if(V.req_id&&b[V.req_id]){var F=b[V.req_id];delete b[V.req_id];var K=null,ne=null;typeof V.result<"u"&&(K=V.result),typeof V.error<"u"&&(ne=V.error),F.callback&&F.callback(ne,K)}}function Cr(k,V,F){if(!Ie("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+c),Error("WebAppMethodUnsupported");var K=P(16),ne={req_id:K,method:k,params:V||{}};b[K]={callback:F},e.postEvent("web_app_invoke_custom_method",!1,ne)}window.Telegram||(window.Telegram={}),Object.defineProperty(i,"initData",{get:function(){return o},enumerable:!0}),Object.defineProperty(i,"initDataUnsafe",{get:function(){return s},enumerable:!0}),Object.defineProperty(i,"version",{get:function(){return c},enumerable:!0}),Object.defineProperty(i,"platform",{get:function(){return h},enumerable:!0}),Object.defineProperty(i,"colorScheme",{get:function(){return u},enumerable:!0}),Object.defineProperty(i,"themeParams",{get:function(){return a},enumerable:!0}),Object.defineProperty(i,"isExpanded",{get:function(){return re},enumerable:!0}),Object.defineProperty(i,"viewportHeight",{get:function(){return(R===!1?window.innerHeight:R)-ct},enumerable:!0}),Object.defineProperty(i,"viewportStableHeight",{get:function(){return(T===!1?window.innerHeight:T)-ct},enumerable:!0}),Object.defineProperty(i,"isClosingConfirmationEnabled",{set:function(k){W(k)},get:function(){return q},enumerable:!0}),Object.defineProperty(i,"headerColor",{set:function(k){Y(k)},get:function(){return Q()},enumerable:!0}),Object.defineProperty(i,"backgroundColor",{set:function(k){Oe(k)},get:function(){return ze()},enumerable:!0}),Object.defineProperty(i,"BackButton",{value:At,enumerable:!0}),Object.defineProperty(i,"MainButton",{value:Ln,enumerable:!0}),Object.defineProperty(i,"SettingsButton",{value:_n,enumerable:!0}),Object.defineProperty(i,"HapticFeedback",{value:it,enumerable:!0}),Object.defineProperty(i,"CloudStorage",{value:qe,enumerable:!0}),i.setHeaderColor=function(k){i.headerColor=k},i.setBackgroundColor=function(k){i.backgroundColor=k},i.enableClosingConfirmation=function(){i.isClosingConfirmationEnabled=!0},i.disableClosingConfirmation=function(){i.isClosingConfirmationEnabled=!1},i.isVersionAtLeast=function(k){return Ie(k)},i.onEvent=function(k,V){M(k,V)},i.offEvent=function(k,V){v(k,V)},i.sendData=function(k){if(!k||!k.length)throw console.error("[Telegram.WebApp] Data is required",k),Error("WebAppDataInvalid");if(Mn(k)>4096)throw console.error("[Telegram.WebApp] Data is too long",k),Error("WebAppDataInvalid");e.postEvent("web_app_data_send",!1,{data:k})},i.switchInlineQuery=function(k,V){if(!Ie("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+c),Error("WebAppMethodUnsupported");if(!n.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(k=k||"",k.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",k),Error("WebAppInlineQueryInvalid");var F=[];if(V){if(!Array.isArray(V))throw console.error("[Telegram.WebApp] Choose chat types should be an array",V),Error("WebAppInlineChooseChatTypesInvalid");for(var K={users:1,bots:1,groups:1,channels:1},ne=0;ne<V.length;ne++){var pe=V[ne];if(!K[pe])throw console.error("[Telegram.WebApp] Choose chat type is invalid",pe),Error("WebAppInlineChooseChatTypeInvalid");K[pe]!=2&&(K[pe]=2,F.push(pe))}}e.postEvent("web_app_switch_inline_query",!1,{query:k,chat_types:F})},i.openLink=function(K,V){var F=document.createElement("A");if(F.href=K,F.protocol!="http:"&&F.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",K),Error("WebAppTgUrlInvalid");var K=F.href;V=V||{},Ie("6.1")?e.postEvent("web_app_open_link",!1,{url:K,try_instant_view:Ie("6.4")&&!!V.try_instant_view}):window.open(K,"_blank")},i.openTelegramLink=function(k){var V=document.createElement("A");if(V.href=k,V.protocol!="http:"&&V.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",k),Error("WebAppTgUrlInvalid");if(V.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",k),Error("WebAppTgUrlInvalid");var F=V.pathname+V.search;r||Ie("6.1")?e.postEvent("web_app_open_tg_link",!1,{path_full:F}):location.href="https://t.me"+F},i.openInvoice=function(k,V){var F=document.createElement("A"),K,ne;if(F.href=k,F.protocol!="http:"&&F.protocol!="https:"||F.hostname!="t.me"||!(K=F.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(ne=K[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",k),Error("WebAppInvoiceUrlInvalid");if(!Ie("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+c),Error("WebAppMethodUnsupported");if(ot[ne])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");ot[ne]={url:k,callback:V},e.postEvent("web_app_open_invoice",!1,{slug:ne})},i.showPopup=function(k,V){if(!Ie("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+c),Error("WebAppMethodUnsupported");if(un)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var F="",K="",ne=[],pe={};if(typeof k.title<"u"){if(F=x(k.title),F.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",F),Error("WebAppPopupParamInvalid");F.length>0&&(pe.title=F)}if(typeof k.message<"u"&&(K=x(k.message)),!K.length)throw console.error("[Telegram.WebApp] Popup message is required",k.message),Error("WebAppPopupParamInvalid");if(K.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",K),Error("WebAppPopupParamInvalid");if(pe.message=K,typeof k.buttons<"u"){if(!Array.isArray(k.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",k.buttons),Error("WebAppPopupParamInvalid");for(var ae=0;ae<k.buttons.length;ae++){var Ve=k.buttons[ae],ye={},le="";if(typeof Ve.id<"u"&&(le=Ve.id.toString(),le.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",le),Error("WebAppPopupParamInvalid");ye.id=le;var Ue=Ve.type;if(typeof Ue>"u"&&(Ue="default"),ye.type=Ue,!(Ue=="ok"||Ue=="close"||Ue=="cancel"))if(Ue=="default"||Ue=="destructive"){var Sn="";if(typeof Ve.text<"u"&&(Sn=x(Ve.text)),!Sn.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+Ue,Ve.text),Error("WebAppPopupParamInvalid");if(Sn.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",Sn),Error("WebAppPopupParamInvalid");ye.text=Sn}else throw console.error("[Telegram.WebApp] Popup button type is invalid",Ue),Error("WebAppPopupParamInvalid");ne.push(ye)}}else ne.push({id:"",type:"close"});if(ne.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(ne.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");pe.buttons=ne,un={callback:V},e.postEvent("web_app_open_popup",!1,pe)},i.showAlert=function(k,V){i.showPopup({message:k},V?function(){V()}:null)},i.showConfirm=function(k,V){i.showPopup({message:k,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},V?function(F){V(F=="ok")}:null)},i.showScanQrPopup=function(k,V){if(!Ie("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+c),Error("WebAppMethodUnsupported");if(Ut)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var F="",K={};if(typeof k.text<"u"){if(F=x(k.text),F.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",F),Error("WebAppScanQrPopupParamInvalid");F.length>0&&(K.text=F)}Ut={callback:V},e.postEvent("web_app_open_scan_qr_popup",!1,K)},i.closeScanQrPopup=function(){if(!Ie("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+c),Error("WebAppMethodUnsupported");Ut=!1,e.postEvent("web_app_close_scan_qr_popup",!1)},i.readTextFromClipboard=function(k){if(!Ie("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+c),Error("WebAppMethodUnsupported");var V=P(16),F={req_id:V};b[V]={callback:k},e.postEvent("web_app_read_text_from_clipboard",!1,F)},i.requestWriteAccess=function(k){if(!Ie("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+c),Error("WebAppMethodUnsupported");if(mr)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");mr={callback:k},e.postEvent("web_app_request_write_access")},i.requestContact=function(k){if(!Ie("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+c),Error("WebAppMethodUnsupported");if(En)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");En={callback:k},e.postEvent("web_app_request_phone")},i.invokeCustomMethod=function(k,V,F){Cr(k,V,F)},i.ready=function(){e.postEvent("web_app_ready")},i.expand=function(){e.postEvent("web_app_expand")},i.close=function(){e.postEvent("web_app_close")},window.Telegram.WebApp=i,we(),On(),he(),n.tgWebAppShowSettings&&_n.show(),window.addEventListener("resize",g),r&&document.addEventListener("click",_),e.onEvent("theme_changed",C),e.onEvent("viewport_changed",S),e.onEvent("invoice_closed",wn),e.onEvent("popup_closed",pr),e.onEvent("qr_text_received",Ee),e.onEvent("scan_qr_popup_closed",ke),e.onEvent("clipboard_text_received",Fn),e.onEvent("write_access_requested",es),e.onEvent("phone_requested",ts),e.onEvent("custom_method_invoked",ns),e.postEvent("web_app_request_theme"),e.postEvent("web_app_request_viewport")})();Object.defineProperty(Hd,"__esModule",{value:!0});Hd.WebApp=void 0;var rF=window;Hd.WebApp=rF.Telegram.WebApp;Object.defineProperty(aC,"__esModule",{value:!0});var iF=Hd,oF=aC.default=iF.WebApp;oF.ready();lp.createRoot(document.getElementById("root")).render(Je.jsx(ve.StrictMode,{children:Je.jsx(nF,{})}));
